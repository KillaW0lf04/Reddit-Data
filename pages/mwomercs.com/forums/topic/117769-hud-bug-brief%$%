<!DOCTYPE html>
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head>

		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">

		<title>MWO: Forums - Hud Bug Brief</title>

		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="image_src" href='http://static.mwomercs.com/img/MWO_logo256.png'>

		<script type='text/javascript'>
		//<![CDATA[
			jsDebug			= 0;
			USE_RTE			= 0;
			DISABLE_AJAX	= parseInt(0);
			inACP			= false;
			var isRTL		= false;
			var rtlIe		= '';
			var rtlFull		= '';
		//]]>
		</script>
		
		
	
				
			<link rel="stylesheet" type="text/css" title="Main" media="screen" href="https://static.mwomercs.com/forums/public/style_css/css_4/calendar_select.css?ipbv=32107" />
		
	

				
			<link rel="stylesheet" type="text/css" title="Main" media="screen,print" href="https://static.mwomercs.com/forums/public/style_css/css_4/ipb_common.css?ipbv=32107" />
		
	

				
			<link rel="stylesheet" type="text/css" title="Main" media="screen,print" href="https://static.mwomercs.com/forums/public/style_css/css_4/ipb_styles.css?ipbv=32107" />
		
	

				
			<link rel="stylesheet" type="text/css"  href="https://static.mwomercs.com/forums/public/style_css/prettify.css?ipbv=32107" />
		
	
	

<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" title='Main' media="screen" href="https://static.mwomercs.com/forums/public/style_css/css_4/ipb_ie.css" />
<![endif]-->
<!--[if lte IE 8]>
	<style type='text/css'>
		.ipb_table { table-layout: fixed; }
		.ipsLayout_content { width: 99.5%; }
	</style>
<![endif]-->

	<style type='text/css'>
		img.bbc_img { max-width: 100% !important; }
	</style>



		<!-- This is main Style! // -->

		
	
		<meta name="keywords" content="Hud,Bug,Brief,Hey,everyone,With,HUD,bug,hotfix,coming,soon,Ive,asked,provide,write,found,explain,bit" />
		
	

		<meta name="description" content="Hey everyone,   With the HUD bug hotfix coming out soon, I&#8217;ve been asked to provide a write up about what we found, and explain a bit about why..." />
		
	

		<meta name="identifier-url" content="http://mwomercs.com/forums/topic/117769-hud-bug-brief/" />
		
			<meta name="og:url" content="http://mwomercs.com/forums/topic/117769-hud-bug-brief/" />
		
	

		
		<meta property="og:title" content="Hud Bug Brief"/>
		<meta property="og:site_name" content="MechWarrior Online"/>
		<meta property="og:image" content="http://static.mwomercs.com/img/MWO_logo256.png"/>
		<meta property="og:type" content="article" />
		
		

		<script type="text/javascript" src="//static.mwomercs.com/js/mwo.2.header.js"></script>

		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js'></script>
	<script type='text/javascript' src='https://static.mwomercs.com/forums/public/js/ipb.js?ipbv=32005&amp;load=quickpm,hovercard,sharelinks,topic,rating,like'></script>
	<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>
	<script type="text/javascript" src='http://mwomercs.com/forums/cache/lang_cache/1/ipb.lang.js' charset='UTF-8'></script>

	
		
			
			
			
			
				<link id="ipsCanonical" rel="canonical" href="http://mwomercs.com/forums/topic/117769-hud-bug-brief/" />
			
		

			
			
			
			
				<link rel='stylesheet' type='text/css' title='Main' media='print' href='https://static.mwomercs.com/forums/public/style_css/css_4/ipb_print.css' />
			
		

			
			
			
			
				<link rel='up' href='http://mwomercs.com/forums/forum/102-command-chair/' />
			
		

			
			
			
			
				<link rel='author' href='http://mwomercs.com/forums/user/167-karl-berg/' />
			
		
	

		
			
			
				<link rel="alternate" type="application/rss+xml" title="Popular Topics" href="http://mwomercs.com/forums/rss/forums/1-popular-topics/" />
			
			
			
		
	

	


		
		<script type='text/javascript'>
	//<![CDATA[
		/* ---- URLs ---- */
		ipb.vars['base_url'] 			= 'http://mwomercs.com/forums/index.php?s=e32930d1604d298002673ec9725968d1&';
		ipb.vars['board_url']			= 'http://mwomercs.com/forums';
		ipb.vars['img_url'] 			= "https://static.mwomercs.com/forums/public/style_images/master";
		ipb.vars['loading_img'] 		= 'https://static.mwomercs.com/forums/public/style_images/master/loading.gif';
		ipb.vars['active_app']			= 'forums';
		ipb.vars['upload_url']			= 'http://mwomercs.com/forums/uploads';
		/* ---- Member ---- */
		ipb.vars['member_id']			= parseInt( 0 );
		ipb.vars['is_supmod']			= parseInt( 0 );
		ipb.vars['is_admin']			= parseInt( 0 );
		ipb.vars['secure_hash'] 		= '880ea6a14ea49e853634fbdc5015a024';
		ipb.vars['session_id']			= 'e32930d1604d298002673ec9725968d1';
		ipb.vars['twitter_id']			= 0;
		ipb.vars['fb_uid']				= 0;
		ipb.vars['auto_dst']			= parseInt( 0 );
		ipb.vars['dst_in_use']			= parseInt(  );
		ipb.vars['is_touch']			= false;
		ipb.vars['member_group']		= {"g_mem_info":"1"}
		/* ---- cookies ----- */
		ipb.vars['cookie_id'] 			= '';
		ipb.vars['cookie_domain'] 		= 'mwomercs.com';
		ipb.vars['cookie_path']			= '/forums/';
		/* ---- Rate imgs ---- */
		ipb.vars['rate_img_on']			= 'https://static.mwomercs.com/forums/public/style_images/master/star.png';
		ipb.vars['rate_img_off']		= 'https://static.mwomercs.com/forums/public/style_images/master/star_off.png';
		ipb.vars['rate_img_rated']		= 'https://static.mwomercs.com/forums/public/style_images/master/star_rated.png';
		/* ---- Uploads ---- */
		ipb.vars['swfupload_swf']		= 'http://mwomercs.com/forums/public/js/3rd_party/swfupload/swfupload.swf';
		ipb.vars['swfupload_enabled']	= false;
		ipb.vars['use_swf_upload']		= ( '' == 'flash' ) ? true : false;
		ipb.vars['swfupload_debug']		= false;
		/* ---- other ---- */
		ipb.vars['highlight_color']     = "#ade57a";
		ipb.vars['charset']				= "UTF-8";
		ipb.vars['seo_enabled']			= 1;
		
		ipb.vars['seo_params']			= {"start":"-","end":"\/","varBlock":"\/page__","varSep":"__"};
		
		/* Templates/Language */
		ipb.templates['inlineMsg']		= "";
		ipb.templates['ajax_loading'] 	= "<div id='ajax_loading'><img src='https://static.mwomercs.com/forums/public/style_images/master/ajax_loading.gif' alt='" + ipb.lang['loading'] + "' /></div>";
		ipb.templates['close_popup']	= "<img src='https://static.mwomercs.com/forums/public/style_images/master/close_popup.png' alt='x' />";
		ipb.templates['rss_shell']		= new Template("<ul id='rss_menu' class='ipbmenu_content'>#{items}</ul>");
		ipb.templates['rss_item']		= new Template("<li><a href='#{url}' title='#{title}'>#{title}</a></li>");
		ipb.templates['m_add_friend']	= new Template("<a href='http://mwomercs.com/forums/index.php?app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id=#{id}' title='Add as Friend' class='ipsButton_secondary'><img src='https://static.mwomercs.com/forums/public/style_images/master/user_add.png' alt='Add as Friend' /></a>");
		ipb.templates['m_rem_friend']	= new Template("<a href='http://mwomercs.com/forums/index.php?app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id=#{id}' title='Remove Friend' class='ipsButton_secondary'><img src='https://static.mwomercs.com/forums/public/style_images/master/user_delete.png' alt='Remove Friend' /></a>");
		ipb.templates['autocomplete_wrap'] = new Template("<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>");
		ipb.templates['autocomplete_item'] = new Template("<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' class='ipsUserPhoto ipsUserPhoto_mini' />&nbsp;&nbsp;#{itemvalue}</li>");
		ipb.templates['page_jump']		= new Template("<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>Jump to page</h3><p class='ipsPad'><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='Go' class='input_submit add_folder' id='#{id}_submit' /></p></div>");
		ipb.templates['global_notify'] 	= new Template("<div class='popupWrapper'><div class='popupInner'><div class='ipsPad'>#{message} #{close}</div></div></div>");
		
		
		ipb.templates['header_menu'] 	= new Template("<div id='#{id}' class='ipsHeaderMenu boxShadow'></div>");
		
		Loader.boot();
	//]]>
	</script>

		<link rel="stylesheet" href="//static.mwomercs.com/css/mwo.2.css" type="text/css" media="screen">
		<link rel="stylesheet" href="//mwomercs.com/static/css/lang.en_us.1.css" type="text/css" media="screen">
	
		<script> void('header'); </script>

		<style>
		.Staff,
		.Staff_Moderator,
		.Light_Admin,
		.Administrators
		{
			border-collapse: collapse;
			border: 4px solid #003D3D;
			background-color: #001E1E;
		}

		.Staff .post_body .post, .Staff .post_body .post p, .Staff .post_body .post ul li,
		.Staff_Moderator .post_body .post, .Staff_Moderator .post_body .post p, .Staff_Moderator .post_body .post ul li,
		.Light_Admin .post_body .post, .Light_Admin .post_body .post p, .Light_Admin .post_body .post ul li,
		.Administrators .post_body .post, .Administrators .post_body .post p, .Administrators .post_body .post ul li
		{
			color: #00FFFF !important;
		}
		</style>
	</head>
	
	<body id='ipboard_body'>

                <script>dataLayer = [{'uidh':'guest'}];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-W57652" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W57652');</script>
	
		<p id='content_jump' class='hide'><a id='top'></a><a href='#j_content' title='Jump to content' accesskey='m'>Jump to content</a></p>

<!--included content-->
		
		<script type="text/javascript">var statusLangString = ['OFFLINE', 'MAINTENANCE', 'ONLINE'];</script>
		<nav id="topMenu" class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<ul class="nav pull-right">
						<li class="mainMenuTiny mainMenuTinyLogo" style="display: none;"><a href="/"><img src="//static.mwomercs.com/img/theme/squarelogo.png" width="32" height="32"></a></li>
						<li class="mainMenuTiny" style="display: none;"><a href="/game">GAME</a></li>
						<li class="mainMenuTiny" style="display: none;"><a href="/media">MEDIA</a></li>
						<li class="mainMenuTiny" style="display: none;"><a href="/forums">FORUMS</a></li>
						<li class="mainMenuTiny" style="display: none;"><a href="/community">COMMUNITY</a></li>
						<li class="mainMenuTiny" style="display: none;"><a href="/support">SUPPORT</a></li>
												<li style="border-right: 1px solid #666;"><a href="/redeem" style="padding: 10px 6px;">REDEEM</a></li>
						<li id="serverStatus" style="border-left: none;"><a href="/status" rel="tooltip" title="" data-html="false" data-placement="bottom" data-trigger="hover" data-delay="1000">&nbsp;</a></li>
						<li style="max-height: 40px;"><a><img src="//static.mwomercs.com/img/theme/social/header_facebook_off.png" width="9" height="18" class="socialIcon hoverIMG" alt="facebook">&nbsp;&nbsp;&nbsp;<img src="//static.mwomercs.com/img/theme/social/header_twitter_off.png" width="20" height="14" class="socialIcon hoverIMG" alt="twitter">&nbsp;&nbsp;&nbsp;<img src="//static.mwomercs.com/img/theme/social/header_youtube_off.png" width="16" height="19" class="socialIcon hoverIMG" alt="youtube"></a></li>
						<li><a href="/login?return=/forums/topic/117769-hud-bug-brief/">LOGIN</a></li>
						<li><a href="/signup">CREATE ACCOUNT</a></li>					</ul>
				</div>
			</div>
		</nav>

<!--/ included content-->
		
<!--included content-->
		<nav id="mainMenu" class="navbar navbar-inverse navbar-static-top">
			<div class="navbar-inner">
				<div class="container">
					<ul class="nav pull-right">
						<li><a href="/"><img src="//static.mwomercs.com/img/theme/mainMenuLogo.png" width="238" height="92"></a></li>
						<li><a href="/game">GAME</a></li>
						<li><a href="/media">MEDIA</a></li>
						<li><a href="/forums/">FORUMS</a></li>
						<li><a href="/community">COMMUNITY</a></li> 
						<li><a href="/support">SUPPORT</a></li>
						<li><a href="/signup?utm_source=mainMENU" style="background-image: url('//static.mwomercs.com/img/theme/blueButtonPattern.jpg'); color: #FFF;">PLAY FOR<BR>FREE</a></li>
						
					</ul>
				</div>
			</div>
		</nav>
<!--/ included content-->
	
		<nav id="subNav">
			<div class="container">
				<ul>
					<li><a href="/forums/forum/3-training-grounds/">TRAINING GROUNDS</a></li>
					<li><a href="/forums/forum/24-developers-corner/">DEVELOPERS&apos; CORNER</a></li>
					<li><a href="/forums/forum/6-mwo-universe/">MWO UNIVERSE</a></li>
					<li><a href="/forums/forum/84-support-feedback/">SUPPORT &amp; FEEDBACK</a></li>
					<li><a href="/forums/forum/7-off-topic/">OFF TOPIC</a></li>
				</ul>
			</div>
		</nav>

		<div id="stubPage">
		
			<div class="container">
				
				<div id="contentBody">

					
					
<!--included content-->
		<div id="breadcrumb_navigation">

			<form class="navbar-search pull-right" action="/search" method="get">
				<input type="text" class="search-query" placeholder="Search" name="q" value="">
			</form>
			<form id="cms_lang_edit_button" style="display: none;" class="navbar-search pull-right"
				action="/cms/langeditor"
				method="POST"
				target="_top"
				>
				<a class="btn btn-warning" href="#">
					<i class="icon-pencil icon-align-left icon-white"></i> Edit Lang</a>
				<input type="hidden" class="langEditables" name="langEditables">
				<input type="hidden" class="previewPage" name="previewPage">
				&nbsp;&nbsp;
			</form>
			<form id="cms_layout_edit_button" style="display: none;" class="navbar-search pull-right"
				 action="/cms/layouteditor"
				 method="POST"
				 target="_top"
				>
				<a class="btn btn-warning" href="#">
					<i class="icon-pencil icon-align-left icon-white"></i> Edit Layout</a>
				<input type="hidden" class="layoutEditables" name="layoutEditables">
				<input type="hidden" class="previewPage" name="previewPage">
				&nbsp;&nbsp;
			</form>
			<ul class="breadcrumb" itemprop="breadcrumb">
						
					<li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
						<a href="/" itemprop="url"><span itemprop="title">MWO</span></a>

						<span class="divider">/</span>
					</li>
					<li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
						<a href="/forums" itemprop="url"><span itemprop="title">FORUMS</span></a>							<span class="divider">/</span>					</li>
						<li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
						<a href="/forums/?showforum=24" itemprop="url"><span itemprop="title">DEVELOPERS' CORNER</span></a>							<span class="divider">/</span>					</li>
						<li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
						<a href="/forums/?showforum=102" itemprop="url"><span itemprop="title">COMMAND CHAIR</span></a>					</li>
	
				</ul>
						
		</div>


<!--/ included content-->

					<!-- ::: MAIN CONTENT AREA ::: -->
					<div id="forumContent">
						
						<div class="clear"></div>
						
						<!-- ::: CONTENT ::: -->
						



<script type="text/javascript">
//<![CDATA[
	ipb.topic.inSection = 'topicview';
	ipb.topic.topic_id  = 117769;
	ipb.topic.forum_id  = 102;
	ipb.topic.start_id  = 0;
	ipb.topic.topPid    = 0;
	ipb.topic.counts    = { postTotal: 1,
							curStart:  ipb.topic.start_id,
							perPage:   20 };
	//Search Setup
	ipb.vars['search_type']			= 'forum';
	ipb.vars['search_type_id']		= 102;
	ipb.vars['search_type_2']		= 'topic';
	ipb.vars['search_type_id_2']	= 117769;
	
	
	// Delete stuff set up
	ipb.topic.deleteUrls['hardDelete'] = new Template("http://mwomercs.com/forums/index.php?app=forums&amp;module=moderate&section=moderate&do=04&f=102&t=117769&st=&auth_key=880ea6a14ea49e853634fbdc5015a024&p=#{pid}");
	ipb.topic.deleteUrls['softDelete'] = new Template("http://mwomercs.com/forums/index.php?app=forums&module=moderate&section=moderate&do=postchoice&tact=sdelete&t=117769&f=102&auth_key=880ea6a14ea49e853634fbdc5015a024&selectedpids[#{pid}]=#{pid}&pid=#{pid}");
	
//]]>
</script>




<div class='__like right' data-app="forums" data-area="topics" data-relid="117769" data-isfave="">
	<span class='ipsButton_extra right _fmore clickable' title='1 member(s) follow this topic' data-tooltip="1 member(s) follow this topic"><img src='https://static.mwomercs.com/forums/public/style_images/master/icon_users.png' /> <strong>1</strong></span>

</div>
<script type="text/javascript">
	var FAVE_TEMPLATE = new Template( "<h3>Unfollow this topic</h3><div class='ipsPad'><span class='desc'>If you unfollow this topic you will no longer receive any notifications</span><br /><p class='ipsForm_center'><input type='button' value='Unfollow this topic' class='input_submit _funset' /></p></div>");
</script>
<a href='http://mwomercs.com/forums/user/167-karl-berg/' class='ipsUserPhotoLink'>
	<img src='//static.mwomercs.com/img/house/piranha.png' class='ipsUserPhoto ipsUserPhoto_medium left' />
</a>
<div class='ipsBox_withphoto'>
	<span class='rating ipsType_smaller'>
			
			
				<img src='https://static.mwomercs.com/forums/public/style_images/master/star.png' alt='*' class='rate_img' />
			
			
			
				<img src='https://static.mwomercs.com/forums/public/style_images/master/star.png' alt='*' class='rate_img' />
			
			
			
				<img src='https://static.mwomercs.com/forums/public/style_images/master/star.png' alt='*' class='rate_img' />
			
			
			
				<img src='https://static.mwomercs.com/forums/public/style_images/master/star.png' alt='*' class='rate_img' />
			
			
			
				<img src='https://static.mwomercs.com/forums/public/style_images/master/star.png' alt='*' class='rate_img' />
			
			
			<span id='rating_text'>
				<span id='rating_hits'>2 votes</span>
			</span>
			
		</span>
	<h1 class='ipsType_pagetitle'>
		Hud Bug Brief
	</h1>
	<div class='desc lighter blend_links'>
		 Started by <a href='http://mwomercs.com/forums/user/167-karl-berg/' title="View Profile">Karl Berg</a>, May 14 2013 09:56 AM
	</div>
	
		<a class='ipsTag' href="http://mwomercs.com/forums/index.php?app=core&amp;module=search&amp;do=search&amp;search_tags=HUD&amp;search_app=forums" data-tooltip="Find more content tagged 'HUD'">HUD</a> <a class='ipsTag' href="http://mwomercs.com/forums/index.php?app=core&amp;module=search&amp;do=search&amp;search_tags=bugs&amp;search_app=forums" data-tooltip="Find more content tagged 'bugs'">bugs</a>
		<br />
	
</div>

<br />
<div class='topic_controls'>
	
	<ul class='topic_buttons'>
		
					<li class='disabled'><span>You cannot reply to this topic</span></li>
				
		
			<li class='non_button'><a href='http://mwomercs.com/forums/topic/117769-hud-bug-brief/page__view__getnewpost' title='Go to first unread post'>Go to first unread post</a></li>
		
	</ul>	
</div>

<div class='maintitle clear clearfix'>
	<span class='ipsType_small'>
		
			No replies to this topic
		
	</span>
		
</div>

<div class='topic hfeed clear clearfix'>
	
	
	
	
	

	<div>
		<div class='ipsBox_container' id='ips_Posts'>
			
				<!--post:2348823-->

<div class='post_block hentry clear clearfix Staff' id='post_id_2348823'>
		<a id='entry2348823'></a>
		
	
		
		<div class='post_wrap' >
			
				<h3 class='row2'>
			
				
				<span class='post_id right ipsType_small desc blend_links'><a href='http://mwomercs.com/forums/topic/117769-hud-bug-brief/page__view__findpost__p__2348823' rel='bookmark' title='Link to post #1'>#1</a></span>
				
					<span class="author vcard"><a hovercard-ref="member" hovercard-id="167" class="_hovertrigger url fn" href='http://mwomercs.com/forums/user/167-karl-berg/' title='View Profile'>Karl Berg</a></span>
				
			
				
			</h3>
			<div class='author_info'>
				<div class='user_details'>
	<ul class='basic_info'>
		
			<p class='desc member_title'>Backend Slayer™</p>
		
		<li class='avatar'>
				<a href="http://mwomercs.com/forums/user/167-karl-berg/" title="View Profile" class='ipsUserPhotoLink'>
				
					<img src='//static.mwomercs.com/img/house/piranha.png' class='ipsUserPhoto ipsUserPhoto_large' />
				
				</a>
			</li>
		<li class='group_title'>
			<span style='color:yellow'>Staff</span>
		</li>
		<li class='group_icon'>
			
				<img src='https://mwomercs.com/forums/public/style_extra/team_icons/staff.png' alt='' />
			
			</li>
                
		
		<li class='post_count desc lighter'>
			386 posts
		</li>
		
	</ul>
	
	
		<ul class='custom_fields'>
			
				
					
				

					
				

					
				

					
				

					
				
			

				
					
						<li>
							<span class='ft'>Location</span><span class='fc'>Vancouver</span>
						</li>
					
				
			
		</ul>
		
		
	
</div>
			</div>
			<div class='post_body'>
				<p class='posted_info desc lighter ipsType_small'>
					Posted <abbr class="published" title="2013-05-14T17:56:03+00:00">14 May 2013 - 09:56 AM</abbr>
				</p>
				
				<div class='post entry-content '>
					<!--cached-Tue, 01 Jul 2014 09:22:08 +0000-->Hey everyone,<br />
 <br />
With the HUD bug hotfix coming out soon, I&#8217;ve been asked to provide a write up about what we found, and explain a bit about why it took so long to resolve these issues.  I was brought on to help resolve these issues relatively late in the process, once we suspected that the problem did not reside within Piranha&#8217;s internal code, but was in-fact a pre-existing issue either in the game engine we were using, or in some other external system used by the game engine in turn.<br />
 <br />
As you all are probably aware, MWO is built on CryEngine.  CryEngine uses the very popular Scaleform flash library for all of its UI, and additionally has replaced the default windows implementation of the standard template library with a third-party implementation called STLPort.<br />
 <br />
Our first challenge in solving this issue was simply finding a reliable process for reproducing and detecting HUD corruption issues to begin with.  The issue appeared to be affecting random bits of the HUD UI with extremely random behaviour.  The CSR&#8217;s, QA, and community testers spent a lot of time scraping through community posts trying to collect common themes and patterns, and testing what they found to see if there was any discernible correlation that might help us out.  By the time this process was completed, the QA team had run hundreds, if not thousands, of games in the testlab under varying circumstances, visually inspecting each screen for any signs of HUD corruption and collecting any common factors, such as Windows versions, common hardware configurations, GPU driver versions, etc.  Several leads were investigated during this process, including 64-bit issues, alt-tabbing, and low memory conditions, but unfortunately none of these were capable of providing us with a 100% reproduction rate.<br />
 <br />
When I was brought on, Jin, our senior graphics engineer, and Sean, our UI engineer, had determined that there was a major issue somewhere in the CryEngine to Scaleform layer that was basically causing C++ calls made by the game to invoke incorrect flash functions in Scaleform.  This was after significant effort was spent tracking down and investigating other suspected causes, such as random heap memory corruption, or threaded race conditions.<br />
 <br />
We first spent a considerable amount of time attempting to reproduce the issue with a debug build and breakpoint a failure case, in the hopes that the error was obvious, but also to get an idea where the issue truly resided so we knew where to focus our efforts.  Eventually we did manage to reproduce one of these issues with a debug build, and what this effectively confirmed for me was that there was almost certainly an issue somewhere in CryEngine itself.  Starting from here, it became important to understand as much about the interactions between CryEngine and Scaleform as possible.<br />
 <br />
What followed was about two days of line by line debugging and auditing code in order to figure out what the intended behaviour of these systems were.  I&#8217;ve got several pages of notes from this process, outlining general flows and several class structures.  Once I had a good idea of how this system was intended to work, I spent some time building up a set of validation and verification routines to detect when these subsystems entered an invalid state.  I was specifically interested in a convoluted set of lookup structures which mapped string handles to Scaleform object instances.  The end result was an extremely slow build, but which would crash and generate stack call data whenever it detected that the CryEngine scaleform layer had entered an invalid state.<br />
 <br />
This immediately produced results for us.  CryEngine has built a global string table subsystem, which is used to accelerate specific string operations as well as save memory, similar to the string tables kept by some other languages.  Additionally, users can create handles to this global string table in the form of CryName instances.<br />
 <br />
Internally, we found that this global string table is built upon a case-insensitive string hashing mechanism, which it used to determine whether or not an entry exists within the global table or not.  This case insensitive compare is most likely a result of the case insensitivity of the windows filesystem, and the probable roots of this CryName system in resource handling.  In the case of Scaleform it was actually an error.  This meant, if the UI team had ever added two flash elements to a single player which differed only in case, one of those elements would have been essentially inaccessible to us.<br />
 <br />
Unfortunately, it turned out that the case-insensitivity issue was not related to the current HUD corruption issues on production, so for now I revised the verification routines to similarly ignore case, and we continued with our debugging.<br />
 <br />
Again, we reproduced a real instance of the HUD issue with the revised verification code, and this time we managed to isolate a single function call as having put the system into a bad state.  This was enormous progress, as we could now focus on this single specific function.  We audited the function line by line, and unfortunately determined that while messy and initially confusing, it was actually safe, and should not have resulted in the behaviour we were observing.  It&#8217;s important enough to note that internally this issue had an extremely low reproduction rate, and that this function was invoked hundreds of times every time a client loaded into a game.  For this reason it was impossible to know ahead of time whether or not a given single call would produce the behaviour resulting in corruption.  Instead, I went back and added extremely heavy logging to this specific function in order to determine the flow sequence that was resulting in the HUD corruption.<br />
 <br />
Once again we reproduced the issue, and we were left with baffling results.  The logs indicated that the STL library itself was in error; but this was nearly inconceivable.  The data structure from in question was an std::map, which was implemented as a red-black tree in STLPort.  This is an extremely efficient self-balancing tree structure with excellent performance characteristics.  STL data structures for user defined types take a user defined sorting criteria.  This sorting criteria must guarantee a property known as strict-weak ordering.  I had already examined this sort operator for correctness, which was one of the CryName structures in question, and determined that the comparison operator definitely obeyed strict-weak ordering.  In fact, since the global name table guaranteed one instance for any given string in memory at the time, CryName used absolute memory addresses as their sorting criteria.  Now, this sounds terribly unsafe, and I spent a good while verifying that a CryName would never be deleted from the global table and re-added at a different memory location while being stored as a key value in one of these mapping structures.  CryEngine guarantees this by keeping reference counts for every CryName.  However, what we DID find was extremely surprising.<br />
 <br />
STLPort has a whole category of data structure assessors which take member function template parameters, rather than template parameters defined by the data structure types themselves.  This appears to actually violate the STL spec, as the function signature for a map access is definitely defined in terms of the key type for the data structure itself.  The problem however manifested as follows:<br />
 <br />
CryScaleform layer attempted to lookup a structure which <em class='bbc'>did not yet exist</em> in their cache layer, this triggers a load and bind operation.  This lookup operation involved passing a string key value as a const char * to the map operator[] function; however the operator[] function was templated in such a way that the key value provided actually expanded to a const char * at compile time rather than a CryName instance.<br />
 <br />
What followed was a terrible failure case, where a CryName instance would be constructed, inserted into the global name table, and compared against a given node within the map, and then destroyed and completely removed from the global name table; only to happen all over again at the next level down in the red-black tree.<br />
 <br />
This <em class='bbc'>definitely</em> threw away all concept of strict-weak ordering.  Now, if the global name table happened to allocate the comparison CryName object at differing memory locations, what would result was essentially a random walk through the tree structure, and the final map node returned to us was completely unpredictable.  The only reason any of this system tended to ever work was because of the tendency of the memory allocation subsystem to reuse the same memory address when reallocating one of these global name table entries.  As soon as the memory subsystem deviated from this behaviour, the function in question would fall apart and generate completely unpredictable results.  This was the root cause of our HUD woes, and once found was relatively easy for us to address.<br />
 <br />
Unfortunately this leads us to very serious bug number two.  Once the mapping structures were repaired and this subsystem was put back into a good state, QA located another bug; this time relating to a race condition between precached texture loads.  This manifested only as missing minimap textures.  Jin, our senior graphics guy, very quickly located this issue and identified it as an incorrectly scoped lock during the precache phase in CryEngine.  With these two issues finally resolved, the QA reproduction rates finally dropped to 0%.<br />
 <br />
Hopefully this gives you some sense of how deep these issues ended up taking us, and why it ended up taking so much time.<br />
 <br />
tl;dr:  The HUD bugs were a result of undefined behaviour in CryEngines scaleform wrapper library, which took considerable effort for us to track down and fix.<br />
 <br />
<a href='http://mwomercs.com/forums/topic/117783-hud-bug-brief-feedback/' class='bbc_url' title=''>Please direct your feedback here.</a>
					
					<br />
					
				</div>
				
<script type='text/javascript'>
	ipb.global.registerReputation( 'rep_post_2348823', { domLikeStripId: 'like_post_2348823', app: 'forums', type: 'pid', typeid: '2348823' }, parseInt('0') );
</script>
				
			
				<ul class='post_controls clear clearfix'>
					<li class='top hide'><a href='#ipboard_body' class='top' title='Back to top'>Back to top</a></li>
					
					
					
					
					
					
				</ul>
					
			</div>
		</div>
	</div>
		
		
		<hr />
		
		
<script type="text/javascript">
var pid = parseInt(2348823);
if ( pid > ipb.topic.topPid ){
	ipb.topic.topPid = pid;
}

	// Show multiquote for JS browsers
	if ( $('multiq_2348823') )
	{
		$('multiq_2348823').show();
	}
	
	if( $('toggle_post_2348823') )
	{
		$('toggle_post_2348823').show();
	}
	
	// Add perm data
	ipb.topic.deletePerms[2348823] = { 'canDelete' : 0, 'canSoftDelete' : 0 };

</script>
			
		</div>
	</div>

<hr />
<!-- MOD LINKS -->

<hr />
<div class='topic_controls clear ipsPad_top_bottom_half'>
	
	<div class='ipsPad_top_slimmer right'>
		<a href='http://mwomercs.com/forums/forum/102-command-chair/' class="ipsType_small desc">Back to Command Chair</a>
		
			&middot; <a href='http://mwomercs.com/forums/topic/117769-hud-bug-brief/nextunread/' class="ipsType_small desc">Next Unread Topic &rarr;</a>
		
	</div>
	
	
</div>

<!-- Close topic -->
</div>
<!-- BOTTOM BUTTONS -->

	<br />
	<div class='clear clearfix left'>
		

	<ul class='topic_share left shareButtons ipsList_inline'>
	
		<li><a href="http://mwomercs.com/forums/index.php?sharelink=twitter;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Twitter" class='_slink' id='slink_twitter'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/twitter.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=facebook;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Facebook" class='_slink' id='slink_facebook'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/facebook.png" /></a></li>
	

		
				<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<li><div class='googlePlusOne'><g:plusone count="false" size="small"></g:plusone></div></li>
			
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=digg;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Digg" class='_slink' id='slink_digg'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/digg.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=delicious;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Del.icio.us" class='_slink' id='slink_delicious'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/delicious.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=reddit;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Reddit" class='_slink' id='slink_reddit'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/reddit.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=stumble;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via StumbleUpon" class='_slink' id='slink_stumble'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/stumble.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=email;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Share this link via Email" class='_slink' id='slink_email'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/email.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=print;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Print" class='_slink' id='slink_print'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/print.png" /></a></li>
	

		<li><a href="http://mwomercs.com/forums/index.php?sharelink=download;aHR0cDovL213b21lcmNzLmNvbS9mb3J1bXMvdG9waWMvMTE3NzY5LWh1ZC1idWctYnJpZWYv;SHVkIEJ1ZyBCcmllZg,," rel="nofollow" target="_blank" title="Download" class='_slink' id='slink_download'><img src="https://static.mwomercs.com/forums/public/style_extra/sharelinks/download.png" /></a></li>
	
	</ul>
	<script type="text/javascript">
		ipb.sharelinks.url   = "http://mwomercs.com/forums/topic/117769-hud-bug-brief/";
		ipb.sharelinks.title = "Hud Bug Brief";
		ipb.sharelinks.bname = "MechWarrior Online";
	</script>

	</div>
	<br />

<!-- ACTIVE USERS -->
<div id='topic_stats' class='statistics clear clearfix'>
		<div id='topic_active_users' class='active_users'>
			<h4 class='statistics_head'>1 user(s) are reading this topic</h4>
			<p class='statistics_brief desc'>0 members, 1 guests, 0 anonymous users</p>
			
		</div>
	</div>


	<script type="text/javascript" src="https://static.mwomercs.com/forums/public/js/3rd_party/prettify/prettify.js"></script>
	<script type='text/javascript' src='https://static.mwomercs.com/forums/public/js/3rd_party/prettify/lang-sql.js'></script>
	<!-- By default we load generic code, php, css, sql and xml/html; load others here if desired -->
	<script type="text/javascript">
	//<![CDATA[
		Event.observe( window, 'load', function(e){ prettyPrint() });
	//]]>
	</script>
<div id='multiQuoteInsert' style='display: none;' class='ipsFloatingAction'>
	<span class='ipsButton no_width' id='mqbutton'>Reply to quoted posts</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#' id='multiQuoteClear' class='ipsType_smaller desc' title='Clear the posts you have selected with MultiQuote'>Clear</a> &nbsp;&nbsp;&nbsp;
</div>
						<!-- ::: END CONTENT ::: -->
						
						<!-- ::: FOOTER (Change skin, language, mark as read, etc) ::: -->
						<div id='footer_utilities' class='main_width clearfix clear'>
							
							
							<a rel="nofollow" href='#top' id='backtotop' title='Go to top'><img src='https://static.mwomercs.com/forums/public/style_images/master/top.png' alt='' /></a>
					
							<ul class='ipsList_inline left'>
								<li>
									<img src='https://static.mwomercs.com/forums/public/style_images/master/feed.png' alt='RSS Feed' id='rss_feed' class='clickable' />
								</li>
								
										<li>
											<a rel="nofollow" id='new_skin' href='#'>Change Theme</a>			
											<ul id='new_skin_menucontent' class='ipbmenu_content with_checks' style='display: none'>
												
													<li class='selected'>
														<a href='http://mwomercs.com/forums/index.php?showtopic=117769&amp;k=880ea6a14ea49e853634fbdc5015a024&amp;settingNewSkin=4'>MWO2</a>
													</li>
												

													<li >
														<a href='http://mwomercs.com/forums/index.php?showtopic=117769&amp;k=880ea6a14ea49e853634fbdc5015a024&amp;settingNewSkin=2'>MWOMobile</a>
													</li>
												
											</ul>
										</li>
								
								
								<li>
									<a rel="nofollow" id='mark_all_read' href="http://mwomercs.com/forums/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k=880ea6a14ea49e853634fbdc5015a024" title='Mark all as read'>Mark Community Read</a>
									
									<ul id='mark_all_read_menucontent' class='ipbmenu_content' style='display: none'>
										
										
										
											<li>
											
												
												
											</li>
											
										

										
											<li>
											
												<a href="http://mwomercs.com/forums/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=app&amp;markApp=forums&amp;k=880ea6a14ea49e853634fbdc5015a024">Forums</a>
												
											</li>
											
										
										
										<li>
											<a href="http://mwomercs.com/forums/index.php?app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k=880ea6a14ea49e853634fbdc5015a024"><strong>Mark all as read</strong></a>
										</li>
										
									</ul>
									
								</li>
								
							</ul>
							
						</div>
						
					</div>
					
				</div>
			
			</div>
		
		</div>
		
		
		
		
		
		
			<script type='text/javascript' src='http://mwomercs.com/forums/public/js/3rd_party/lightbox.js'></script>
<script type='text/javascript'>
//<![CDATA[
	// Lightbox Configuration
	LightboxOptions = Object.extend({
	    fileLoadingImage:        'https://static.mwomercs.com/forums/public/style_images/master/lightbox/loading.gif',     
	    fileBottomNavCloseImage: 'https://static.mwomercs.com/forums/public/style_images/master/lightbox/closelabel.gif',
	    overlayOpacity: 0.8,   // controls transparency of shadow overlay
	    animate: true,         // toggles resizing animations
	    resizeSpeed: 7,        // controls the speed of the image resizing animations (1=slowest and 10=fastest)
	    borderSize: 10,         //if you adjust the padding in the CSS, you will need to update this variable
		// When grouping images this is used to write: Image # of #.
		// Change it for non-english localization
		labelImage: "Image",
		labelOf: "of"
	}, window.LightboxOptions || {});
/* Watch for a lightbox image and set up our downloadbutton watcher */
document.observe('click', (function(event){
    var target = event.findElement('a[rel*="lightbox"]') || event.findElement('area[rel*="lightbox"]');
    if (target) {
        event.stop();
        gbl_addDownloadButton();
    }
}).bind(this));
var _to    = '';
var _last  = '';
function gbl_addDownloadButton()
{
	if ( typeof( ipsLightbox.lightboxImage ) != 'undefined' && ipsLightbox.lightboxImage.src )
	{
		if ( _last != ipsLightbox.lightboxImage.src )
		{
			if ( ! $('gbl_d') )
			{
				$('bottomNav').insert( { top: "<div id='gbl_d' style='text-align:right;padding-bottom:4px;'></div>" } );
			}
			
			$('gbl_d').update( "<a href='"+ ipsLightbox.lightboxImage.src + "' target='_blank'><img src='https://static.mwomercs.com/forums/public/style_images/master/lightbox/download-icon.png' /></a>" );
			
			_last = ipsLightbox.lightboxImage.src;
		}
	}
	
	/* Check for init and then keep checking for new image */
	_to = setTimeout( "gbl_addDownloadButton()", 1000 );
}
//]]>
</script>
		
		
<!--included content-->
		<div class="fullWidthSeparatorBar"></div>
		
		<div id="footer">
		
			<div class="container">
			
				<div id="topHalf">
					
					<div id="adSpaceFooter"><a href="http://piranhagames.com/#CAREERS" target="_blank"><img src="https://static.mwomercs.com/img/blocks/pgi_hire.jpg" width="375" height="125"></a></div>
					
					<div id="siteMap">
						
						<div class="siteMapCategory">
							<h5><a href="/">HOME</a></h5>
							<ul>
								<li><a href="/news">News</a></li>
								<li><a href="/news/category/1-inner-sphere-news">ISN</a></li>
								<li><a href="/twitch">Twitch TV</a></li>
								<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
								<li>&nbsp;</li>
								<li>&nbsp;</li>
							</ul>
						</div>
						
						<div class="siteMapCategory">
							<h5><a href="/game">GAME</a></h5>
							<ul>
								<li><a href="/game/download" target="_blank">Download Client</a></li>
								<li><a href="/game/training-grounds">Training Grounds</a></li>
								<li><a href="/game/training-grounds#controls">Controls</a></li>
								<li><a href="/game/factions">Factions</a></li>
								<li><a href="/game/patch-notes">Patch Notes</a></li>
								<li>&nbsp;</li>
							</ul>
						</div>
						
						<div class="siteMapCategory">
							<h5><a href="/media">MEDIA</a></h5>
							<ul>
								<li><a href="/media/video">Videos</a></li>
								<li><a href="/media/screenshots">Screenshots</a></li>
								<li><a href="/media/concept">Concept Arts</a></li>
								<li>&nbsp;</li>
								<li>&nbsp;</li>
								<li>&nbsp;</li>
							</ul>
						</div>
						
						<div class="siteMapCategory">
							<h5><a href="/community">COMMUNITY</a></h5>
							<ul>
								<li><a href="/forums/forum/3-training-grounds/">Training Grounds</a></li>
								<li><a href="/forums/forum/24-developers-corner/">Developer's Corner</a></li>
								<li><a href="/forums/forum/6-mwo-universe/">MWO Universe</a></li>
								<li><a href="/forums/forum/84-support-feedback/">Support & Feedback</a></li>
								<li><a href="/forums/forum/7-off-topic/">Off Topic</a></li>
								<li>&nbsp;</li>
							</ul>
						</div>
						
						<div class="siteMapCategory">
							<h5><a href="/support">SUPPORT</a></h5>
							<ul>
								<li><a href="/support/kb/category/20790457-billing">Billing</a></li>
								<li><a href="/support/kb/category/20770827-account-support">Account</a></li>
								<li><a href="/support/kb/category/20756051-technical-support">Technical</a></li>
								<li><a href="/support/kb/category/20756111-gameplay-guides">Gameplay</a></li>
								<li><a href="/support/kb/category/20525862-general-supportq">General</a></li>
								<li>&nbsp;</li>
							</ul>
						</div>
						
						<div class="clearfix"></div>
						
					</div>
					
					<div class="clearfix"></div> 
				
				</div>
				
				<div class="clearfix"></div>
			
				<div id="bottomHalf">
					
					<div id="globalLinks">
						<a href="/">MechWarrior Online</a> | <a href="/privacy">Privacy Policy</a> | <a href="/conduct">Code of Conduct</a> | <a href="/terms">Terms of Use</a>
					</div>
					
					<div id="promoLogos">
							<a href="http://piranhagames.com/" target="_blank"><img src="https://static.mwomercs.com/img/footer/pgi.png"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<a href="http://www.infinitegamepublishing.com/" target="_blank"><img src="https://static.mwomercs.com/img/footer/igp.png" align="absmiddle"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<a href="http://www.nvidia.com/" target="_blank"><img src="https://static.mwomercs.com/img/footer/nvidia.png" align="absmiddle"></a>
					</div>
					
					
					<br>
					
					<div id="languageSelection">
						
						<i class="icon-globe"></i>
						
						<select id="langSelBox" class="span4">
						
							<option value="en_us" selected>English (U.S.) - English (U.S.)</option><option value="fr_ca">French (Canada) - Français (Canada)</option><option value="de_de">German (Germany) - Deutsch (Deutschland)</option>						
						</select>
					
					</div>
					
										
					<div id="copyText">All material on this site is copyright © 2012-2013 Infinite Game Publishing Inc. / Édition Jeux Infinis Inc., Piranha Games Inc. and/or their respective licensors. All rights reserved. MechWarrior and Battletech are registered trade-marks of Microsoft Corporation and is used under license. All other trade-marks are the property of their respective owners; ® or ™ as indicated.</div>
					
				</div>
			
			</div>
			
		</div>		
		<script type="text/javascript" src="https://static.mwomercs.com/js/mwo.2.footer.js">oB.settings.addThis = false;</script>
		
<!--/ included content-->
		
	</body>
	
</html>