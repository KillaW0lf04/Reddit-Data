<html dir="ltr">

<head><link rel="canonical" href="http://dabeaz.blogspot.com/2010/01/python-gil-visualized.html" />
<meta http-equiv="refresh" content="30;url=http://dabeaz.blogspot.com/2010/01/python-gil-visualized.html" />

	<title>Dabeaz: The Python GIL Visualized</title>
	<style type="text/css" media="screen">
		h1 {border-bottom:dotted 1px #000000;margin-bottom:0px;}
		h2 {margin-bottom:0px;}
		h2#archives { padding-top:10px;margin-top:40px;border-top:dotted 1px #999999;}
		h3 {padding-top:30px;color:#555555;padding-bottom:0px;margin-bottom:0px;}
		body {font-family:Georgia,Serif;font-size:1em;margin:3%;padding:0px;background:#ffffff;color:#000000;}
		div.blogPost {padding-left:5%;padding-right:10%;}
		div.byline {color:#555555;}
		p#bloggerBug {padding-top:20px;}
		.blogComments {padding-top:30px;color:#555555;padding-bottom:0px;margin-bottom:0px;font-weight:bold}
		.blogComments .byline {font-size:1em;font-weight:normal;color:#555555;margin-right:10px;display:inline}
		.blogComment {font-size:1em;margin:3%;color:#000000;font-weight:normal}
        .deleted-comment {font-style:italic;color:gray;}
        #blogfeeds { }
        #postfeeds { }
    .paging-control-container {
      float: right;
      margin: 0px 6px 0px 0px;
      font-size: 80%;
    }
    .unneeded-paging-control {
      visibility: hidden;
    }
	</style>
  <script type="text/javascript">(function() { var a=window;function c(b){this.t={};this.tick=function(d,i,e){e=e?e:(new Date).getTime();this.t[d]=[e,i]};this.tick("start",null,b)}var f=new c;a.jstiming={Timer:c,load:f};try{var g=null;if(a.chrome&&a.chrome.csi)g=Math.floor(a.chrome.csi().pageT);if(g==null)if(a.gtbExternal)g=a.gtbExternal.pageT();if(g==null)if(a.external)g=a.external.pageT;if(g)a.jstiming.pt=g}catch(h){};a.tickAboveFold=function(b){b=b;var d=0;if(b.offsetParent){do d+=b.offsetTop;while(b=b.offsetParent)}b=d;b<=750&&a.jstiming.load.tick("aft")};var j=false;function k(){if(!j){j=true;a.jstiming.load.tick("firstScrollTime")}}a.addEventListener?a.addEventListener("scroll",k,false):a.attachEvent("onscroll",k); })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="http://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="Dabeaz - Atom" href="http://www.dabeaz.com/blog/atom.xml" />
<link rel="alternate" type="application/rss+xml" title="Dabeaz - RSS" href="http://www.dabeaz.com/blog/rss.xml" />
<link rel="service.post" type="application/atom+xml" title="Dabeaz - Atom" href="http://www.blogger.com/feeds/36456651/posts/default" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=36456651" />
<link rel="alternate" type="application/atom+xml" title="Dabeaz - Atom" href="http://www.blogger.com/feeds/36456651/4523567443307976608/comments/default" />
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/static/v1/v-css/50269083-blog_controls.css"/> <link rel="stylesheet" type="text/css" href="http://www.blogger.com/dyn-css/authorization.css?targetBlogID=36456651&zx=b228ff9c-c3cb-4ce8-949c-96504edea32a"/>
</head>

<body>

<!-- To aid with the Blogger NavBar -->
<div id="wrap4">

<!-- Header -->
<h1>Dabeaz</h1>

Dave Beazley's  mondo computer blog. [ <a href="http://www.dabeaz.com">homepage</a> ]


<!-- Blog Posts -->

     
          <h3>Tuesday, January 05, 2010</h3>
     
     <a name="4523567443307976608">&nbsp;</a>
     <h2>
      The Python GIL Visualized</h2>

		<div class="blogPost">
          <div style="clear:both;"></div><p>In preparation for my upcoming PyCON'2010 talk on "Understanding the Python GIL", I've been working on a variety of new material--including some graphical visualization of the GIL behavior described in my earlier <a href="http://www.dabeaz.com/python/GIL.pdf">talk</a>.   I'm still experimenting, but check it out.</p><p>In these graphs, Python interpreter ticks are shown along the X-axis.   The two bars indicate two different threads that are executing.  White regions indicate times at which a thread is completely idle.  Green regions indicate when a thread holds the GIL and is running.  Red regions indicate when a thread has been scheduled by the operating system only to awake and find that the GIL is not available (e.g., the infamous "GIL Battle").  For those who don't want to read, here is the legend again in pictures:</p><p><center><br />
<img src="http://www.dabeaz.com/images/GILLegend.png"></center></p><p>Okay, now let's look at some threads.   First, here is the behavior of running two CPU-bound threads on a single CPU system.  As you will observe, the threads nicely alternate with each other after long periods of computation.</p><p><center><img src="http://www.dabeaz.com/images/GIL_1cpu.png"></center></p><p>Now, let's go fire up the code on your fancy new dual-core laptop.  Yow! Look at all of that GIL contention.  Again, all of those red regions indicate times where the operating system has scheduled a Python thread on one of the cores, but it can't run because the thread on the other core is holding it.</p><p><center><img src="http://www.dabeaz.com/images/GIL_2cpu.png"></center></p><p>Here's an interesting case that involves an I/O bound thread competing with a CPU-bound thread.  In this example, the I/O thread merely echoes UDP packets.  Here is the code for that thread.</p><blockquote><pre>def thread_1(port):
    s = socket(AF_INET,SOCK_DGRAM)
    s.bind(("",port))
    while True:
        msg, addr = s.recvfrom(1024)
        s.sendto(msg,addr)
</pre></blockquote><p>The other thread (thread 2) is just mindlessly spinning.  This graph shows what happens when you send a UDP message to thread 1.</p><p><center><img src="http://www.dabeaz.com/images/GIL_io.png"></center></p><p>As you would expect, most of the time is spent running the CPU-bound thread.  However, when I/O is received, there is a flurry of activity that takes place in the I/O thread.  Let's zoom in on that region and see what's happening.</p><p><center><img src="http://www.dabeaz.com/images/GIL_ioclose.png"></center></p><p>In this graph, you're seeing how difficult it is for the I/O bound to get the GIL in order to perform its small amount of processing.  For instance, approximately 17000 interpreter ticks pass between the arrival of the UDP message and successful return of the <tt>s.recvfrom()</tt> call (and notice all of the GIL contention).  More that 34000 ticks pass between the execution of <tt>s.sendto()</tt> and looping back to the next <tt>s.recvfrom()</tt> call.  Needless to say, this is not the behavior you usually want for I/O bound processing. </p><p>Anyways, that is all for now.  Come to my PyCON talk to see much more.  Also check out Antoine Pitrou's work on a <a href="http://mail.python.org/pipermail/python-dev/2009-October/093321.html">new GIL</a>. </p><p>Note: It is not too late to sign up for my <a href="http://www.dabeaz.com/chicago/concurrent.html">Concurrency Workshop</a> next week (Jan 14-15). </p><div style="clear:both; padding-bottom:0.25em"></div><br />
          <div class="byline">posted by Dave&nbsp;&nbsp;# <a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html" title="permanent link">6:18 AM</a> <span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/post-edit.g?blogID=36456651&postID=4523567443307976608" title="Edit Post"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span> </div>
		</div>
 
  <div class="blogComments">

	<a name="comments"></a>
			Comments:
      
			
			<div class="blogComment">
				<a name="c727034563135193767"></a> 				Man that is cool as hell (your pictures I mean) not the GIL exactly. :)<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262703236849#c727034563135193767" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/10974821214602254645" rel="nofollow">Tonetheman</a> : 6:53 AM</div>

				<span class="item-control blog-admin pid-1947654556"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=727034563135193767" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c687502763254860809"></a> 				I would be interested to see the same profiling done with the new GIL in 3.2  - or maybe you&#39;re saving it for your talk ;)<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262707519197#c687502763254860809" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/13322944163150997007" rel="nofollow">jim</a> : 8:05 AM</div>

				<span class="item-control blog-admin pid-1490712114"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=687502763254860809" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c597008249930811189"></a> 				I definitely want to put some new GIL stuff in the talk.   Just haven&#39;t gotten around to putting it under the microscope yet.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262709635960#c597008249930811189" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/02802905126181462140" rel="nofollow">Dave</a> : 8:40 AM</div>

				<span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=597008249930811189" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c7580776992494157572"></a> 				Is it easy to create those graphs? I&#39;d love to be able to do that for my own code.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262711386527#c7580776992494157572" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/08109886847224287120" rel="nofollow">apu1nahasa</a> : 9:09 AM</div>

				<span class="item-control blog-admin pid-995732182"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=7580776992494157572" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c8829458316801185098"></a> 				So are you just whipping these up by hand or do you have code that draws them?<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262711588415#c8829458316801185098" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/15689203639721583225" rel="nofollow">samtregar</a> : 9:13 AM</div>

				<span class="item-control blog-admin pid-921555284"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=8829458316801185098" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c1762870845256435090"></a> 				You should indicate which of the graphs are (a) made up, (b) taken from actual code, or (c) taken from real-world code.<br /><br />In the UDP example, what&#39;s the next performance impact? If a thread&#39;s execution is delayed, but it executes soon enough to prevent its consumers from stalling, there&#39;s zero net impact on the application. A smarter GIL would have no benefit.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262711610937#c1762870845256435090" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/11391917537337996522" rel="nofollow">Stugots</a> : 9:13 AM</div>

				<span class="item-control blog-admin pid-145294942"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=1762870845256435090" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c356825482473423266"></a> 				Nice work, please post everything on your blog after the talk.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262712918816#c356825482473423266" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/08912165903474777705" rel="nofollow">Gustavo Franco</a> : 9:35 AM</div>

				<span class="item-control blog-admin pid-210070400"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=356825482473423266" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c7728324955900001979"></a> 				Now this would make a highly interesting profiling tool. Highly interesting I tell you.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262737208155#c7728324955900001979" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/14586735882781731173" rel="nofollow">ludvig</a> : 4:20 PM</div>

				<span class="item-control blog-admin pid-1296436809"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=7728324955900001979" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c125332393230059195"></a> 				Regarding some of the comments.<br /><br />First, to understand these graphs, you have to go view my <a href="http://www.dabeaz.com/python/GIL.pdf" rel="nofollow">GIL Talk</a> from the summer as well as the followup <a href="http://www.dabeaz.com/blog/2009/08/inside-inside-python-gil-presentation.html" rel="nofollow">blog post</a> that describes how Python was instrumented to obtain data.   It should be stressed that this was all done with a custom modified version of Python 2.6 instrumented in a way to log GIL events.<br /><br />Due to the very large amount of GIL trace data that gets generated, the graphs were produced by a custom script that I wrote specifically for that purpose.   It takes the GIL event sequence for each thread and color codes it directly into a large PNG file that is created with <a href="http://pypng.googlecode.com" rel="nofollow">PyPNG</a>.     I&#39;m still exploring other options, but this actually worked pretty well.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262745485545#c125332393230059195" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/02802905126181462140" rel="nofollow">Dave</a> : 6:38 PM</div>

				<span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=125332393230059195" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c5622648778035179900"></a> 				what about multiple threads, all IO bound.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262766326993#c5622648778035179900" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/18314245717472170376" rel="nofollow">DragonFax</a> : 12:25 AM</div>

				<span class="item-control blog-admin pid-547342628"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=5622648778035179900" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c8097123537741079295"></a> 				Multiple I/O bound threads work great in Python--you can have hundreds or even thousands of them.  However, it is critical that they all stay I/O bound.  If one of them suddenly wakes up and decides it wants to parse a huge XML file or something, then all bets are off.   <br /><br />In any case, it&#39;s important to emphasize that all of this GIL stuff is mostly about the problem of Python needlessly burning useless CPU cycles on other CPU cores when there is GIL contention.   I would claim that fixing that is probably a good idea.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262784008167#c8097123537741079295" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/02802905126181462140" rel="nofollow">Dave</a> : 5:20 AM</div>

				<span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=8097123537741079295" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c8253648105641413232"></a> 				Which OS is this?  The email you linked mentions that OS X handles lock contention more poorly than, e.g., Linux.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262809318590#c8253648105641413232" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/15155998626202067226" rel="nofollow">Marius Gedminas</a> : 12:21 PM</div>

				<span class="item-control blog-admin pid-1745530317"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=8253648105641413232" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c1033173676057464328"></a> 				All of the graphs are for the same datasets I used when making my June, 2009 GIL Talk---which was all done on OS-X Leopard.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1262838472743#c1033173676057464328" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/02802905126181462140" rel="nofollow">Dave</a> : 8:27 PM</div>

				<span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=1033173676057464328" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c641449330616615961"></a> 				What are the vertical bars visible about half-way along in the top row of the first chart?<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1263065030515#c641449330616615961" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/13140975971019765573" rel="nofollow">Ralph</a> : 11:23 AM</div>

				<span class="item-control blog-admin pid-271487615"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=641449330616615961" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c5109129673444209118"></a> 				I&#39;m in the middle of watching your <br />&quot;Mindblowing Python GIL&quot; video, and I&#39;m struck that you are using the Mac.<br /><br />OS-X has some known bugs in the interaction between signals and pthreads (ie OS-X doesn&#39;t support pthread_sigmask correctly).<br /><br />http://lists.apple.com/archives/darwin-userlevel/2001/Dec/msg00008.html<br /><br />The consequence of this OS-X issue can be *crazy* if you happen to work on software which tries to control which thread will do signal handling. I&#39;ve spent *way* more time that I&#39;d like to think about debugging this exact problem.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1263246584755#c5109129673444209118" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/08728113889198850517" rel="nofollow">TJK</a> : 1:49 PM</div>

				<span class="item-control blog-admin pid-190195342"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=5109129673444209118" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c3446795207563204111"></a> 				A few followup comments.<br /><br />Ralph, you have a keen eye.  There are in fact some vertical bars on the 1-processor graph shown.  Those bars actually represent times when the thread was awakened, but it was unsuccessful in acquiring the GIL (just like in the lower graph).    This happens much less often with 1 CPU, but it doesn&#39;t go away completely.    Just to give you an idea of how this can occur, when one of the threads has expired its time-slice (in the operating system), the OS kernel will perform a context switch.  However, this context switch invariably occurs while the thread is still holding the GIL.  So, the system has to briefly switch back to the other thread in order to run it to a point where the GIL gets released.<br /><br />TJK,<br /><br />Although I did my work on OS-X, the phenomena described is not specific to OS-X.   I&#39;ve had participants in my advanced python course run these same thread tests on different machines and you get the same behavior on Linux and Windows to varying degrees of severity.<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1263248193524#c3446795207563204111" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/02802905126181462140" rel="nofollow">Dave</a> : 2:16 PM</div>

				<span class="item-control blog-admin pid-737601438"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=3446795207563204111" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
			<div class="blogComment">
				<a name="c3397908296682287875"></a> 				It is very interesting that they see it on Linux and Windows.<br /><br />Thanks!<br />
				<div class="byline"><a href="http://www.dabeaz.com/blog/2010/01/python-gil-visualized.html?showComment=1263248330508#c3397908296682287875" title="permanent link">#</a> posted by <span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/08728113889198850517" rel="nofollow">TJK</a> : 2:18 PM</div>

				<span class="item-control blog-admin pid-190195342"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=36456651&postID=3397908296682287875" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span>
			</div>
			
      
			<a class="comment-link" href="https://www.blogger.com/comment.g?blogID=36456651&postID=4523567443307976608">Post a Comment</a>
            <p id="postfeeds"></p>
	  
        <br /> <br />
        

	<br /> <br />
	<a href="http://www.dabeaz.com/blog/dablog.html">&lt;&lt; Home</a>
    </div>





<!-- Archive Links -->
<h2 id="archives">Archives</h2>
<p>
	<a href="http://www.dabeaz.com/blog/2009_08_01_archive.html">08/01/2009 - 09/01/2009</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2009_09_01_archive.html">09/01/2009 - 10/01/2009</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2009_10_01_archive.html">10/01/2009 - 11/01/2009</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2009_11_01_archive.html">11/01/2009 - 12/01/2009</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2009_12_01_archive.html">12/01/2009 - 01/01/2010</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2010_01_01_archive.html">01/01/2010 - 02/01/2010</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2010_02_01_archive.html">02/01/2010 - 03/01/2010</a>&nbsp;&nbsp;

	<a href="http://www.dabeaz.com/blog/2010_04_01_archive.html">04/01/2010 - 05/01/2010</a>&nbsp;&nbsp;

			<script type="text/javascript" language="Javascript">if (location.href.indexOf("archive")!=-1) document.write("<strong><a href=\"http://www.dabeaz.com/blog/dablog.html\">Current Posts</a></strong>");</script></p>


<!-- 	In accordance to the Blogger terms of service, please leave this button somewhere on your blogger-powered page. Thanks! -->
<p id="bloggerBug"><a href="http://www.blogger.com"><img width="88" height="31" src="http://buttons.blogger.com/bloggerbutton1.gif" border="0" alt="This page is powered by Blogger. Isn't yours?" /></a></p>
<p id="blogfeeds">Subscribe to Posts [<a target="_blank" href="http://www.dabeaz.com/blog/atom.xml" type="application/atom+xml">Atom</a>]</p>

</div>
<script type="text/javascript" src="http://www.blogger.com/static/v1/common/js/3515087413-csitaillib.js"></script>
<script>if (typeof(window.attachCsiOnload) != 'undefined' && window.attachCsiOnload != null) { window.attachCsiOnload('ext_blogspot'); }</script></body>
</html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   