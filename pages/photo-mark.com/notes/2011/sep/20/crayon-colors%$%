<!DOCTYPE html>
<!--comment out reset in post-recieve -->
<html class="no-js" lang="en">
<head prefix="og: http://ogp.me/ns#">
	
	<meta charset="utf-8">
<!-- 
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 -->
	<meta name="Author" content="Mark Meyer" />
	<meta name="Description" content="Crayons under the spectrophotometer: Making spectral power distribution graphs of a box a crayons." />
	<meta name="keywords" content="photographer, Alaska, Anchorage, freelance, photojournalist, editorial">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1"> 
	
    <meta property="og:title" content="Crayons under the spectrophotometer" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://www.photo-mark.com/notes/2011/sep/20/crayon-colors/" />
    <meta property="og:image" content="http://img.photo-mark.com/webpix/web_resolution/Crayons_24_SPD.jpg" />
    <meta property="og:site_name" content="Alaska Photographer Mark Meyer"/>


	<title>
		
	Crayons under the spectrophotometer

	</title>
	<script type="text/javascript" src="//use.typekit.net/zma0mrp.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

	
	<link rel="stylesheet" href="/css/note.css" media="screen" type="text/css" />
	
	<link rel="image_src" href="http://www.photo-mark.comhttp://img.photo-mark.com/webpix/web_resolution/Crayons_24_SPD.jpg" />
	
	
	
 
	
	<script src="/jscripts/libs/modernizr.custom.85858.js"></script>
	

	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/jscripts/libs/jquery-1.7.min.js"><\/script>')</script>
	
	
	<script type="text/javascript" >
		function showPic (piclink) {
			if (document.getElementById) {
				document.getElementById('noteImage').src = piclink.href;
				return false;
			 } else {
				return true;
			}
		}
		function more_posts() {
			var base_url = "/notes/"
    		var a = $("#load_more")
	   		var next_page = a.attr("data-page");
	   		var loadUrl = base_url+"page_ajax/"+next_page+"/";  
	   		$.get(loadUrl,function(data){ 
				$('html,body').animate({ scrollTop: $("#load_more").offset().top }, { duration: 'slow', easing: 'swing'});
				a.fadeOut('slow').detach();
				$(data).appendTo('#content');
				
				}); 
	    	}

	</script>


	<!--Open ID -->

	<link rel="alternate" type="application/rss+xml" title="Alaska Photographer [RSS]" href="http://www.photo-mark.com/notes/feeds/rss/" />
	<link rel="openid.server" href="http://www.photo-mark.com/id/" />
	<link rel="openid.delegate" href="http://www.photo-mark.com/id/" />
	<link rel="author" href="https://plus.google.com/107784109510223301127/posts" />
	<link rel="shortcut icon" href="http://www.photo-mark.com/favicon.ico" />
	
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-82050-1', 'photo-mark.com');
		  ga('require', 'displayfeatures');
		  ga('send', 'pageview');
		
		</script>
	

</head>

<body>



<div id="centerwrap">
		<header id="siteHeader" class="top">
			<h2><a href="http://www.photo-mark.com">Mark Meyer Photography</a></h2>
		</header>
		<section id="blog">
		<header id="journalHeader" class="top">
			<h2><a href="/notes/">Photo Journal</a></h2>
			<nav id="mainNav">
				<div id="menu">
					<p><a href="/about/">About</a><span class="menuBullet"> · </span></p>
					<p><a href="/photographs/">Portfolios</a>
					</p>
					<p class="socialLinks" id="menuSocialLinks">
						<a class="facebook" href="http://www.facebook.com/markmeyerphotography" target="_blank"></a> <a class="twitter" href="http://twitter.com/markmeyerphoto" target="_blank"></a> <a class="rss" href="http://www.photo-mark.com/notes/feeds/rss/"></a><a class="email" href="mailto:mark@photo-mark.com"></a>
					</p>
				</div>
			</nav>
		</header>
		<nav id="archive">
			<p id="tagline">Notes & marginalia about photography</p>
				
					
		<div id="archiveList">
		<span>Archive</span>
		<ul>
			
			<li><a href="/notes/2014/">2014</a></li> <li><a href="/notes/2013/">2013</a></li> <li><a href="/notes/2012/">2012</a></li> <li><a href="/notes/2011/">2011</a></li> <li><a href="/notes/2010/">2010</a></li> <li><a href="/notes/2009/">2009</a></li> <li><a href="/notes/2008/">2008</a></li> <li><a href="/notes/2006/">2006</a></li> 
		</ul>
		</div>
					
		</nav>
		<div id="content">
			
		
		<article itemscope itemtype="http://schema.org/Article" class="blogPost">
		
			<img id="noteImage" src="http://img.photo-mark.com/webpix/web_resolution/Crayons_24_SPD.jpg" alt="Spectral Reflectance of Crayons, " itemprop="image" /><br />
		
		
		<header class="headline">
			<h1 itemprop="name">Crayons under the spectrophotometer</h1>
			
			<p id="byline">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" rel="author" style="font-weight:bold;">Mark Meyer</span></span> | <time datetime="2011-09-20"  itemprop="datePublished">September 20, 2011</time>
				<aside class="postSideBar">
					<p class="socialLinks" id="shareLinks">Share This<br />	 
					<a class="facebook" href="https://www.facebook.com/sharer.php?u=http%3A//www.photo-mark.com/notes/2011/sep/20/crayon-colors/&amp;t=Crayons%20under%20the%20spectrophotometer" target="_blank"></a> 
					<a class="twitter" href="https://twitter.com/share?url=http%3A//www.photo-mark.com/notes/2011/sep/20/crayon-colors/&amp;via=markmeyerphoto&amp;text=Crayons%20under%20the%20spectrophotometer%3A"  target="_blank"></a></p>

				</aside>
		</header>
	
		
			<div itemprop="articleBody">
			<p>Most people have forgotten the mysterious questions that a box of crayons presents to a kid such as: what am I supposed to do with this useless white crayon? why is the yellow crayon so dark and greenish, but draws such a pure, light yellow? is it just my eyes, or are the paper wrappers on the blue, indigo, and cerulean crayons the <em>exact</em> same color?</p>
<p>I did not forget. These questions have been nagging me since kindergarten and this weekend I finally got to the bottom of it. I am now able to answer that age-old question: what <em>really</em> is the difference between green-yellow and yellow-green?</p>
<p>Starting with a fresh box of twenty-four Crayola crayons I measured each with an i1 pro spectrophotometer to create a set of <a href="http://en.wikipedia.org/wiki/Spectral_power_distribution">spectral power distributions</a> (SPD) of the reflected light. You may not know this, but a spectrophotometer is good for much more than creating screen and printer profiles—for instance, I can tell you with some precision the color of my tongue (and my dog's).</p>
<p>The image above is what a box of crayons looks like broken into it's spectral components.</p>
<p>It seemed a waste to have this all in one place and not calculate the lab values<br />
<img alt="LAB colors of 24 Crayola crayons" src="http://www.photo-mark.com/webpix/note_examples/crayons/Crayons_24_LAB.jpg" /></p>
<p>and also the xy chromaticity coordinates, which are plotted below with the sRGB gamut for reference.<br />
<img alt="24 Crayola crayons on chromaticity diagram" src="http://www.photo-mark.com/webpix/note_examples/crayons/Crayons_24_xy.jpg" /></p>
<p>If you are interested in a handy, poster-sized pdf with all this information so you can answer your own unresolved colorimetric questions, you can download it here:<br />
<a href="http://www.photo-mark.com/webpix/note_examples/crayons/Crayons_24.pdf"><img alt="PDF Thumbnail" src="http://www.photo-mark.com/webpix/note_examples/crayons/PDF_Thumb.jpg" /></a></p>
<h2>A note on method</h2>

<p>The measurements were made off the crayon itself, not the mark it leaves on paper. This is important because a single crayon is capable of many different shades. The material is translucent and gradually builds up toward the color of the actual crayon which is much darker than the color it leaves on paper. Obtaining the color of the actual crayon on paper has, since childhood, seemed an impossible feat.</p>
<h2>Extra credit for math geeks</h2>

<p>In the chromaticity diagram above, knowing only the x and y coordinates of the dots, how do you sort the list of color names so that no lines cross? (They're currently sorted by the y coordinate.)</p>
<p>p.s. The charts were created using <a href="http://nodebox.net">Nodebox</a>, which is a terrific piece of software for creating just about anything visual with Python.</p>
			</div>
		<nav id="end_nav">
			Tagged:  <a class="tag" href="/notes/tag/color/" itemprop="keywords">Color</a>  
			<ul>
			
			<li>previous <br /> <a href="/notes/2011/aug/16/summer-work/">Summer Work</a> 
			</li>
			
			
			<li>next<br /><a href="/notes/2011/oct/18/praise-erasmus/">In Praise of Erasmus</a>
			</li>
			
			</ul>
		</nav>
		<section class="comments" id="c_0">
			<h2 id="startComments">34 Reader Comments</h2>
				
						

			<article  class="comment " id="c_2818" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					joanne Seaberg</h2> 
				</header>

				<p class="commentBody">You keep me humble - but humble with a smile.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2821" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Miles Bader</h2> 
				</header>

				<p class="commentBody">Do you think you could release the SPDs of the individual crayons in some easy-to-parse textual form?<br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_2822" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2><a href="http://www.start3d.com/" rel="nofollow" >
					colski</a></h2> 
				</header>

				<p class="commentBody">math geek here. put all your labels in one place so that all the lines intersect at the same point. now you can fan them out.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2823" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2><a href="http://www.JohnHarveyPhoto.com/" rel="nofollow" >
					John Harvey</a></h2> 
				</header>

				<p class="commentBody">Cool graphs.  The sort problem is interesting and my math geek isn't much higher than red belt.<br /><br />In an ideal world, you want to sort by the Y position + slope of the line to the legend entry * x distance to the legend.  The problem is the slope changes with the sort order and is influenced by where the legend is placed on the graph.<br /><br />I suspect if you sort by k * y + x you might do a little better than you have.  Try something like 5*y + x.<br /><br />John </p>
				 
			</article>
			
						

			<article  class="comment " id="c_2824" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					pablomme</h2> 
				</header>

				<p class="commentBody">> In the chromaticity diagram above, knowing only the x and<br />> y coordinates of the dots, how do you sort the list of<br />> color names so that no lines cross?<br /><br />If the left vertex of the triangle is at (x0,y0), then you can sort the dots by the angle between the Y axis (x0,y0)-(x0,Infinity) and the line (x0,y0)-(x,y), i.e.,<br /><br />acos[ (y-y0) / sqrt((y-y0)^2+(x-x0)^2) ]<br /><br />The lines joining each dot and the colour name need to be radial from the vertex; for a text position similar to the one you have now you would need to use an (x0,y0) above the left vertex at nearly the y position of the centre of the triangle.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2825" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Carl-Johan Kjellander</h2> 
				</header>

				<p class="commentBody">Sorting algotithm in O(n²) time.<br /><br />1. Start with the lowest label point.<br /><br />2. Find the dot that has the lowest value for deltay / deltay where the deltas is the distance in the x and y direction and deltay can be both positive or negative.<br /><br />3. Go to the next label position and repeat 2.<br /><br />ps. This is basic trigonometry and you could use atan or atan2 to actually get the angles but there is no need. ds.<br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_2826" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Carl-Johan Kjellander</h2> 
				</header>

				<p class="commentBody">Oh, type. Find the minimum for: deltay /deltax</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2828" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					RM</h2> 
				</header>

				<p class="commentBody">Cool idea! Two questions:<br /><br />Did you measure the crayon as-is, or after breaking/cutting/grinding? One of the things I noticed as a child is that the apparent color of a crayon often changed when the surface was new vs. freshly broken vs. worn from rubbing against (clean) paper. Though I don't know if this is spectophotometric or just psychological.<br /><br />Also, I don't know if Crayola uses fluorescent pigments in the standard 24-pack, but they do have fluorescent crayons. I'm not familiar with the i1 pro, but wouldn't the presence of fluorescent pigments complicate the measurements? Would it be easy/possible to check for fluorescent pigments?</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2829" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2><a href="http://www.blueraja.com/blog" rel="nofollow" >
					BlueRaja</a></h2> 
				</header>

				<p class="commentBody">What software did you use to make those graphs?</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2830" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2><a href="http://joshrehman.com/" rel="nofollow" >
					josh</a></h2> 
				</header>

				<p class="commentBody">Thanks for sharing this Mark.<br /><br />Would you consider doing this for the common colors of Legos?</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2831" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					M. Wade</h2> 
				</header>

				<p class="commentBody">The layout problem is much more difficult if you put all the labels on one side. It is much easier if they can be around the entire periphery of the diagram.<br /><br />Assuming this layout, first pick a center point. Using the CIE white point is the logical choice. For each point, compute it's radial coordinates from the center. The labels are then ordered around the center based on their angular position. The labels should be equally spaced around the edges, as opposed to just projecting the vector out from the center and putting them where it intersects the boundary. <br /><br />No lines will cross, because the point set can be projected onto a circle, and lines from a circle to it's center don't cross.<br /><br />I also believe that this will be a more aesthetically pleasing layout, and will convey additional information about the relationship of he colors. This is why the CIE white point should be the center, because it relates the angular ordering to the CIE color space.<br /><br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_2832" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Adam</h2> 
				</header>

				<p class="commentBody">First, I love the charts!  Thanks for sharing them!<br /><br />For the sorting, it really depends on what restrictions you're placing on the location of the legend.  Possibly the easiest option is to place no restrictions on the legend locations, in which case, simply choosing a center point (perhaps the average of all coordinates) and drawing a radial line from the center for each color should do it.<br /><br />Otherwise, if there's a fixed legend location, there's only 24! possible layouts... and I don't know any math that will simplify a brute force loop of those.  Simply sorting on slope as others have suggested won't work, because some will seem quite counter-intuitive (i.e. cerulean might need to be above yellow-orange).<br /><br />I think it's more of a comp-sci problem than a math one, but that could just be me...</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2833" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Cellar</h2> 
				</header>

				<p class="commentBody">So what is the expected range of colours from each crayon as put on (white) paper? Does that mean lines going straight up in the chromaticity diagram? Do any overlap? Would any on different paper?<br /><br />Oh, and so not a math geek, but drop a line pivoting on the top tag position until first (closest) hit, then repeat with line starting from next position through previous point. Or use a simple ax+y as mentioned, using, say, the slope of the line through the top point to the top tag, again closest to tag first.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2834" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					AndrewK</h2> 
				</header>

				<p class="commentBody">For sorting, you need to do an axis shift. Since your labels are in a vertical line, project all points onto that line.<br /><br />So the one with the lowest paper-space y (vertical) would be on the bottom. In case of conflicts, use the x coordinate to break ties (closest to legend goes first).<br /><br />You could probably also use a line from the top vertex of triangle perpendicular to bottom edge.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2835" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					psuedonymous</h2> 
				</header>

				<p class="commentBody">Lazy algorithmic method:<br />1) Start from the top, scan down and find the first crossing. <br />2) Swap positions of the crossing lines.<br />3) Goto 1</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2836" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					netty</h2> 
				</header>

				<p class="commentBody">Hope you're ready to receive a C&D; letter from Crayola for reverse-engineering their crayons colors! :P</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2837" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Rick</h2> 
				</header>

				<p class="commentBody">Can you provide me with a list of color names and their x-y coordinate pairs on the chromaticity chart? Thanks!</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2838" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2><a href="http://artificialphilosophy.blogspot.com/" rel="nofollow" >
					The Geoff</a></h2> 
				</header>

				<p class="commentBody">@ M. Wade - I was looking at a very similar idea - take the normal of the triangle and then define the label lines as parallel to it.  Then bend them away from the triangle's normal...apply a vector away from the normal with a direction and magnitude proportional to the distance from the white point.  It looks a bit like one of those fibre-optic lamps in my head.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2839" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					willmore</h2> 
				</header>

				<p class="commentBody">@RM, that opens up a whole new bag of worms.  You need to add another full dimension for the stimulating color.  That would make this chart an overlaid set of surfaces.  Now, add in the spectral component and you need to figure in the *angle* of the incident light.....<br /><br />Crud, this just got really complex.  (oooww, sorry, Euler.)</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2840" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Extra Credit</h2> 
				</header>

				<p class="commentBody">My proprietary mega-algorithm tells me the following should work ;)<br /><br />yellow-green<br />green-yellow<br />yellow<br />green<br />dandelion<br />white<br />black<br />grey<br />blue-violet<br />blue-green<br />brown<br />apricot<br />violet<br />yellow-orange<br />orange<br />indigo<br />red-violet<br />red-orange<br />scarlet<br />red<br />violet-red<br />carnation-pink<br />blue<br />cerulean<br /><br />Does it?<br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_2841" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 20, 2011</time>
					<h2>
					Alsee</h2> 
				</header>

				<p class="commentBody">Carl-Johan Kjellander's solution is correct, but maybe I can explain it better for non-mathgeeks. He worked from the bottom up, but I'm going to work from the top down.<br /><br />Imagine we drop a horizontal stick so that it falls and rests upon the "highest" point on each side. The idea is that *all* other points will fall below this stick, and therefore none of the other lines could possibly cross it. Note that this stick is going be at some angle, so it's not necessarily going to rest upon the point on the left with the highest Y position. It will rest upon the point that gives the smallest upwards slope (or the greatest downwards slope). Once you find that line you remove those two points and repeat the process until you're done.<br /><br />Now I'll explain it in a more exact and mathematical way. Firstly, you need to know the X,Y coordinates of the points on the right. Start with the top point on the right and find the slope to each point on the left (that would be the difference between the Y values divided by the difference between the X values). Select the point with the lowest slope. If there is a tie, select the point with the largest X value. That is the first color in your list. Then remove those two points from consideration. Repeat with the next top point on the right to find the next color.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2844" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2>
					Jon</h2> 
				</header>

				<p class="commentBody">Hi Mark,<br /><br />Just to echo Blueraja's question - what software did you use to generate the plots in this post?<br /><br />It appears to me like it could have been done in processing - if so would you mind showing the code you used to generate the plots?<br /><br />Cheers!</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2845" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2>
					Mark</h2> 
				</header>

				<p class="commentBody">I'm surprised that all of these crayons except, marginally, yellow and dandelion, fall inside the sRGB gamut. Are you certain you're not being restricted by the range of your measuring device?<br /><br />Certainly when I've taken photos of a range of crayons before, the oranges, cyans and deepest violets fall way outside sRGB and I have to do some serious correction to try to maintain a realistic relative appearance in the image.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2846" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2>
					Zug</h2> 
				</header>

				<p class="commentBody">I second the request by Miles Bader: can you provide the raw SPD data?  I'd love to play with it.<br /><br />AZ</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2848" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2>
					Crayoff</h2> 
				</header>

				<p class="commentBody">I'm not familiar with the i1 device, but from what i guess from googling is that it is used for measuring emiting light sources like a display. To measure the SPD of a non emiting colored object you have to measure the light reflected off the object. So you need a calibrated light source like D65, otherwise your result will vary according to sunlight conditions and time of day.<br /><br />Or you need a measuring device that has it's own known light source. Does the i1 have a built in light source?<br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_2849" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2>
					Chris Hardin</h2> 
				</header>

				<p class="commentBody">Kjellander's solution works.  It can be improved to O(n log n) by restructuring as a divide and conquer: take the middle label, and match it with the point such that the resulting line divides the remaining set of points in half, then recur on each half.  The divide step takes linear time because we can get the kth smallest element out n unsorted elements in O(n) time if we're smart.<br /><br />More generally, if the label positions are arbitrary, we can still arrange the labels to avoid having lines cross.  Form the graph of all edges from a point to a label, with edge weights given by length.  Find a minimum weight perfect matching; there is a polynomial time algorithm for this.  That minimum weight matching will have no crossings: if there were a crossing, we could get a lower-weight matching by swapping the two labels involved in the crossing.  (Note: By "crossing" I mean two lines crossing at an angle.  If you're in a situation where two lines are "stacked" on top of each other, you might not be able to eliminate that.)</p>
				 
			</article>
			
						

			<article  class="comment  comment_admin " id="c_2850" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2><a href="http://www.photo-mark.com/" rel="nofollow" >
					Mark Meyer</a></h2> 
				</header>

				<p class="commentBody">Wow, thanks so much for all the math/c.s. advice. Really, that's going to keep me busy for a while.<br /><br />Crayoff: The i1Pro has a calibrated internal light source for making reflective measurements. It has a matched calibration tile that is used to calibrate before each use. It's main purpose is for making printer profiles by measuring printed color patches.<br /><br />Mark: The i1 breaks the light into spectral components so it shouldn't have a limited gamut. Visually, I get a pretty good match between the Lab values on screen and what I see in box of crayons. Having said that, looking a two-dimensional chromaticity diagram a projection of a three dimensional space and may not be the best way to determine if colors fall within a gamut. It would be interesting to plot the XYZ values in something like Blender and compare to known color spaces.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2851" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 21, 2011</time>
					<h2><a href="http://mark.atwood.name/" rel="nofollow" >
					Mark Atwood</a></h2> 
				</header>

				<p class="commentBody">Have you seen http://www.easyrgb.com/<br /><br />They keep a database of "commercial tints" that they can match and compare, so you can find the closest match from one set of color sources to another, and map them all to and from rgb.</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2852" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 22, 2011</time>
					<h2>
					Tyler</h2> 
				</header>

				<p class="commentBody">What software did you use with the i1 Device?</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2858" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 27, 2011</time>
					<h2>
					pjcamp</h2> 
				</header>

				<p class="commentBody">It seems a waste to compute lab values and then display them in an unreadably small font with many in low contrast colors.</p>
				 
			</article>
			
						

			<article  class="comment  comment_admin " id="c_2859" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 27, 2011</time>
					<h2><a href="http://www.photo-mark.com/" rel="nofollow" >
					Mark Meyer</a></h2> 
				</header>

				<p class="commentBody">Tyler—I used some of the tools that are part of the open-source ArgyllCMS package.<br /><br />pjcamp—I included a link to a pdf, which if you so desire you can render to any size and contrast ratio your heart desires. </p>
				 
			</article>
			
						

			<article  class="comment " id="c_2860" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">September 27, 2011</time>
					<h2><a href="http://www.pigment-print.com/" rel="nofollow" >
					Ernst Dinkla</a></h2> 
				</header>

				<p class="commentBody">Mark,<br /><br />Did you use an i1 Pro that has an UV filter internally? All the spectro plots drop at the left including the white crayon.<br /><br />Measuring on the pencil core itself must be difficult given the 4.5 mm aperture of the i1. Did you create a powder of it and pressed that powder more or less to a tablet?<br /><br />Ernst Dinkla</p>
				 
			</article>
			
						

			<article  class="comment " id="c_2877" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">October 14, 2011</time>
					<h2>
					Seth Ansell</h2> 
				</header>

				<p class="commentBody">Hi Mark,<br /><br />Nice plots.  Just a couple small technical points.  You've measured and displayed plots of the spectral reflectance factor values of the crayons.  The term spectral power distribution (a.k.a. spectral radiant power distribution) is reserved for describing the spectra of a light source or of an illuminant. <br /><br />Also, I've never seen the Y-axis of a spectral reflectance factor plot labeled as a log scale as your plot is labeled.  Spectral reflectance factors are usually expressed in linear form, and are bounded between 0 and 1, or if measuring percent reflectance, 0% and 100%.  Having said that, the values your graphs show look linear to me.  <br /><br />Spectral reflectance factor values greater than 1.0 (or 100%) can occur when the substrate (paper) or colorant (crayon in this case) is sufficiently fluorescent.  In this case they are called spectral radiance factor values.<br /><br />See Color Science: Concepts and Methods, Quantitative Data and Formulae by Wyszecki & Stiles for a wealth of precise information on these and other topics related to color science.<br /><br />Cheers,<br /><br />--Seth<br /><br /></p>
				 
			</article>
			
						

			<article  class="comment " id="c_3359" >
				<header class="comment_poster">
				<time datetime="2011-09-20"  content="2011-09-20">March 28, 2012</time>
					<h2>
					Wrennie</h2> 
				</header>

				<p class="commentBody">Love this!!! Having worked for HunterLab at one time I am ashamed we did not do this for a marketing ad.</p>
				 
			</article>
			
			
			
				<b>Comments are closed for this note</b>
			
		</section>
		</article>
		
		
			
		<script type="text/javascript"> 
		//<![CDATA[
			function goComments() {
				var targetOffset = $('#c_0').offset().top;
				$('html,body').animate({scrollTop: targetOffset}, 500);
			}
			function getQueryString () {
				// function to parse query string into hash
				var querystring = new Array;
				var q = document.location.search.substring(1);
				if (!q) return false;
				q = q. split ('&');
				for (var i = 0 ; i < q.length; i++) {
					var o = q[i].split('=');
					querystring[o[0]] = o[1];
				 }
			 return querystring;
			}
			commentID = getQueryString()['c'];
			if(commentID) {
				$(document).ready(function(){
					if (commentID) {
						var targetOffset = $('#c_'+commentID).offset().top;
						$('html,body').animate({scrollTop: targetOffset}, 500);	   
					}
				});
			}
		//]]>
		</script>
		

		</div>
		</section>
	<footer id="copyright">
		 © Mark Meyer Photography · 907-854-8077 · Anchorage, Alaska · <a href="mailto:mark@photo-mark.com">email</a>
	</footer>

</div>




</body>
</html>
