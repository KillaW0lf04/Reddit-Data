<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Using Facebook Notes to DDoS any website | A Programmer&#039;s Blog</title>
	<link rel="stylesheet" type="text/css" media="all" href="http://chr13.com/wp-content/themes/zbench/style.css" />
	<link rel="pingback" href="http://chr13.com/xmlrpc.php" />
	<link rel="alternate" type="application/rss+xml" title="A Programmer&#039;s Blog &raquo; Feed" href="http://chr13.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="A Programmer&#039;s Blog &raquo; Comments Feed" href="http://chr13.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="A Programmer&#039;s Blog &raquo; Using Facebook Notes to DDoS any website Comments Feed" href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/feed/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://chr13.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://chr13.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='A Bug in the Bug Bounty Program' href='http://chr13.com/2014/03/21/a-bug-in-the-bug-bounty-program/' />
<meta name="generator" content="WordPress 3.9.1" />
<link rel='canonical' href='http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/' />
<link rel='shortlink' href='http://chr13.com/?p=130' />
<link rel="stylesheet" type="text/css" href="http://chr13.com/wp-content/plugins/wp-code-highlight/css/wp-code-highlight.css" media="screen" />
	<meta name="viewport" content="width=device-width"/><!-- for mobile -->
</head>
<body class="single single-post postid-130 single-format-standard">
<div id="nav">
	<div class="nav-inside">
		<div id="menus">
			<ul id="menus-dt" class="menus-dt">
				<li id="menu-item-10" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-10"><a href="http://chr13.com/">Home</a></li>
<li id="menu-item-64" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-64"><a href="http://chr13.com/about-me/">About me</a></li>
			</ul>
			<ul id="menus-m" class="menus-m">
				<li>Menu</li>
			</ul>
		</div>
		<div id="search">
			<form id="searchform" method="get" action="http://chr13.com/">
<input type="text" value="Search: type, hit enter" onfocus="if (this.value == 'Search: type, hit enter') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search: type, hit enter';}" size="35" maxlength="50" name="s" id="s" />
<input type="submit" id="searchsubmit" value="SEARCH" />
</form>		</div>
	</div>
</div>
<div id="header">
		<div class="site_title">
		<h1><a href="http://chr13.com/">A Programmer&#039;s Blog</a></h1>
		<h2></h2>
		<div class="clear"></div>
	</div>
	</div>
<div id="wrapper">
<div id="content">
		<div class="post-130 post type-post status-publish format-standard hentry category-uncategorized post-single" id="post-130"><!-- post div -->
		<h2 class="title">Using Facebook Notes to DDoS any website</h2>
		<div class="post-info-top">
			<span class="post-info-date">
				Posted by <a href="#" title="View all posts by chr13" rel="author">chr13</a>
				on				April 20, 2014							</span>
					</div>
		<div class="clear"></div>
		<div class="entry">
			<p><strong>[<a href="#update" title="update">Update</a>]</strong></p>
<p>Facebook Notes allows users to include &lt;img&gt; tags. Whenever a &lt;img&gt; tag is used, Facebook crawls the image from the external server and caches it. Facebook will only cache the image once however using random get parameters the cache can be by-passed and the feature can be abused to cause a huge HTTP GET flood. </p>
<p>Steps to re-create the bug as reported to Facebook Bug Bounty on March 03, 2014.<br />
Step 1. Create a list of unique img tags as one tag is crawled only once </p>
<pre class="wp-code-highlight prettyprint">
        &lt;img src=http://targetname/file?r=1&gt;&lt;/img&gt;
        &lt;img src=http://targetname/file?r=1&gt;&lt;/img&gt;
        ..
        &lt;img src=http://targetname/file?r=1000&gt;&lt;/img&gt;
</pre>
<p>Step 2. Use m.facebook.com to create the notes. It silently truncates the notes to a fixed length.</p>
<p>Step 3. Create several notes from the same user or different user. Each note is now responsible for 1000+ http request. </p>
<p>Step 4. View all the notes at the same time. The target server is observed to have massive http get flood. Thousands of get request are sent to a single server in a couple of seconds. Total number of facebook servers accessing in parallel is 100+. </p>
<p><strong>Initial Response:</strong> Bug was denied as they misinterpreted the bug would only cause a 404 request and is not capable of causing high impact. </p>
<p>After exchanging few emails I was asked to prove if the impact would be high. I fired up a target VM on the cloud and using only browsers from three laptops I was able to achieve 400+ Mbps outbound traffic for 2-3 hours.<br />
<img src="http://chr13.com/wp-content/uploads/2014/04/fb1.png"></img><br />
Number of Facebook Servers: <strong>127</strong></p>
<p>Of course, the impact could be more than 400 Mbps as I was only using browser for this test and was limited by the number of browser thread per domain that would fetch the images. I created a proof-of-concept script that could cause even greater impact and sent the script along with the graph to Facebook. </p>
<p>On April 11, I got a reply that said </p>
<blockquote><p>
Thank you for being patient and I apologize for the long delay here. This issue was discussed, bumped to another team, discussed some more, etc.</p>
<p>In the end, the conclusion is that there&#8217;s no real way to us fix this that would stop &#8220;attacks&#8221; against small consumer grade sites without also significantly degrading the overall functionality. </p>
<p>Unfortunately, so-called &#8220;won&#8217;t fix&#8221; items aren&#8217;t eligible under the bug bounty program, so there won&#8217;t be a reward for this issue. I want to acknowledge, however, both that I think your proposed attack is interesting/creative and that you clearly put a lot of work into researching and reporting the issue last month. That IS appreciated and we do hope that you&#8217;ll continue to submit any future security issues you find to the Facebook bug bounty program.
</p></blockquote>
<p>I&#8217;m not sure why they are not fixing this. Supporting dynamic links in image tags could be a problem and I&#8217;m not a big fan of it. I think a manual upload would satisfy the need of users if they want to have dynamically generated image on the notes. </p>
<p>I also see a couple of other problems with this type of abuse:</p>
<ul>
<li> A scenario of traffic amplification: when the image is replaced by a pdf or video of larger size, Facebook would crawl a huge file but the user gets nothing. </li>
<li> Each Note supports 1000+ links and Facebook blocks a user after creating around 100 Notes in a short span. Since there is no captcha for note creation, all of this can be automated and an attacker could easily prepare hundreds of notes using multiple users until the time of attack when all of them is viewed at once. </li>
</ul>
<p>Although a sustained 400 Mbps could be dangerous, I wanted to test this one last time to see if it can indeed have a larger impact.<br />
Getting rid of the browser and using the poc script I was able to get ~900 Mbps outbound traffic.<br />
<img src="http://chr13.com/wp-content/uploads/2014/04/fb2.png"></img></p>
<p>I was using an ordinary 13 MB PDF file which was fetched by Facebook <strong>180,000+</strong> times, number of Facebook servers involved was <strong>112</strong>.</p>
<p>We can see the traffic graph is almost constant at 895 Mbps. This might be because of the maximum traffic imposed on my VM on the cloud which is using a shared Gbps ethernet port. It seems there is no restriction put on Facebook servers and with so many servers crawling at once we can only imagine how high this traffic can get. </p>
<p>After finding and reporting this issue, I found similar issues with Google which I blogged <a href="http://chr13.com/2014/03/10/using-google-to-ddos-any-website/">here</a>. Combining Google and Facebook, it seems we can easily get multiple Gbps of GET Flood. </p>
<p>Facebook crawler shows itself as facebookexternalhit. Right now it seems there is no other choice than to block it in order to avoid this nuisance.</p>
<h4>[Update1]</h4>
<p><a href="https://developers.facebook.com/docs/ApplicationSecurity/">https://developers.facebook.com/docs/ApplicationSecurity/</a> mentions a way to get the list of IP addresses that belongs to Facebook crawler.</p>
<pre class="wp-code-highlight prettyprint">
whois -h whois.radb.net — ‘-i origin AS32934′ | grep ^route
</pre>
<p>Blocking the IP addresses could be more effective than blocking the useragent. </p>
<p>I&#8217;ve been getting a lot of response on the blog and would like to thank the DOSarrest team for acknowledging the finding with an appreciation token. </p>
<h4 id="update">[Update 2]</h4>
<p>POC scripts and access log can now be accessed from <b><a href="https://github.com/chr13/fbnotes">Github</a></b>. The script is very simple and is a mere rough draft. Please use them for research and analysis purposes only. </p>
<p>The access logs are the exact logs I used for ~900 Mbps test. In the access logs you will find <strong>300,000+</strong> requests from Facebook. Previously, I only counted the facebookexternalhit/1.1, it seems that for each img tag, there are two hits i.e. one from externalhit version 1.0 and one from 1.1. I also tried Google during the test and you will find around 700 requests from Google. </p>
					</div><!-- END entry -->
		<div class="add-info">
					</div>
		<div class="post-info-bottom">
			<span class="post-info-category"><a href="http://chr13.com/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a></span><span class="post-info-tags"></span>
		</div>
		<div id="nav-below">
			<div class="nav-previous"><a href="http://chr13.com/2014/03/21/a-bug-in-the-bug-bounty-program/" rel="prev"><span class="meta-nav">&larr;</span> A Bug in the Bug Bounty Program</a></div>
			<div class="nav-next"></div>
		</div><!-- #nav-below -->					
	</div><!-- END post -->
	<!-- You can start editing here. -->

			<div id="comments-div"><h2 id="comments">67 Comments.</h2></div>
		<ol class="commentlist" id="thecomments">
				
<li class="comment even thread-even depth-1" id="li-comment-99">
	<div id="comment-99">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/f4888459d54aa6b825c6d66b49090e6e?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">yaaash</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-99">April 25, 2014 at 9:00 am</a></span>
		</div>
		<div class="comment-text">
			<p> <img src="http://chr13.com/wp-includes/images/smilies/icon_razz.gif" alt=":razz:" class="wp-smiley" />  great find mate and a very suitable title a bug in bug bounty program&#8230; wish you luck and lots of new vulnerabilities finding in near future.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-100">
	<div id="comment-100">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7141a815238c98e39803a9d50b7ab24c?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">peter</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-100">April 25, 2014 at 10:13 am</a></span>
		</div>
		<div class="comment-text">
			<p>I guess people will start to firewall off all the facebook servers, which is what Im about to do.  Do you have a list of the attacking servers?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-101">
	<div id="comment-101">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/8432b3c96c6b2e8fb388e7310f064e65?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Tricky Tick</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-101">April 25, 2014 at 11:13 am</a></span>
		</div>
		<div class="comment-text">
			<p>If I was you, I would be very tempted to make Facebook DDoS itself. If you trim the requests correctly and force the data center in, say, the US to make requests to Europe you could probably make them fill up their own bandwith back and forth using just a few servers.</p>
<p>I am not saying it would be a good idea, but the outcome would be extremely interesting.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-103">
	<div id="comment-103">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-103">April 25, 2014 at 1:31 pm</a></span>
		</div>
		<div class="comment-text">
			<p>It&#8217;s against the bug bounty rules to do this, hence one has to be careful here. I was only using browsers at first just because of that.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even depth-2" id="li-comment-113">
	<div id="comment-113">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0e184b5c5d6ca04aeee35a04d230cc10?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://avarner.org' rel='external nofollow' class='url'>John Smith</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-113">April 25, 2014 at 9:59 pm</a></span>
		</div>
		<div class="comment-text">
			<p>I thought about that, and had the same concern that Facebook might not scrape its own domain. However, if you own example.com, you might be able to point facebook-dos-test.example.com to one of facebook&#8217;s servers, and then point the image links to <a href="http://facebook-dos-test.example.com/user12345/giant-video-file.mp4" rel="nofollow">http://facebook-dos-test.example.com/user12345/giant-video-file.mp4</a></p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt depth-2" id="li-comment-130">
	<div id="comment-130">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0f47863045aca2e224a15a88ee718e29?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">kruger</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-130">April 26, 2014 at 10:00 am</a></span>
		</div>
		<div class="comment-text">
			<p>What if the note contained url to itself. Or a number of notes that formed a cycle. A &#8220;forkbomb&#8221; at FB?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-102">
	<div id="comment-102">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c80486069a7c8abc6aadd47fe334ade4?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://iancnorden.com' rel='external nofollow' class='url'>I N</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-102">April 25, 2014 at 1:11 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Have you tried playing around with ftp:// requests instead of http:// requests? WhiteHat Security had a great talk about an ad network based DOS tool leveraging user&#8217;s browsers loading ads that I attended back in Aug: <a href="https://www.youtube.com/watch?v=ERJmkLxGRC0&#038;index=9&#038;list=PLiq_fDYFoqMocM7ADQCTfGAdI9CXA-kUs" rel="nofollow">https://www.youtube.com/watch?v=ERJmkLxGRC0&#038;index=9&#038;list=PLiq_fDYFoqMocM7ADQCTfGAdI9CXA-kUs</a> ; the slide at 11:38 shows what I&#8217;m potentially referring to.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-105">
	<div id="comment-105">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-105">April 25, 2014 at 1:56 pm</a></span>
		</div>
		<div class="comment-text">
			<p>I&#8217;m not sure if ftp works for Facebook, haven&#8217;t checked it. But if it is the number of requests, I used my own poc script where I can increase this number.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even depth-2" id="li-comment-106">
	<div id="comment-106">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/cc4c961d8e20baf9d866cb364471893b?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">programings</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-106">April 25, 2014 at 2:03 pm</a></span>
		</div>
		<div class="comment-text">
			<p>ftp:// will not work on Facebook and on every site that keeps PHP version up-to-date. Service from this calibre 100 % runs PHP in safe mode, with allow_url_fopen direcive setted to 0.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment odd alt depth-3" id="li-comment-107">
	<div id="comment-107">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/89ec268d347a422368b2d8cbcc5e059b?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://anesti.org' rel='external nofollow' class='url'>spangborn</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-107">April 25, 2014 at 3:10 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Facebook uses HHVM. Unless they&#8217;ve locked it down, the default for allow_url_fopen in HHVM is 1. <a href="http://docs.hhvm.com/manual/en/ini.list.php" rel="nofollow">http://docs.hhvm.com/manual/en/ini.list.php</a></p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-104">
	<div id="comment-104">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/d5182a99c2becbabada44ab101dbcd98?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">programings</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-104">April 25, 2014 at 1:41 pm</a></span>
		</div>
		<div class="comment-text">
			<p>This can be more destructive if you set image source to be a some search function in the victim site, for examaple <a href="http://www.example.com?q=random_param" rel="nofollow">http://www.example.com?q=random_param</a>.<br />
It will cause the remote site to do SQL queries itself for searching, and if the content that should be searched for matches is big, the result is<br />
absolutely clear.</p>
<p>They should pay you and think how to fix it. Yeah, it&#8217;s complex and the way can be not fully effective, but will help a little bit. One way is to not allow more than N number images in one single note (i.e. GET requests limit), and if the limit is reached, the captcha can be shown to confirm that the viewer is human, so if the challenge is complete -&gt; continue display the other pictures, if they are pictures  <img src="http://chr13.com/wp-includes/images/smilies/icon_biggrin.gif" alt=":grin:" class="wp-smiley" />  (to avoid automatic DDoS attacks using this vulnerability).</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-114">
	<div id="comment-114">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/4c794f938f339526b3939ecb6d95ad77?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Jordan</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-114">April 25, 2014 at 10:10 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Excuse my ignorance, as this isn&#8217;t my area of expertise. But is this exploit possible to run against Facebook itself?  Linking images from Facebook servers and sending a multitude of get requests against itself? I would imagine that would motivate them to fix the problem. </p>
<p>Just my 2 cents. =)</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-115">
	<div id="comment-115">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/9ccb4ace7b87eab168f4da0b4f3ddca6?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Huntington</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-115">April 25, 2014 at 10:11 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Are they really that uncreative?</p>
<p>Go ahead and limit the request to three characters after the file dot or four for jpg or whatever. If that isn&#8217;t enough checksum the file to see if it&#8217;s already cached. Jesus Christ.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment odd alt depth-2" id="li-comment-121">
	<div id="comment-121">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/8c9e995b41c609519160309a8d4fbabd?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://chillidonut.com/' rel='external nofollow' class='url'>McKenzie</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-121">April 26, 2014 at 12:53 am</a></span>
		</div>
		<div class="comment-text">
			<p>Although not widely used, dynamic images are valid so I suppose they don&#8217;t want to disable this feature. ETags is a creative solution but again the same checksums mapping to multiple URLs is also valid and would eventually show the incorrect image from time to time.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even depth-2" id="li-comment-207">
	<div id="comment-207">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7bfbfc8e3fcc080f74f55d22b53f15b3?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Andrew</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-207">April 30, 2014 at 9:41 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Or when receiving &gt;N requests for a single URL (minus the query parameters) do a file checksum and then stop making requests for that file if 100% of those requests resulted in a file with the same checksum.</p>
<p>Whatever solution they end up going with, it doesn&#8217;t really matter.</p>
<p>What matters is what they are saying: &#8220;Giving a damn about the rest of the internet isn&#8217;t our job. Even when the solution is simple and saves us money, we don&#8217;t give a damn&#8221;.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-117">
	<div id="comment-117">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/ff4b3cac20483c8fe19f54e2904aa2cd?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://alphanemoon.com/' rel='external nofollow' class='url'>infinity</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-117">April 25, 2014 at 10:51 pm</a></span>
		</div>
		<div class="comment-text">
			<p>I have been blocking facebookexternalhit due to the bad behaviour of this crawler for several years now and I have noticed no negative side effects so far.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-118">
	<div id="comment-118">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/b2fba2741f4a744147ad43cd05b2bd0b?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://zanesiursitoare.ro' rel='external nofollow' class='url'>Alex</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-118">April 25, 2014 at 11:58 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Well this is something I didn&#8217;t expect to find, specially involving such a big problem with facebook.<br />
I think it&#8217;s imposing a big threat for websites, specially with that kind of bandwith behind&#8230;<br />
Thanks for sharing!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-120">
	<div id="comment-120">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a0649f292d74ca1453ca81c04b4fc50e?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://mergy.org' rel='external nofollow' class='url'>Jonathan Mergy</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-120">April 26, 2014 at 12:22 am</a></span>
		</div>
		<div class="comment-text">
			<p>I actually now might login to Facebook to play with this. It would be very useful to generate load testing.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-122">
	<div id="comment-122">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0bbd9047ee90214a5276660c06a47345?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://gotux.net/' rel='external nofollow' class='url'>TuxLyn</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-122">April 26, 2014 at 1:32 am</a></span>
		</div>
		<div class="comment-text">
			<p>Try using CloudFlare for Anti-DDoS attacks, especially when you have Anti-Scraping feature on.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-123">
	<div id="comment-123">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/1b219c57297eb20b6ac34666de740014?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.dosarrest.com' rel='external nofollow' class='url'>Jenny</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-123">April 26, 2014 at 1:32 am</a></span>
		</div>
		<div class="comment-text">
			<p>This is a great discovery and I&#8217;m a little surprised that FB wouldn&#8217;t pay you for the find. We at DOSarrest have already created a mini module to apply to a customer&#8217;s config in the event we run into this type of attack based on your findings, it saves us time and effort, rather than doing it on the fly. We appreciate your efforts on this and are willing to pay you $500.00USD for it. I&#8217;ll be in touch by email to work out the details.<br />
Jwong</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment even depth-2" id="li-comment-145">
	<div id="comment-145">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/edda54521680b835e9f0ea2675598b76?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Chad</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-145">April 26, 2014 at 7:44 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Good on ya Jenny for going out of your way!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-148">
	<div id="comment-148">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-148">April 26, 2014 at 7:53 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Thank you for the appreciation.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-124">
	<div id="comment-124">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/b0136e4273ba247b33e5e7abd10c870b?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://bithavior.com/' rel='external nofollow' class='url'>Emilio</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-124">April 26, 2014 at 3:00 am</a></span>
		</div>
		<div class="comment-text">
			<p>I can&#8217;t believe they won&#8217;t fix this!, I don&#8217;t think it will be a too hard to add some preventive measures such as 1) limiting the amount of images per note, 2) checking the domain of each image (limit per domain), 3) verify that there are no repeated images by comparing checksums or similar&#8230; Anyway, great job!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-125">
	<div id="comment-125">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/b58996c504c5638798eb6b511e6f49af?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Anonymous</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-125">April 26, 2014 at 3:22 am</a></span>
		</div>
		<div class="comment-text">
			<p>Would one be able to mitigate this by blocking all these ranges with IPTables/PF</p>
<p>whois -h whois.radb.net &#8212; &#8216;-i origin AS32934&#8242; | grep ^route</p>
<p><a href="https://developers.facebook.com/docs/ApplicationSecurity/" rel="nofollow">https://developers.facebook.com/docs/ApplicationSecurity/</a></p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-2" id="li-comment-126">
	<div id="comment-126">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-126">April 26, 2014 at 3:42 am</a></span>
		</div>
		<div class="comment-text">
			<p>One way is to block all the crawler IP. If the whois returns all the IP range used by Facebook crawlers, definitely we could block it to prevent the damage. We might have to verify if the command includes Facebook&#8217;s externalhit crawlers.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-129">
	<div id="comment-129">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a4d930f2b93089f3b221823a1aa58061?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Jason Jehosephat</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-129">April 26, 2014 at 8:10 am</a></span>
		</div>
		<div class="comment-text">
			<p>Maybe I&#8217;m misunderstanding the nature of the problem, but I don&#8217;t see why this is a Facebook problem. You can create an HTML file on your own PC with thousands of img tags with dynamic URLs to an image on the targeted server, open it in your own browser, and achieve the same result, no?</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-2" id="li-comment-135">
	<div id="comment-135">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-135">April 26, 2014 at 12:57 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Most households don&#8217;t have a 400 Mbps internet connection, so that&#8217;s the catch. Even with the normal internet speed you can achieve this amplification using Facebook. If you don&#8217;t use Facebook for the crawl, you will be limited by your internet speed.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment odd alt depth-3" id="li-comment-141">
	<div id="comment-141">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/4fd19c204f282797c1a0315700558de9?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://jannikvogel.de' rel='external nofollow' class='url'>Jannik</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-141">April 26, 2014 at 4:21 pm</a></span>
		</div>
		<div class="comment-text">
			<p>There is (or was) a similar issue with WhatsApp. Late 2011 / Early 2012 I broke the protocol and wrote a custom client.<br />
WhatsApp allows you to send a image stanza which (on android and ios iirc) preloads the image from a given URL.<br />
Now the spicy part about this is that you can spam and probably even broadcast (to the entire XMPP server! &#8211; so a couple hundred thousand users you don&#8217;t even know) these image stanzas due to various other bugs.<br />
The idea behind this sort of ddos is that not the mobiles itself will preload the data but the network carrier might do this at the transmitting station/hotspot. A simple image stanza in a broadcast could therefore theoreticly cause million of distributed GET requests from mobile network hotspots accross the earth all at once.<br />
Untested though and probably (hopefully) fixed by now.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-133">
	<div id="comment-133">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/5981729c4fb55fcfc52b2aba038bba6c?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Rh3nc3</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-133">April 26, 2014 at 12:00 pm</a></span>
		</div>
		<div class="comment-text">
			<p>hi bro .. what should i replace into /file?</p>
<p>iwill replace it some files on the site or what ?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-134">
	<div id="comment-134">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/3a1542e0111f7daf728fbc9fd3a424ac?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Dami0</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-134">April 26, 2014 at 12:02 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Rate limiting anyone?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-142">
	<div id="comment-142">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/08b11d254a615fc96b62330220a9af7f?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.cryptologie.net' rel='external nofollow' class='url'>David Wong</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-142">April 26, 2014 at 5:22 pm</a></span>
		</div>
		<div class="comment-text">
			<p>There&#8217;s a step I don&#8217;t understand:</p>
<p>Step 2. Use m.facebook.com to create the notes. It silently truncates the notes to a fixed length.</p>
<p>Care to expand on that? Great post anyway, I just blogged about it <img src="http://chr13.com/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-143">
	<div id="comment-143">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-143">April 26, 2014 at 6:12 pm</a></span>
		</div>
		<div class="comment-text">
			<p>It&#8217;s just a small technical detail while automatically creating notes. m.facebook.com does not validate on length of note and just truncates the note to a fixed size. So you can try to create a large note and it will just silently truncate to max length, makes it a bit easy as one does not have to calculate the note length accepted by Facebook.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment even depth-3" id="li-comment-150">
	<div id="comment-150">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/08b11d254a615fc96b62330220a9af7f?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.cryptologie.net' rel='external nofollow' class='url'>David Wong</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-150">April 26, 2014 at 9:33 pm</a></span>
		</div>
		<div class="comment-text">
			<p>alright! Got it</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-144">
	<div id="comment-144">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/276c34ed1c59c9872a96f29d9fec5ec6?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.monard-dhulst.be' rel='external nofollow' class='url'>Ben Hermans</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-144">April 26, 2014 at 6:28 pm</a></span>
		</div>
		<div class="comment-text">
			<p> <img src="http://chr13.com/wp-includes/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" class="wp-smiley" />  There are probably more easy ways to organize a DoS attack but it certainly is a good find!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="pingback even thread-odd thread-alt depth-1" id="li-comment-149">
	<div id="comment-149">
		<div class="comment-author vcard pingback">
			<cite class="fn zbench_pingback"><a href='http://mattiasgeniar.be/2014/04/26/whois-at-the-cli-get-all-ip-ranges-from-an-as-number/' rel='external nofollow' class='url'>Whois at the CLI: get all IP ranges from an AS number ~ Mattias Geniar</a> - pingback on April 26, 2014 at 8:37 pm</cite>
		</div>
	</div>
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-152">
	<div id="comment-152">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/086f1cab5625f03d3a04342359757fea?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://fak3r.com' rel='external nofollow' class='url'>fak3r</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-152">April 27, 2014 at 1:28 am</a></span>
		</div>
		<div class="comment-text">
			<p>This is a great find, and as you say, something that wouldn&#8217;t be difficult for them to fix, so I&#8217;m surprised they&#8217;re not. If you wanted to ddos a target company, you&#8217;d just have to use google to find a large file they host, write your note pointing to that file, and take them out &#8211; essentially making Facebook ddos targets. Then they would have to take action. Nice work!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-153">
	<div id="comment-153">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/71dd4c68544e1854ddd4dda620fbcb9d?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Chan Four</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-153">April 27, 2014 at 2:03 am</a></span>
		</div>
		<div class="comment-text">
			<p>This means we can use Google to DDoS Facebook and Facebook to DDoS Google? Awesome!</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-155">
	<div id="comment-155">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-155">April 27, 2014 at 2:43 am</a></span>
		</div>
		<div class="comment-text">
			<p>This means both of them can be abused to have an even greater impact on an external website.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-154">
	<div id="comment-154">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/9fd86ed7b67a6e1af37104c3b923efae?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.cmswire.com/cms/customer-experience/incapsula-names-the-site-hackers-used-in-major-ddos-attack-024926.php' rel='external nofollow' class='url'>Noreen Seebacher</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-154">April 27, 2014 at 2:32 am</a></span>
		</div>
		<div class="comment-text">
			<p>Would love to talk<br />
Seems like the same thing we outlined <a href="http://www.cmswire.com/cms/customer-experience/incapsula-names-the-site-hackers-used-in-major-ddos-attack-024926.php" rel="nofollow">here</a>.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-160">
	<div id="comment-160">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/70c965264982683e40e43e96fa2cfe45?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://attrition.org' rel='external nofollow' class='url'>dudefest</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-160">April 27, 2014 at 9:45 am</a></span>
		</div>
		<div class="comment-text">
			<p>This is a lot of work to create a small amount of traffic compared to pretty much every modern method of DDoS, is easily blockable, is easily detectable. I wouldn&#8217;t bother fixing this either since it offers no improvement on an attack.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-168">
	<div id="comment-168">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e95d4072e7194152a68cc59a50dbbd0d?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">emad aldin</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-168">April 27, 2014 at 7:45 pm</a></span>
		</div>
		<div class="comment-text">
			<p>let just say  <img src="http://chr13.com/wp-includes/images/smilies/icon_biggrin.gif" alt=":grin:" class="wp-smiley" />   i aslo found bugs on facebook but still got these kinds of replays<br />
like<br />
we can not fix the bug<br />
or this bug was reported before  <img src="http://chr13.com/wp-includes/images/smilies/icon_biggrin.gif" alt=":grin:" class="wp-smiley" /><br />
which means they donot care<br />
im sure there millions of bugs in facebook website<br />
but they donot want to fix it<br />
cause they will feel shame and they will lose money  <img src="http://chr13.com/wp-includes/images/smilies/icon_twisted.gif" alt=":twisted:" class="wp-smiley" />    <img src="http://chr13.com/wp-includes/images/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" /><br />
but anyway great bug you found and you should get reworded sorry for my week English</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-171">
	<div id="comment-171">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0a260c11c52934d80fdf2b6dea93aa23?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">YouFree</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-171">April 28, 2014 at 4:15 am</a></span>
		</div>
		<div class="comment-text">
			<p>This is a great find, i can&#8217;t believe they won&#8217;t fix it!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-177">
	<div id="comment-177">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/3e901f430b8427b9e62d0607f4b11174?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Izzy</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-177">April 28, 2014 at 2:34 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Leading BDoS vendor has a HTTP mitigation option that would automatically and dynamically block such requests (for HTTP and HTTPS) and protect the potential victim.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181">
	<div id="comment-181">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/06632fe87e433c6867c1fe96d46a57dc?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://www.cmswire.com' rel='external nofollow' class='url'>Noreen Seebacher</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-181">April 28, 2014 at 8:14 pm</a></span>
		</div>
		<div class="comment-text">
			<p>We <a>reported your findings today here</a>. Thank you</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-183">
	<div id="comment-183">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/19e2bb8e46904102794a1fc73347b4b0?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">ftl</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-183">April 28, 2014 at 11:46 pm</a></span>
		</div>
		<div class="comment-text">
			<p>I tested it with 10 notes and 1000 random links, viewed bandwidth graph, nothing <img src="http://chr13.com/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" />  only 1-2 mbit increased</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-184">
	<div id="comment-184">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-184">April 28, 2014 at 11:54 pm</a></span>
		</div>
		<div class="comment-text">
			<p>If you are using 10 notes, make sure all 10&#215;1000 links are unique. Take a bigger file to crawl and see what happens. If using a browser, may be you need more notes.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-190">
	<div id="comment-190">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/bc0479931c483a5956e4a22bd105cc28?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Hade</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-190">April 29, 2014 at 10:32 am</a></span>
		</div>
		<div class="comment-text">
			<p>Just ran some tests of my own.<br />
Facebook uses Akamai CDN service to process the images.<br />
This probably explains why they refused to fix the issue &#8211; it is an external service.</p>
<p>Seems Akamai have fixed it anyway.<br />
The CDN stops processing the images after the first few hundred and they refuse to load any more from that domain.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-192">
	<div id="comment-192">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-192">April 29, 2014 at 12:15 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Last time I checked this was not fixed. I will run the tests soon to verify this.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-3" id="li-comment-198">
	<div id="comment-198">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-198">April 30, 2014 at 2:18 am</a></span>
		</div>
		<div class="comment-text">
			<p>This is definitely not fixed. I just created 1 note with 1200 links. Just used 1 tab to view the notes and the bandwidth is 300+ Mbps. I&#8217;m using a 13 Mb pdf file.</p>
<p><a href="http://chr13.com/wp-content/uploads/2014/04/b1.png" rel="nofollow">http://chr13.com/wp-content/uploads/2014/04/b1.png</a></p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment odd alt depth-4" id="li-comment-322">
	<div id="comment-322">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/bc0479931c483a5956e4a22bd105cc28?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Hade</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-322">May 9, 2014 at 8:45 am</a></span>
		</div>
		<div class="comment-text">
			<p>Something isn&#8217;t right here.<br />
Can you confirm that the image URLs are in the below format?:</p>
<p><a href="https://fbexternal-a.akamaihd.net/safe_image.php?d=url-encoded" rel="nofollow">https://fbexternal-a.akamaihd.net/safe_image.php?d=url-encoded</a> image URL]</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-5" id="li-comment-323">
	<div id="comment-323">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-323">May 9, 2014 at 9:53 am</a></span>
		</div>
		<div class="comment-text">
			<p>The final url is the safe_image.php on akamai.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-194">
	<div id="comment-194">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/984ac20154dcc79be889f517149f518f?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">James Bond</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-194">April 29, 2014 at 5:59 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Tried it with 500 unique links repeated over 15 notes. Didn&#8217;t notice much change.</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-2" id="li-comment-197">
	<div id="comment-197">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-197">April 30, 2014 at 12:00 am</a></span>
		</div>
		<div class="comment-text">
			<p>Make sure you have 15&#215;500 unique links. And visit them at once in 15 tabs. I&#8217;ll have to check if it has been already fixed or not.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-205">
	<div id="comment-205">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/92f8c9cef22072afd297751f5181423d?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Snail</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-205">April 30, 2014 at 8:07 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Fun is, that all the files are downloaded in to RAM of all users. So every user will have over 1 GB new data in RAM. This may overload the memory on less powerful computers.  <img src="http://chr13.com/wp-includes/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" class="wp-smiley" /> </p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-208">
	<div id="comment-208">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/3a33b3e914d1faeb17d0d79ab5bce76f?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Syed Sufiyan</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-208">May 1, 2014 at 3:34 am</a></span>
		</div>
		<div class="comment-text">
			<p>Wouldn&#8217;t briefly caching images on their server space itself be viable?</p>
<p>In the sense that for a brief period of time the ISP or whatever the Facebook server farm is running can redirect all those links to this cached copy and that will only be like serving the same image.</p>
<p>Pretty much like how it works on a regular computer where processes are cached (L1, L2, L3, L4) and when needed can be brought up immediately rather than having to get it from the Disk every single time. Facebook is doing that right getting it from the Disk every single time? In such a position, I find that this could help.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-243">
	<div id="comment-243">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/1a9434856852a991a585fbb993174c81?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">Dennis</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-243">May 2, 2014 at 5:57 am</a></span>
		</div>
		<div class="comment-text">
			<p>It is not a real problem of FB but in general how agent/proxy/pre-fetch agent handle static resource with querystring.</p>
<p>What you should do is nothing FB specific but redirect all requests with QueryString to URL without QueryString. (If you are not using this skill for http-cache-invalidation)</p>
<p>RewriteRule   ^/static/(.+)?(.*) /static/$1</p>
<p>Then you saved your bandwidth.</p>
<p>For the number of request, you may set a limit or let them queue? move to nginx if you are still using old good apache</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor even depth-2" id="li-comment-244">
	<div id="comment-244">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-244">May 2, 2014 at 10:52 am</a></span>
		</div>
		<div class="comment-text">
			<p>This *is* a Facebook problem. If they were not caching then I would say this is not a real problem. Then the attacker would have to create a legitimate traffic or simulate thousands of legitimate crawlers.<br />
If Facebook wants to crawl it should crawl properly. </p>
<p>So, everyone on the internet should fix this ? This affects *everyone* on the internet, I somehow feel people miss that. Most third world countries don&#8217;t have so much bandwidth. It&#8217;s just less pain for the rest of the world if Facebook would fix this.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-265">
	<div id="comment-265">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/16390d7590658156e34d484b811eb901?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn"><a href='http://shockied.blogspot.com/' rel='external nofollow' class='url'>inspiring</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-265">May 5, 2014 at 6:09 am</a></span>
		</div>
		<div class="comment-text">
			<p>Very great post. I just stumbled upon your blog and wished to mention that I have<br />
really loved surfing around your weblog posts.<br />
In any case I will be subscribing for your feed and I&#8217;m hoping you write again very soon!</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-266">
	<div id="comment-266">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/143bb9c27afc1c2e331a1e6ab5e802d2?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">dan</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-266">May 5, 2014 at 8:25 am</a></span>
		</div>
		<div class="comment-text">
			<p>Hi chr13, I&#8217;d love to know how you figure out all the ajax post parameters (__a, __dyn, __req, etc). Could you give me a link or some info? I&#8217;d really appreciate it</p>
					</div>
		<div class="reply">
					</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-chaman-thapagmail-com bypostauthor odd alt depth-2" id="li-comment-269">
	<div id="comment-269">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a19fc43e58913ebed908ecdfe55390d1?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">chr13</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-269">May 5, 2014 at 1:18 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Fiddler, Live HTTP headers</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-268">
	<div id="comment-268">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/143bb9c27afc1c2e331a1e6ab5e802d2?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">dan</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-268">May 5, 2014 at 12:39 pm</a></span>
		</div>
		<div class="comment-text">
			<p>actually I&#8217;ve got something working now, just using the data from another POST. Seems kind of superfluous at the moment &#8211; I know they didn&#8217;t used to need these arguments at all. Guessing they&#8217;ll probably do more with them in the future&#8230;</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-277">
	<div id="comment-277">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6f73fa53198345ba915d4d69e452960d?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">n00b</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-277">May 6, 2014 at 10:30 am</a></span>
		</div>
		<div class="comment-text">
			<p>Where can I find a FREE website to monitor the bandwidth around websites?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-278">
	<div id="comment-278">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/e544c4d8a7884dff4aab52f00f2cf0e8?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">_nub</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-278">May 6, 2014 at 2:11 pm</a></span>
		</div>
		<div class="comment-text">
			<p>is this still working?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-287">
	<div id="comment-287">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6f73fa53198345ba915d4d69e452960d?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">n00b</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-287">May 7, 2014 at 10:05 am</a></span>
		</div>
		<div class="comment-text">
			<p>I&#8217;m trying to generate multiple  and then paste them into a FB note.. I&#8217;m using this script:</p>
<p>window.onload = function(){<br />
var JIM = document.getElementById(&#8216;JIM&#8217;);</p>
<p>var DynamiCreate = function(){<br />
var i = 0<br />
var maxSize = 4000<br />
    while(i &lt; maxSize){<br />
        i++;<br />
        JIM.innerText += &quot;&#8221; + &#8220;\n&#8221;;<br />
    }<br />
};   </p>
<p>DynamiCreate();<br />
}</p>
<p>It creates a list like this:</p>
<p>&#8230;</p>
<p>etc&#8230;</p>
<p>I&#8217;m doing right or wrong? Should it works?</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-288">
	<div id="comment-288">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6f73fa53198345ba915d4d69e452960d?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">n00b</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-288">May 7, 2014 at 10:09 am</a></span>
		</div>
		<div class="comment-text">
			<p>*It creates a list like this:<br />
<code></p>
<p></code><br />
etc&#8230;.</p>
<p>Sorry for the precedent post, i forget to use <code> tag</code></p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-289">
	<div id="comment-289">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6f73fa53198345ba915d4d69e452960d?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">n00b</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-289">May 7, 2014 at 10:16 am</a></span>
		</div>
		<div class="comment-text">
			<p>Omg it&#8217;s a bit diffucult post the code here, I&#8217;m sorry&#8230;<br />
@chr13: please remove my last 2 posts,<br />
however have a look to this code here: <a href="http://jsfiddle.net/9ZDYw/" rel="nofollow">http://jsfiddle.net/9ZDYw/</a></p>
<p>It creates a list, then I copy it and paste into a FB note..</p>
<p>Should this work??</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-331">
	<div id="comment-331">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/f12a39634a793a2341e9b726ee430961?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />			<cite class="fn">DavidH</cite>
			<span class="comment-meta commentmetadata"><a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/#comment-331">May 9, 2014 at 10:14 pm</a></span>
		</div>
		<div class="comment-text">
			<p>Good find on this, I talked about the potentials of this a while ago in my blog at <a href="http://blog.radware.com/security/2014/03/wordpress-ddos-and-other-http-reflectors/" rel="nofollow">http://blog.radware.com/security/2014/03/wordpress-ddos-and-other-http-reflectors/</a>    Once somebody starts daisy chaining these together it will become a huge amplifier.  On premise DDoS equipment is definitely a requirement and rate limiting is NOT going to fix it.   Other sites are also very vulnerable to this kind of thing.</p>
					</div>
		<div class="reply">
					</div>
	</div>

</li><!-- #comment-## -->
		</ol>
		<div class="navigation"></div>
	
	<script type="text/javascript">
	/* <![CDATA[ */
		function grin(tag) {
			var myField;
			tag = ' ' + tag + ' ';
			if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {
				myField = document.getElementById('comment');
			} else {
				return false;
			}
			if (document.selection) {
				myField.focus();
				sel = document.selection.createRange();
				sel.text = tag;
				myField.focus();
			}
			else if (myField.selectionStart || myField.selectionStart == '0') {
				var startPos = myField.selectionStart;
				var endPos = myField.selectionEnd;
				var cursorPos = endPos;
				myField.value = myField.value.substring(0, startPos)
							  + tag
							  + myField.value.substring(endPos, myField.value.length);
				cursorPos += tag.length;
				myField.focus();
				myField.selectionStart = cursorPos;
				myField.selectionEnd = cursorPos;
			}
			else {
				myField.value += tag;
				myField.focus();
			}
		}
	/* ]]> */
	</script>
					<div class="trackbacks-pingbacks">
			<h3>Trackbacks and Pingbacks:</h3>
			<ul id="pinglist">
				    <li id="comment-149">
        <a href='http://mattiasgeniar.be/2014/04/26/whois-at-the-cli-get-all-ip-ranges-from-an-as-number/' rel='external nofollow' class='url'>Whois at the CLI: get all IP ranges from an AS number ~ Mattias Geniar</a> - Pingback on 2014/04/26/ 20:37</li><!-- #comment-## -->
			</ul>
		</div>
	</div><!--content-->
<div id="sidebar-border">
	<div id="rss_border">
		<div class="rss_border">
			<div id="rss_wrap">
				<div class="rss_wrap">
										<a class="rss rss_text" href="http://chr13.com/feed/" rel="bookmark" title="RSS Feed">RSS Feed</a>
																													</div>
			</div>
		</div>
	</div>
	<div id="sidebar">

		<div id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widgettitle">Recent Posts</h3>		<ul>
					<li>
				<a href="http://chr13.com/2014/04/20/using-facebook-notes-to-ddos-any-website/">Using Facebook Notes to DDoS any website</a>
						</li>
					<li>
				<a href="http://chr13.com/2014/03/21/a-bug-in-the-bug-bounty-program/">A Bug in the Bug Bounty Program</a>
						</li>
					<li>
				<a href="http://chr13.com/2014/03/10/using-google-to-ddos-any-website/">Using Google to DDoS any website</a>
						</li>
				</ul>
		</div><div id="archives-2" class="widget widget_archive"><h3 class="widgettitle">Archives</h3>		<ul>
	<li><a href='http://chr13.com/2014/04/'>April 2014</a></li>
	<li><a href='http://chr13.com/2014/03/'>March 2014</a></li>
		</ul>
</div>

	</div><!-- end: #sidebar -->
</div><!-- end: #sidebar-border -->	<!--WP Code Highlight_start-->
	<script type="text/javascript">
		window.onload = function(){prettyPrint();};
	</script>
	<script type="text/javascript" src="http://chr13.com/wp-content/plugins/wp-code-highlight/js/wp-code-highlight.js"></script>
	<!--WP Code Highlight_end-->
</div><!--wrapper-->
<div class="clear"></div>
<div id="footer">
	<div id="footer-inside">
		<p>
			Copyright &copy; 2014 A Programmer&#039;s Blog			| Powered by <a href="http://zww.me">zBench</a> and <a href="http://wordpress.org/">WordPress</a>		</p>
		<span id="back-to-top">&uarr; <a href="#" rel="nofollow" title="Back to top">Top</a></span>
	</div>
</div><!--footer-->
</body>
</html>