<!DOCTYPE html>
<html>
<head>
    
    <title>html - RegEx match open tags except XHTML self-contained tags - Stack Overflow</title>
    <link rel="shortcut icon" href="//cdn.sstatic.net/stackoverflow/img/favicon.ico?v=038622610830">
    <link rel="apple-touch-icon image_src" href="//cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png?v=fd7230a85918">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com"/>
    <meta name="og:type" content="website" />
    <meta name="og:image" content="http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon@2.png?v=fde65a5a78c6"/>
    <meta name="og:title" content="RegEx match open tags except XHTML self-contained tags" />
    <meta name="og:description" content="I need to match all of these opening tags:

&amp;lt;p&amp;gt;
&amp;lt;a href=&quot;foo&quot;&amp;gt;


But not these:

&amp;lt;br /&amp;gt;
&amp;lt;hr class=&quot;foo&quot; /&amp;gt;


I came up with this and wanted to make sure I&#39;ve got it right. I..." />
    <meta name="og:url" content="http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags"/>
    <link rel="canonical" href="http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags" />

    
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="//cdn.sstatic.net/Js/stub.en.js?v=d142d951ee55"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/stackoverflow/all.css?v=dc5a5d7ef830">
    
    <script>
        
        StackExchange.ready(function () {
            StackExchange.using("postValidation", function () {
                StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
            });

            
            StackExchange.question.init({showAnswerHelp:true,totalCommentCount:3,shownCommentCount:3,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:1732348});

            styleCode();

                StackExchange.realtime.subscribeToQuestion('1', '1732348');
            
                    });
    </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","serverTime":1404248419,"networkMetaHostname":"meta.stackexchange.com","styleCode":true,"enableUserHovercards":true,"site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"nonAsciiTags":true,"enableSocialMediaInSharePopup":true},"user":{"fkey":"8c6b727b7d57e168eb0f1d8a05eba522","isAnonymous":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"12ef2711e474","js/moderator.en.js":"e2c6bab58c56","js/full-anon.en.js":"a66b4586d8f3","js/full.en.js":"d43401f72f80","js/wmd.en.js":"d25c057c3f48","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"5f0b5c72eaa8","js/help.en.js":"43b6b771d4d9","js/tageditor.en.js":"afabf8d8de91","js/tageditornew.en.js":"140e973e4037","js/inline-tag-editing.en.js":"21223186b436","js/revisions.en.js":"989c474e85a9","js/review.en.js":"c261687765b3","js/tagsuggestions.en.js":"bb4721d888d2","js/post-validation.en.js":"62fe2d3d1730","js/explore-qlist.en.js":"8b8b631bd679","js/events.en.js":"7263182fd2c2"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="question-page new-topbar">
    <noscript><div id="noscript-padding"></div></noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>
<div class="topbar">
    <div class="topbar-wrapper">
        
        <div class="js-topbar-dialog-corral">

<div class="topbar-dialog siteSwitcher-dialog dno">
    <div class="header">
        <h3><a href="//stackoverflow.com">current community</a></h3>
    </div>
    <div class="modal-content current-site-container">
        <ul class="current-site">
                <li>
                        <div class="related-links">
            <a href="http://chat.stackoverflow.com"     data-gps-track="site_switcher.click({ item_type:6 })"
>chat</a>
                    <a href="http://blog.stackoverflow.com"     data-gps-track="site_switcher.click({ item_type:7 })"
>blog</a>
            </div>




    <a href="//stackoverflow.com"
       class="current-site-link site-link js-gps-track"
       data-id="1"
       data-gps-track="
        site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                </li>
                <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    



    <a href="http://meta.stackoverflow.com"
       class="site-link js-gps-track"
       data-id="552"
       data-gps-track="
            site.switch({ target_site:552, item_type:3 }),
        site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                </li>
                            <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    <a class="site-link"
                       href="//careers.stackoverflow.com"
                            data-gps-track="site_switcher.click({ item_type:9 })"
>
                        <div class="site-icon favicon favicon-careers" title="Stack Overflow Careers"></div>
                        Careers 2.0
                    </a>
                </li>
        </ul>
    </div>
    
    <div class="header" id="your-communities-header">
        <h3>
your communities        </h3>
            
    </div>
    <div class="modal-content" id="your-communities-section">
            
            <div class="call-to-login">
                        <a href="https://stackoverflow.com/users/signup?returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f1732348%2fregex-match-open-tags-except-xhtml-self-contained-tags%2f1732454" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:10 })"
>Sign up</a>
                    or
                    <a href="https://stackoverflow.com/users/login?returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f1732348%2fregex-match-open-tags-except-xhtml-self-contained-tags%2f1732454" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:11 })"
>log in</a>

                    to customize your list.
            </div>
    </div>
    
    <div class="header">
        <h3><a href="//stackexchange.com/sites">more stack exchange communities</a></h3>
    </div>
    <div class="modal-content">
            <div class="child-content"></div>
    </div>
</div>
        </div>

        <div class="network-items">
            
            <a href="//stackexchange.com" 
               class="topbar-icon icon-site-switcher yes-hover js-site-switcher-button js-gps-track"
               data-gps-track="site_switcher.show"
               title="A list of all 128 Stack Exchange sites">
                <span class="hidden-text">Stack Exchange</span>
            </a>
            
        </div>

        <div class="topbar-links">
            
                <div class="links-container">
                    <span class="topbar-menu-links">
                            <a href="https://stackoverflow.com/users/signup?returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f1732348%2fregex-match-open-tags-except-xhtml-self-contained-tags%2f1732454" class="login-link">sign up</a>
                            <a href="https://stackoverflow.com/users/login?returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f1732348%2fregex-match-open-tags-except-xhtml-self-contained-tags%2f1732454" class="login-link">log in</a>
                            <a href="/tour">tour</a>

                            <a href="#" class="icon-help js-help-button" title="Help Center and other resources">
        help
        <span class="triangle"></span>
    </a>
    <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="/tour"     class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })"
>
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="/help"     class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })"
>
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                    <li>
                        <a href="//meta.stackoverflow.com"     class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })"
>
                            Meta
                            <span class="item-summary">
                                Discuss the workings and policies of this site
                            </span>
                        </a>
                    </li>
            </ul>
        </div>
    </div>

                            <a href="//careers.stackoverflow.com">careers 2.0</a>
                    </span>
                </div>

			<div class="search-container">
                <form id="search" action="/search" method="get" autocomplete="off">
                    <input name="q" type="text" placeholder="search" value="" tabindex="1" autocomplete="off" maxlength="240" />
                </form>
			</div>
            	
        </div>      
    </div> 
</div>
<script>
    StackExchange.ready(function () { StackExchange.topbar.init(); });
</script>
    <div class="container">
        <div id="header" class=headeranon>
            <br class="cbt">
            <div id="hlogo">
                <a href="/">
                    Stack Overflow
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs mainnavsanon">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="/questions">Questions</a></li>
                        <li><a id="nav-tags" href="/tags">Tags</a></li>
                        <li><a id="nav-users" href="/users">Users</a></li>
                        <li><a id="nav-badges" href="/help/badges">Badges</a></li>
                        <li><a id="nav-unanswered" href="/unanswered">Unanswered</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content">
            

<div itemscope itemtype="http://schema.org/Article">
	<link itemprop="image" href="//cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png">
			<!--googleoff: all-->

<div id="herobox-mini">
    <div id="hero-content">
        <span id="controls">
            <a href="/tour" id="tell-me-more" class="button">Take the 2-minute tour</a>
            <span id="close"><a title="click to dismiss">&times;</a></span>
        </span>
        <div id="blurb">
            Stack Overflow is a question and answer site for professional and enthusiast programmers. It&#39;s 100% free, no registration required.
        </div>        
    </div>
    <script>
        $('#tell-me-more').click(function () {
            var clickSource = $("body").attr("class") + '-mini';
            if ($("body").hasClass("questions-page")) {
                clickSource = 'questionpagemini';
            } else if ($("body").hasClass("question-page")) {
                clickSource = 'questionpagemini';
            } else if ($("body").hasClass("home-page")) {
                clickSource = 'homepagemini';
            }

            StackExchange.using("gps", function () {
                StackExchange.gps.track("aboutpage.click", { aboutclick_location: clickSource } , true);
            });
        });
        $('#herobox-mini #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "close" }, true);
            });
            $.cookie("hero", "none", { path: "/" });
            var $hero = $("#herobox-mini");
            $hero.slideUp('fast', function () { $hero.remove(); });
            return false;
        });
    </script>
</div>
			<!--googleon: all-->
			<div id="question-header">
			<h1 itemprop="name"><a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags" class="question-hyperlink">RegEx match open tags except XHTML self-contained tags</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="1732348"  id="question">

        <input type="hidden" id="1732348-only-allow-inform-moderator-flagging" value="true" />
    <script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk1554228546",4).setZone(43) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1554228546">
            </div>    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1732348">
    <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
    <span class="vote-count-post high-scored-post">1327</span>
    <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>
    
    <a class="star-off" href="#" title="This is a favorite question (click again to undo)">favorite</a>
    <div class="favoritecount"><b>3477</b></div>   

</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="description">

        <p>I need to match all of these opening tags:</p>

<pre><code>&lt;p&gt;
&lt;a href="foo"&gt;
</code></pre>

<p>But not these:</p>

<pre><code>&lt;br /&gt;
&lt;hr class="foo" /&gt;
</code></pre>

<p>I came up with this and wanted to make sure I've got it right. I am only capturing the <code>a-z</code>.</p>

<pre><code>&lt;([a-z]+) *[^/]*?&gt;
</code></pre>

<p>I believe it says:</p>

<ul>
<li>Find a less-than, then</li>
<li>Find (and capture) a-z one or more times, then</li>
<li>Find zero or more spaces, then</li>
<li>Find any character zero or more times, greedy, except <code>/</code>, then</li>
<li>Find a greater-than</li>
</ul>

<p>Do I have that right? And more importantly, what do you think?</p>

    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/html" class="post-tag" title="show questions tagged &#39;html&#39;" rel="tag">html</a> <a href="/questions/tagged/regex" class="post-tag" title="show questions tagged &#39;regex&#39;" rel="tag">regex</a> <a href="/questions/tagged/xhtml" class="post-tag" title="show questions tagged &#39;xhtml&#39;" rel="tag">xhtml</a> 
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/q/1732348" title="short permalink to this question" class="short-link" id="link-post-1732348">share</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1732348/revisions" title="show all edits to this post">edited <span title="2012-05-26 20:37:05Z" class="relativetime">May 26 '12 at 20:37</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
    <td class="post-signature">
        <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1732348" href="/posts/1732348/revisions" title="show revision history for this post">
        11 revs, 7 users 58%<br><a href="/users/142233">Jeff</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</div>
</td>
        </tr>
        
            <tr>
            <td class="special-status" colspan="2">
                <div class="question-status">
        <h2>                    <b>locked</b> by <a href="/users/102937/robert-harvey">Robert Harvey</a><span class="mod-flair" title="moderator">♦</span> <span title="2012-06-07 19:41:16Z" class="relativetime">Jun 7 '12 at 19:41</span>
</h2>
        <p>This post has been locked due to the high amount of off-topic comments generated. For extended discussions, please use <a href="http://chat.stackoverflow.com">chat</a>.</p>
    </div>
            </td>
        </tr>
    
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1732348" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="comments disabled on deleted / locked posts" 
			           data-addlink-disabled="true">

    <tr id="comment-12269742" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">26</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">The funniest thing is that the question was about “matching”, while most of the answers are about “parsing” :}. Hmmmm…</span>
                &ndash;&nbsp;
                    <a href="/users/801220/thebodzio"
                       title="146 reputation"
                       class="comment-user">thebodzio</a>
                <span class="comment-date" dir="ltr"><span title="2012-03-12 02:15:20Z" class="relativetime-clean">Mar 12 '12 at 2:15</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13890766" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@thebodzio: why is that funny? Often you have to analyze (parse) a string in order to find out whether it matches a given pattern.</span>
                &ndash;&nbsp;
                    <a href="/users/423105/larsh"
                       title="14421 reputation"
                       class="comment-user">LarsH</a>
                <span class="comment-date" dir="ltr"><span title="2012-05-22 10:08:01Z" class="relativetime-clean">May 22 '12 at 10:08</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13965164" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@LarsH: “Funniness” is in the fact that question was about <i>matching</i> tag in <i>XML</i> and the answers are about <i>parsing_XML</i>. You&#39;re right about “parsing string to get a match”, but I think you&#39;ll agree, there&#39;s a serious difference between parsing XML and parsing string.</span>
                &ndash;&nbsp;
                    <a href="/users/801220/thebodzio"
                       title="146 reputation"
                       class="comment-user">thebodzio</a>
                <span class="comment-date" dir="ltr"><span title="2012-05-24 23:57:24Z" class="relativetime-clean">May 24 '12 at 23:57</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1732348" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments." 
				>comments disabled on deleted / locked posts</a>
    </td>
</tr>        </table>
</div>


			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								36 Answers
						</h2>
						<div>
							<div id="tabs">
        <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?answertab=active#tab-top" title="Answers with the latest activity first">active</a>
        <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?answertab=oldest#tab-top" title="Answers in the order they were provided">oldest</a>
        <a class="youarehere" href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?answertab=votes#tab-top" title="Answers with the highest score first">votes</a>
</div>
						</div>
					</div>    
				</div>    


<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>

  
<a name="1732454"></a>
<div id="answer-1732454" class="answer accepted-answer" data-answerid="1732454" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1732454">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post high-scored-post">4428</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>
</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>You can't parse [X]HTML with regex. Because HTML can't be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center> cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow <i>it is too late it is too late we cannot be saved</i> the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) <i>dear lord help us how can anyone survive this scourge</i> using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes <i>using rege</i>x as a tool to process HTML establishes a brea<i>ch between this world</i> and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but <i>more corrupt) a mere glimp</i>se of the world of reg​<b>ex parsers for HTML will ins</b>​tantly transport a p<i>rogrammer's consciousness i</i>nto a w<i>orl</i>d of ceaseless screaming, he comes<strike>, the pestilent sl</strike>ithy regex-infection wil​<b>l devour your HT</b>​ML parser, application and existence for all time like Visual Basic only worse <i>he comes he com</i>es <i>do not fi</i>​ght h<b>e com̡e̶s, ̕h̵i</b>​s un̨ho͞ly radiańcé de<i>stro҉ying all enli̍̈́̂̈́ghtenment, HTML tags <b>lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq</b>​uid p</i>ain, the song of re̸gular exp​re<strike>ssion parsing </strike>will exti<i>​nguish the voices of mor​<b>tal man from the sp</b>​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​</i>he f<code>inal snuf</code>fing o<i>f the lie​<b>s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T A</b></i><b>LL I​S L</b>OST th<i>e pon̷y he come</i>s he c̶̮om<strike>es he co</strike><b><strike>me</strike>s t<i>he</i> ich​</b>or permeat<i>es al</i>l MY FAC<i>E MY FACE ᵒh god n<b>o NO NOO̼</b></i><b>O​O N</b>Θ stop t<i>he an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨ</i>e̠̅s<code> ͎a̧͈͖r̽̾̈́͒͑e</code> n<b>​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ T</b>O͇̹̺ͅƝ̴ȳ̳ TH̘<b>Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝</b>S̨̥̫͎̭ͯ̿̔̀ͅ</p>

<hr>

<p>Have you tried using an XML parser instead?</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1732454" title="short permalink to this answer" class="short-link" id="link-post-1732454">share</a></div>        <div class="deleted-answer-info">
            locked by <a href="/users/23354/marc-gravell">Marc Gravell</a><span class="mod-flair" title="moderator">♦</span> <span title="2012-03-13 20:04:40Z" class="relativetime">Mar 13 '12 at 20:04</span>
        </div>            </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1732454/revisions" title="show all edits to this post">edited <span title="2011-10-06 20:49:19Z" class="relativetime">Oct 6 '11 at 20:49</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1732454" href="/posts/1732454/revisions" title="show revision history for this post">
        6 revs, 4 users 50%<br><a href="/users/18936">bobince</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
    
    <tr>
        <td colspan="2"><div class='question-status'><p>This post has been locked while disputes about its content are being resolved. For more info <a href="http://meta.stackoverflow.com">visit meta</a>.</p></div></td>
    </tr>
    
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1732454" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="46" 
			           data-addlink-html="comments disabled on deleted / locked posts" 
			           data-addlink-disabled="true">

    <tr id="comment-1612336" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">177</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Kobi: I think it&#39;s time for me to quit the post of Assistant Don&#39;t Parse HTML With Regex Officer. No matter how many times we say it, they won&#39;t stop coming every day... every hour even. It is a lost cause, which someone else can fight for a bit. So go on, parse HTML with regex, if you must. It&#39;s only broken code, not life and death.</span>
                &ndash;&nbsp;
                    <a href="/users/18936/bobince"
                       title="266657 reputation"
                       class="comment-user">bobince</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-13 23:18:03Z" class="relativetime-clean">Nov 13 '09 at 23:18</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1612381" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">218</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">++ for &quot;The &lt;center&gt; cannot hold&quot;</span>
                &ndash;&nbsp;
                    <a href="/users/25068/horace-loeb"
                       title="12611 reputation"
                       class="comment-user">Horace Loeb</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-13 23:27:14Z" class="relativetime-clean">Nov 13 '09 at 23:27</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1612530" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">755</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Chuck Norris <i>can</i> parse HTML with regex.</span>
                &ndash;&nbsp;
                    <a href="/users/93422/thx-1138"
                       title="7034 reputation"
                       class="comment-user">THX-1138</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-14 00:03:42Z" class="relativetime-clean">Nov 14 '09 at 0:03</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1612638" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">395</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">A true work of art; I weep at the poetic beauty.</span>
                &ndash;&nbsp;
                    <a href="/users/23354/marc-gravell"
                       title="477199 reputation"
                       class="comment-user">Marc Gravell<span class="mod-flair" title="moderator">&#9830;</span></a>
                <span class="comment-date" dir="ltr"><span title="2009-11-14 00:29:16Z" class="relativetime-clean">Nov 14 '09 at 0:29</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1618100" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">89</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">unknown (google): That&#39;s just silly, Chuck Norris doesn&#39;t parse HTML. When he shows up, it <i>parses itself</i>.</span>
                &ndash;&nbsp;
                    <a href="/users/149522/ryandenki"
                       title="855 reputation"
                       class="comment-user">ryandenki</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-15 14:40:09Z" class="relativetime-clean">Nov 15 '09 at 14:40</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1732454" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>46</b> more comments</a>
    </td>
</tr>    </table>
</div>
<script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk1882372373",4).setZone(44) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1882372373">
            </div>
  
<a name="1733489"></a>
<div id="answer-1733489" class="answer" data-answerid="1733489" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1733489">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post high-scored-post">1412</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


<div class="bounty-award-container"><span class="bounty-award" title="This answer has been awarded bounties worth 50 reputation by ThiefMaster">+50</span></div></div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>While it is true that asking regexes to parse <em>arbitrary</em> HTML is like asking Paris Hilton to write an operating system, it's sometimes appropriate to parse a <em>limited, known</em> set of HTML.  </p>

<p>If you have a small set of HTML pages that you want to scrape data from and then stuff into a database, regexe's might work fine.  For example, I recently wanted to get the names, parties, and districts of Australian federal Representatives, which I got off of the Parliament's Web site.  This was a limited, one-time job.  </p>

<p>Regexes worked just fine for me, and were very fast to set up.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1733489" title="short permalink to this answer" class="short-link" id="link-post-1733489">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1733489/revisions" title="show all edits to this post">edited <span title="2014-03-10 22:52:53Z" class="relativetime">Mar 10 at 22:52</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1733489" href="/posts/1733489/revisions" title="show revision history for this post">
        3 revs, 3 users 73%<br><a href="/users/210931">Kaitlin Duck Sherwood</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1733489" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="14" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-13095248" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">41</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Also, scraping fairly regularly formatted data from large documents is going to be WAY faster with judicious use of scan &amp; regex than any generic parser. And if you are comfortable with coding regexes, way faster to code than coding xpaths. And almost certainly less fragile to changes in what you are scraping. So bleh.</span>
                &ndash;&nbsp;
                    <a href="/users/173542/michael-johnston"
                       title="2135 reputation"
                       class="comment-user">Michael Johnston</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 20:47:27Z" class="relativetime-clean">Apr 17 '12 at 20:47</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-15088991" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">56</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@MichaelJohnston &quot;Less fragile&quot;? Almost certainly not. Regexes care about text-formatting details than an XML parser can silently ignore. Switching between <code>&amp;foo;</code> encodings and <code>CDATA</code> sections? Using an HTML minifier to remove all whitespace in your document that the browser doesn&#39;t render? An XML parser won&#39;t care, and neither will a well-written XPath statement. A regex-based &quot;parser&quot;, on the other hand...</span>
                &ndash;&nbsp;
                    <a href="/users/14122/charles-duffy"
                       title="32175 reputation"
                       class="comment-user">Charles Duffy</a>
                <span class="comment-date" dir="ltr"><span title="2012-07-11 16:03:24Z" class="relativetime-clean">Jul 11 '12 at 16:03</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-15115534" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">11</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@CharlesDuffy for an one time job it&#39;s ok, and for spaces we use \s+</span>
                &ndash;&nbsp;
                    <a href="/users/1090657/xiaomao"
                       title="1546 reputation"
                       class="comment-user">xiaomao</a>
                <span class="comment-date" dir="ltr"><span title="2012-07-12 13:50:01Z" class="relativetime-clean">Jul 12 '12 at 13:50</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-15120388" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">16</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@xiaomao indeed, if having to know all the gotchas and workarounds to get an 80% solution that fails the rest of the time &quot;works for you&quot;, I can&#39;t stop you. Meanwhile, I&#39;m over on my side of the fence using parsers that work on 100% of syntactically valid XML.</span>
                &ndash;&nbsp;
                    <a href="/users/14122/charles-duffy"
                       title="32175 reputation"
                       class="comment-user">Charles Duffy</a>
                <span class="comment-date" dir="ltr"><span title="2012-07-12 16:07:28Z" class="relativetime-clean">Jul 12 '12 at 16:07</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-16523188" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">85</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I once had to pull some data off ~10k pages, all with the same HTML template. They were littered with HTML errors that caused parsers to choke, and all their styling was inline or with <code>&lt;font&gt;</code> etc.: no classes or IDs to help navigate the DOM. After fighting all day with the &quot;right&quot; approach, I finally switched to a regex solution and had it working in an hour.</span>
                &ndash;&nbsp;
                    <a href="/users/122087/paul-a-jungwirth"
                       title="3500 reputation"
                       class="comment-user">Paul A Jungwirth</a>
                <span class="comment-date" dir="ltr"><span title="2012-09-07 07:14:38Z" class="relativetime-clean">Sep 7 '12 at 7:14</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1733489" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>14</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="1758162"></a>
<div id="answer-1758162" class="answer" data-answerid="1758162" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1758162">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post high-scored-post">1055</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I think the flaw here is that HTML is a <a href="http://en.wikipedia.org/wiki/Context-free_grammar">Chomsky Type 2 grammar (context free grammar)</a> and RegEx is a <a href="http://en.wikipedia.org/wiki/Regular_grammar">Chomsky Type 3 grammar (regular grammar)</a>. Since a Type 2 grammar is fundamentally more complex than a Type 3 grammar (see the <a href="http://en.wikipedia.org/wiki/Chomsky_hierarchy">Chomsky hierarchy</a>), you can't possibly  make this work. But many will try, some will claim success and others will find the fault and totally mess you up.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1758162" title="short permalink to this answer" class="short-link" id="link-post-1758162">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1758162/revisions" title="show all edits to this post">edited <span title="2014-03-10 22:53:55Z" class="relativetime">Mar 10 at 22:53</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1758162" href="/posts/1758162/revisions" title="show revision history for this post">
        7 revs, 6 users 28%<br><a href="/users/22088">Vlad Gudim</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1758162" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="2" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-12073546" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">94</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">The OP is asking to parse a very limited subset of XHTML: start tags. What makes (X)HTML a CFG is its potential to have elements between the start and end tags of other elements (as in a grammar rule <code>A -&gt; s A e</code>). (X)HTML does <i>not</i> have this property <i>within</i> a start tag: a start tag cannot contain other start tags. The subset that the OP is trying to parse is not a CFG.</span>
                &ndash;&nbsp;
                    <a href="/users/423105/larsh"
                       title="14421 reputation"
                       class="comment-user">LarsH</a>
                <span class="comment-date" dir="ltr"><span title="2012-03-02 08:43:55Z" class="relativetime-clean">Mar 2 '12 at 8:43</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-12448141" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">37</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">In CS theory, regular languages <i>are</i> a strict subset of context-free languages, but regular expression implementations in mainstream programming languages are more powerful.  As <a href="http://www.noulakaz.net/weblog/2007/03/18/a-regular-expression-to-check-for-prime-numbers/" rel="nofollow">noulakaz.net/weblog/2007/03/18/&hellip;</a> describes, so-called &quot;regular expressions&quot; can check for prime numbers in unary, which is certainly something that a regular expression from CS theory can&#39;t accomplish.</span>
                &ndash;&nbsp;
                    <a href="/users/960195/adam-mihalcin"
                       title="8501 reputation"
                       class="comment-user">Adam Mihalcin</a>
                <span class="comment-date" dir="ltr"><span title="2012-03-19 23:50:52Z" class="relativetime-clean">Mar 19 '12 at 23:50</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-13885068" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@eyelidlessness: the same &quot;only if&quot; applies to all CFGs, does it not? I.e. if the (X)HTML input is not well-formed, not even a full-blown XML parser will work reliably. Maybe if you give examples of the &quot;(X)HTML syntax errors implemented in real world user agents&quot; you&#39;re referring to, I&#39;ll understand what you&#39;re getting at better.</span>
                &ndash;&nbsp;
                    <a href="/users/423105/larsh"
                       title="14421 reputation"
                       class="comment-user">LarsH</a>
                <span class="comment-date" dir="ltr"><span title="2012-05-22 05:09:22Z" class="relativetime-clean">May 22 '12 at 5:09</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-14106691" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">28</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@AdamMihalcin is exactly right. Most extant regex engines are more powerful than Chomsky Type 3 grammars (eg non-greedy matching, backrefs). Some regex engines (such as Perl&#39;s) are Turing complete. It&#39;s true that even those are poor tools for parsing HTML, but this oft-cited argument is not the reason why.</span>
                &ndash;&nbsp;
                    <a href="/users/272427/dubiousjim"
                       title="2229 reputation"
                       class="comment-user">dubiousjim</a>
                <span class="comment-date" dir="ltr"><span title="2012-05-31 13:44:04Z" class="relativetime-clean">May 31 '12 at 13:44</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-22995858" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">This is the most &quot;full and short&quot; answer here. It leads people to learn basics of formal grammars and languages and hopefully some maths so they will not wast time on hopeless things like solving NP-tasks in polynomial time</span>
                &ndash;&nbsp;
                    <a href="/users/639353/mishmashru"
                       title="82 reputation"
                       class="comment-user">mishmashru</a>
                <span class="comment-date" dir="ltr"><span title="2013-04-19 12:15:57Z" class="relativetime-clean">Apr 19 '13 at 12:15</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1758162" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>2</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="1736801"></a>
<div id="answer-1736801" class="answer" data-answerid="1736801" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1736801">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">611</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p><strong>Disclaimer</strong>: use a parser if you have the option. That said...</p>

<p>This is the regex I use (!) to match HTML tags:</p>

<pre><code>&lt;(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"&gt;])+&gt;
</code></pre>

<p>It may not be perfect, but I ran this code through a <em>lot</em> of HTML. Note that it even catches strange things like <code>&lt;a name="badgenerator""&gt;</code>, which show up on the web.</p>

<p>I guess to make it not match self contained tags, you'd either want to use <a href="http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732395#1732395">Kobi</a>'s negative look-behind:</p>

<pre><code>&lt;(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"&gt;])+(?&lt;!/\s*)&gt;
</code></pre>

<p>or just combine if and if not.</p>

<p><strong>To downvoters:</strong> This is working code from an actual product. I doubt anyone reading this page will get the impression that it is socially acceptable to use regexes on HTML. </p>

<p><strong>Caveat</strong>: I should note that this regex still breaks down in the presence of CDATA blocks, comments, and script and style elements. Good news is, you can get rid of those using a regex...  </p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1736801" title="short permalink to this answer" class="short-link" id="link-post-1736801">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1736801/revisions" title="show all edits to this post">edited <span title="2009-11-18 07:31:43Z" class="relativetime">Nov 18 '09 at 7:31</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1736801" href="/posts/1736801/revisions" title="show revision history for this post">
        3 revs<br><a href="/users/7581">itsadok</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1736801" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="4" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-13616563" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">35</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I would go with something that works on sane things than weep about not being universally perfect :-)</span>
                &ndash;&nbsp;
                    <a href="/users/1176394/prajeesh-kumar"
                       title="1205 reputation"
                       class="comment-user">prajeesh kumar</a>
                <span class="comment-date" dir="ltr"><span title="2012-05-10 03:44:49Z" class="relativetime-clean">May 10 '12 at 3:44</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-21369558" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">15</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Is someone using CDATA inside HTML?</span>
                &ndash;&nbsp;
                    <a href="/users/531954/%c5%81ukasz-%ec%9b%83-l-%e3%83%84"
                       title="9055 reputation"
                       class="comment-user">Łukasz 웃 L ツ</a>
                <span class="comment-date" dir="ltr"><span title="2013-03-02 07:51:55Z" class="relativetime-clean">Mar 2 '13 at 7:51</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1736801" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>4</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="5236278"></a>
<div id="answer-5236278" class="answer" data-answerid="5236278" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="5236278">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">514</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Don't listen to these guys. You actually <strong>can</strong> parse context-free grammars with regex if you break the task into smaller pieces. Your pattern needs to do each of these in order: </p>

<ol>
<li>Solve the Halting Problem.</li>
<li>Square a circle (use the "ruler and compass" method for this).</li>
<li>Work out the Traveling Salesman Problem in O(log n). It needs to be fast or your regex engine will hang.</li>
<li>The results will be pretty big, so make sure you have another algorithm that losslessly compresses random data.</li>
<li>Almost there - just divide the whole thing by zero. Easy-peasy.</li>
</ol>

<p>I haven't figured out the last part yet, but it shouldn't be hard. My code keeps throwing <code>CthulhuRlyehWgahnaglFhtagnException</code>s lately, so I'm setting up an empty <code>catch</code> block to just consume those and keep parsing. I'll update with the code once I investigate this strange door that just opened in the wall. Hmm.</p>

<p>Pierre de Fermat also figured out how to do it, but the margin he was writing in wasn't big enough for the code.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/5236278" title="short permalink to this answer" class="short-link" id="link-post-5236278">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/5236278/revisions" title="show all edits to this post">edited <span title="2014-05-19 19:03:44Z" class="relativetime">May 19 at 19:03</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Mar 8 &#39;11 at 17:49. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-5236278" href="/posts/5236278/revisions" title="show revision history for this post">
        7 revs<br><a href="/users/399649">Justin Morgan</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-5236278" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="2" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-12353113" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">5</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">It&#39;s a bit easy to <i>reduce</i> everything to that answer ;)</span>
                &ndash;&nbsp;
                    <a href="/users/415159/nicolas-c"
                       title="524 reputation"
                       class="comment-user">Nicolas C.</a>
                <span class="comment-date" dir="ltr"><span title="2012-03-15 09:51:12Z" class="relativetime-clean">Mar 15 '12 at 9:51</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-14424307" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">15</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Divison by zero is a much easier problem than the others you mention. If you use intervals, rather than plain floating point arithmetic (which everyone should be but nobody is), you can happily divide something by [an interval containing] zero. The result is simply an interval containing plus and minus infinity.</span>
                &ndash;&nbsp;
                    <a href="/users/3408/rjmunro"
                       title="10442 reputation"
                       class="comment-user">rjmunro</a>
                <span class="comment-date" dir="ltr"><span title="2012-06-14 10:53:39Z" class="relativetime-clean">Jun 14 '12 at 10:53</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-20157485" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@rjmunro - I hadn&#39;t heard of that one before. Mind = blown.</span>
                &ndash;&nbsp;
                    <a href="/users/399649/justin-morgan"
                       title="12643 reputation"
                       class="comment-user">Justin Morgan</a>
                <span class="comment-date" dir="ltr"><span title="2013-01-22 23:23:10Z" class="relativetime-clean">Jan 22 '13 at 23:23</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-21359004" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">37</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Fermat&#39;s small margin problem has been solved by soft margins in modern text-editing software.</span>
                &ndash;&nbsp;
                    <a href="/users/820321/kd4ttc"
                       title="446 reputation"
                       class="comment-user">kd4ttc</a>
                <span class="comment-date" dir="ltr"><span title="2013-03-01 20:24:32Z" class="relativetime-clean">Mar 1 '13 at 20:24</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-31058591" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Fermat was doing it in COBOL then, I presume? ;)</span>
                &ndash;&nbsp;
                    <a href="/users/1155847/yves-schelpe"
                       title="365 reputation"
                       class="comment-user">Yves Schelpe</a>
                <span class="comment-date" dir="ltr"><span title="2013-12-22 13:59:12Z" class="relativetime-clean">Dec 22 '13 at 13:59</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-5236278" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>2</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="5233151"></a>
<div id="answer-5233151" class="answer" data-answerid="5233151" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="5233151">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">187</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>There are people that will tell you that the Earth is round (or perhaps that the Earth is an oblate spheroid, if they want to use strange words). They are lying. </p>

<p>There are people that will tell you that Regular Expressions shouldn't be recursive. They are limiting you. They need to subjugate you, and they do it by keeping you in ignorance.</p>

<p>You can live in their reality or take the red pill.</p>

<p>Like the Lord Marshal (is he a relative of the Marshal .NET class?), I have seen the <strike>Underverse</strike> Stack Based Regex-Verse and returned with <strike>powers</strike> knowledge you can't imagine. Yes, I think there were an Old One or two protecting them, but they were watching football on the TV, so it wasn't difficult.</p>

<p>I think the XML case is quite simple. The RegEx (in the .NET syntax), deflated and coded in base64 to make it easier to comprehend by your feeble mind, should be something like this: </p>

<blockquote>
  <p>7L0HYBxJliUmL23Ke39K9UrX4HShCIBgEyTYkEAQ7MGIzeaS7B1pRyMpqyqBymVWZV1mFkDM7Z28
  995777333nvvvfe6O51OJ/ff/z9cZmQBbPbOStrJniGAqsgfP358Hz8itn6Po9/3eIue3+Px7/3F
  86enJ8+/fHn64ujx7/t7vFuUd/Dx65fHJ6dHW9/7fd/t7fy+73Ye0v+f0v+Pv//JnTvureM3b169
  OP7i9Ogyr5uiWt746u+BBqc/8dXx86PP7tzU9mfQ9tWrL18d3UGnW/z7nZ9htH/y9NXrsy9fvPjq
  i5/46ss3p4z+x3e8b452f9/x93a2HxIkH44PpgeFyPD6lMAEHUdbcn8ffTP9fdTrz/8rBPCe05Iv
  p9WsWF788Obl9MXJl0/PXnwONLozY747+t7x9k9l2z/4vv4kqo1//993+/vf2kC5HtwNcxXH4aOf
  LRw2z9/v8WEz2LTZcpaV1TL/4c3h66ex2Xv95vjF0+PnX744PbrOm59ZVhso5UHYME/dfj768H7e
  Yy5uQUydDAH9+/4eR11wHbqdfPnFF6cv3ogq/V23t++4z4620A13cSzd7O1s/77rpw+ePft916c7
  O/jj2bNnT7e/t/397//M9+ibA/7s6ZNnz76PP0/kT2rz/Ts/s/0NArvziYxVEZWxbm93xsrUfnlm
  rASN7Hf93u/97vvf+2Lx/e89L7+/FSXiz4Bkd/hF5mVq9Yik7fcncft9350QCu+efkr/P6BfntEv
  z+iX9c4eBrFz7wEwpB9P+d9n9MfuM3yzt7Nzss0/nuJfbra3e4BvZFR7z07pj3s7O7uWJM8eCkme
  nuCPp88MfW6kDeH7+26PSTX8vu+ePAAiO4LVp4zIPWC1t7O/8/+pMX3rzo2KhL7+8s23T1/RhP0e
  vyvm8HbsdmPXYDVhtpdnAzJ1k1jeufOtUAM8ffP06Zcnb36fl6dPXh2f/F6nRvruyHfMd9rgJp0Y
  gvsRx/6/ZUzfCtX4e5hTndGzp5jQo9e/z+s3p1/czAUMlts+P3tz+uo4tISd745uJxvb3/v4ZlWs
  mrjfd9SG/swGPD/6+nh+9MF4brTBRmh1Tl5+9eT52ckt5oR0xldPzp7GR8pfuXf5PWJv4nJIwvbH
  W3c+GY3vPvrs9zj8Xb/147/n7/b7/+52DD2gsSH8zGDvH9+i9/fu/PftTfTXYf5hB+9H7P1BeG52
  MTtu4S2cTAjDizevv3ry+vSNb8N+3+/1po2anj4/hZsGt3TY4GmjYbEKDJ62/pHB+3/LmL62wdsU
  1J18+eINzTJr3dMvXr75fX7m+MXvY9XxF2e/9+nTgPu2bgwh5U0f7u/74y9Pnh6/OX4PlA2UlwTn
  xenJG8L996VhbP3++PCrV68QkrjveITxr2TIt+lL+f3k22fPn/6I6f/fMqZvqXN/K4Xps6sazUGZ
  GeQlar49xEvajzI35VRevDl78/sc/b7f6jkG8Va/x52N4L9lBe/kZSh1hr9fPj19+ebbR4AifyuY
  12efv5CgGh9TroR6Pj2l748iYxYgN8Z7pr0HzRLg66FnRvcjUft/45i+pRP08vTV6TOe2N/9jv37
  R9P0/5YxbXQDeK5E9R12XdDA/4zop+/9Ht/65PtsDVlBBUqko986WsDoWqvbPD2gH/T01DAC1NVn
  3/uZ0feZ+T77fd/GVMkA4KjeMcg6RcvQLRl8HyPaWVStdv17PwHV0bOB9xUh7rfMp5Zu3icBJp25
  D6f0NhayHyfI3HXHY6YYCw7Pz17fEFhQKzS6ZWChrX+kUf7fMqavHViEPPKjCf1/y5hukcyPTvjP
  mHQCppRDN4nbVFPaT8+ekpV5/TP8g/79mVPo77PT1/LL7/MzL7548+XvdfritflFY00fxIsvSQPS
  mvctdYZpbt7vxKRfj3018OvC/hEf/79lTBvM3debWj+b8KO0wP+3OeM2aYHumuCAGonmCrxw9cVX
  X1C2d4P+uSU7eoBUMzI3/f9udjbYl/el04dI7s8fan8dWRjm6gFx+NrKeFP+WX0CxBdPT58df/X8
  DaWLX53+xFdnr06f/szv++NnX7x8fnb6NAhIwsbPkPS7iSUQAFETvP2Tx8+/Og0Xt/yBvDn9vd/c
  etno8S+81QKXptq/ffzKZFZ+4e/743e8zxino+8RX37/k595h5/H28+y7fPv490hQdJ349E+txB3
  zPZ5J/jsR8bs/y1j2hh/2fkayOqEmYcej0cXUWMN7QrqBwjDrVZRfyQM3xjj/EgYvo4wfLTZrnVS
  ebdKq0XSZJvzajKQDUv1/P3NwbEP7cN5+Odivv9/ysPfhHfkOP6b9Fl+91v7LD9aCvp/+Zi+7lLQ
  j0zwNzYFP+/Y6r1NcFeDbfBIo8rug3zS3/3WPumPlN3/y8f0I2X3cz4FP+/Y6htSdr2I42fEuSPX
  /ewpL4e9/n1evzn94hb+Plpw2+dnbyh79zx0CsPvbq0lb+UQ/h7xvqPq/Gc24PnR18fzVrp8I57d
  mehj7ebk5VdPnp+d3GJOSP189eTsaXyk/JV7l98j4SAZgRxtf7x155PR+O6jz36Pw9/1Wz/+e/5u
  v//vbsfQAxobws8M9v7xLXp/785/395ED4nO1wx5fsTeH4LnRva+eYY8rpZUBFb/j/jfm8XAvfEj
  4/b/ljF1F9B/jx5PhAkp1nu/+y3n+kdZp/93jWmjJ/M11TG++VEG6puZn593PPejoOyHMQU/79jq
  GwrKfpSB+tmcwZ93XPkjZffDmIKfd2z1DSm7bmCoPPmjBNT74XkrVf71I/Sf6wTU7XJA4RB+lIC6
  mW1+xN5GWw1/683C5rnj/m364cmr45Pf6/SN9H4Us4LISn355vjN2ZcvtDGT6fHvapJcMISmxc0K
  MAD4IyP6/5Yx/SwkP360FvD1VTH191mURr/HUY+2P3I9boPnz7Ju/pHrcWPnP3I9/r/L3sN0v52z 0fEgNrgbL8/Evfh9fw/q5Xf93u/97vvf+2Lx/e89L7+/Fe3iZ37f34P5h178kTfx/5YxfUs8vY26
  7/d4/OWbb5++ogn7PX5XzOHtOP3GrsHmqobOVO/8Hh1Gk/TPl198QS6w+rLb23fcZ0fMaTfjsv29
  7Zul7me2v0FgRoYVURnf9nZEkDD+H2VDf8hjeq8xff1s6GbButNLacEtefHm9VdPXp++CRTw7/v9
  r6vW8b9eJ0+/PIHzs1HHdyKE/x9L4Y+s2f+PJPX/1dbsJn3wrY6wiqv85vjVm9Pnp+DgN8efM5va
  j794+eb36Xz3mAf5+58+f3r68s230dRvJcxKn/l//oh3f+7H9K2O0r05PXf85s2rH83f/1vGdAvd
  w+qBFqsoWvzspozD77EpXYeZ7yzdfxy0ec+l+8e/8FbR84+Wd78xbvn/qQQMz/J7L++GPB7N0MQa
  2vTMBwjDrVI0PxKGb4xxfiQMX0cYPuq/Fbx2C1sU8yEF+F34iNsx1xOGa9t6l/yX70uqmxu+qBGm
  AxlxWwVS11O97ULqlsFIUvUnT4/fHIuL//3f9/t9J39Y9m8W/Tuc296yUeX/b0PiHwUeP1801Y8C
  j/9vz9+PAo8f+Vq35Jb/n0rAz7Kv9aPA40fC8P+RMf3sC8PP08DjR1L3DXHoj6SuIz/CCghZNZb8 fb/Hf/2+37tjvuBY9vu3jmRvxNeGgQAuaAF6Pwj8/+e66M8/7rwpRNj6uVwXZRl52k0n3FVl95Q+
  +fz0KSu73/dtkGDYdvZgSP5uskadrtViRKyal2IKAiQfiW+FI+tET/9/Txj9SFf8SFf8rOuKzagx
  +r/vD34mUADO1P4/AQAA//8=</p>
</blockquote>

<p>The options to set is <code>RegexOptions.ExplicitCapture</code>. The capture group you are looking for is <code>ELEMENTNAME</code>. If the capture group <code>ERROR</code> is not empty then there was a parsing error and the Regex stopped.</p>

<p>If you have problems reconverting it to a human readable regex, this should help:</p>

<pre class="lang-csharp prettyprint-override"><code>static string FromBase64(string str)
{
    byte[] byteArray = Convert.FromBase64String(str);

    using (var msIn = new MemoryStream(byteArray))
    using (var msOut = new MemoryStream()) {
        using (var ds = new DeflateStream(msIn, CompressionMode.Decompress)) {
            ds.CopyTo(msOut);
        }

        return Encoding.UTF8.GetString(msOut.ToArray());
    }
}
</code></pre>

<p>If you are unsure, no, I'm NOT kidding (but perhaps I'm lying). It WILL work. I've built tons of unit tests to test it, and I have even used (part of) the <a href="http://www.w3.org/XML/Test/" rel="nofollow">conformance tests</a>. It's a tokenizer, not a full blown parser, so it will only split the XML in its component tokens. It won't parse/integrate DTDs.</p>

<p>Oh... if you want the source code of the regex, with some auxiliary methods:</p>

<p><a href="http://snipt.net/xanatos/regex-to-tokenize-an-xml" rel="nofollow">regex to tokenize an xml</a></p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/5233151" title="short permalink to this answer" class="short-link" id="link-post-5233151">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/5233151/revisions" title="show all edits to this post">edited <span title="2014-04-22 22:56:28Z" class="relativetime">Apr 22 at 22:56</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Mar 8 &#39;11 at 13:30. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-5233151" href="/posts/5233151/revisions" title="show revision history for this post">
        6 revs, 5 users 94%<br><a href="/users/613130">xanatos</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-5233151" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="25" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-5890472" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">25</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">not-sure-if-serious.jpg -- hopefully this is brilliant satire</span>
                &ndash;&nbsp;
                    <a href="/users/446591/brad-mace"
                       title="11956 reputation"
                       class="comment-user">Brad Mace</a>
                <span class="comment-date" dir="ltr"><span title="2011-03-08 14:53:31Z" class="relativetime-clean">Mar 8 '11 at 14:53</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-5890952" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">30</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Good Lord, it&#39;s massive. My biggest question is why? You realize that all modern languages have XML parsers, right? You can do all that in like 3 lines and be sure it&#39;ll work. Furthermore, do you also realize that pure regex is <b>provably</b> unable to do certain things? Unless you&#39;ve created a hybrid regex/imperative code parser, but it doesn&#39;t look like you have. Can you compress random data as well?</span>
                &ndash;&nbsp;
                    <a href="/users/399649/justin-morgan"
                       title="12643 reputation"
                       class="comment-user">Justin Morgan</a>
                <span class="comment-date" dir="ltr"><span title="2011-03-08 15:23:45Z" class="relativetime-clean">Mar 8 '11 at 15:23</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-5891077" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">27</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Justin I don&#39;t need a reason. It could be done (and it wasn&#39;t illegal/immoral), so I have done it. There are no limitations to the mind except those we acknowledge (Napoleon Hill)... Modern languages can parse XML? Really? And I thought that THAT was illegal! :-)</span>
                &ndash;&nbsp;
                    <a href="/users/613130/xanatos"
                       title="30183 reputation"
                       class="comment-user">xanatos</a>
                <span class="comment-date" dir="ltr"><span title="2011-03-08 15:31:34Z" class="relativetime-clean">Mar 8 '11 at 15:31</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-5893435" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">17</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Sir, I&#39;m convinced. I&#39;m going to use this code as part of the kernel for my perpetual-motion machine--can you believe those fools at the patent office keep rejecting my application? Well, I&#39;ll show them. I&#39;ll show them all!</span>
                &ndash;&nbsp;
                    <a href="/users/399649/justin-morgan"
                       title="12643 reputation"
                       class="comment-user">Justin Morgan</a>
                <span class="comment-date" dir="ltr"><span title="2011-03-08 17:55:54Z" class="relativetime-clean">Mar 8 '11 at 17:55</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-5907706" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">12</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Justin So an Xml Parser is by definition bug free, while a Regex isn&#39;t? Because if an Xml Parser isn&#39;t bug free by definition there could be an xml that make it crash and we are back to step 0. Let say this: both the Xml Parser and this Regex try to be able to parse all the &quot;legal&quot; XML. They CAN parse some &quot;illegal&quot; XML. Bugs could crash both of them. C# XmlReader is surely more tested than this Regex.</span>
                &ndash;&nbsp;
                    <a href="/users/613130/xanatos"
                       title="30183 reputation"
                       class="comment-user">xanatos</a>
                <span class="comment-date" dir="ltr"><span title="2011-03-09 15:08:36Z" class="relativetime-clean">Mar 9 '11 at 15:08</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-5233151" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>25</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="1732595"></a>
<div id="answer-1732595" class="answer" data-answerid="1732595" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1732595">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">136</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I suggest using <a href="http://querypath.org/">QueryPath</a> for parsing XML and HTML in PHP.  It's basically much the same syntax as jQuery, only it's on the server side.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1732595" title="short permalink to this answer" class="short-link" id="link-post-1732595">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1732595/revisions" title="show all edits to this post">edited <span title="2011-08-05 13:23:32Z" class="relativetime">Aug 5 '11 at 13:23</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1732595" href="/posts/1732595/revisions" title="show revision history for this post">
        3 revs, 3 users 67%<br><a href="/users/9143">John Fiala</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1732595" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="1" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-3917178" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">8</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">+1 I really like how easy html parsing is with jQuery, didn&#39;t know there was something similar for server side.</span>
                &ndash;&nbsp;
                    <a href="/users/243494/kyle"
                       title="6718 reputation"
                       class="comment-user">Kyle</a>
                <span class="comment-date" dir="ltr"><span title="2010-09-14 20:33:03Z" class="relativetime-clean">Sep 14 '10 at 20:33</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1732595" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>1</b> more comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="2263520"></a>
<div id="answer-2263520" class="answer" data-answerid="2263520" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2263520">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">129</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>You can parse <a href="https://en.wikipedia.org/wiki/HTML" rel="nofollow">HTML</a> in <a href="https://en.wikipedia.org/wiki/Sed" rel="nofollow">sed</a> though.</p>

<ol>
<li><a href="http://sed.sourceforge.net/grabbag/scripts/turing.sed" rel="nofollow">Turing.sed</a></li>
<li>Write HTML parser (homework)</li>
<li>???</li>
<li>Profit!</li>
</ol>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/2263520" title="short permalink to this answer" class="short-link" id="link-post-2263520">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/2263520/revisions" title="show all edits to this post">edited <span title="2014-03-18 10:16:44Z" class="relativetime">Mar 18 at 10:16</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 15 &#39;10 at 0:55. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2263520" href="/posts/2263520/revisions" title="show revision history for this post">
        4 revs, 4 users 58%<br><a href="/users/272427">dubiousjim</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2263520" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-2347107" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">See also <a href="http://www.perlmonks.org/?displaytype=print;node_id=809842" rel="nofollow">perlmonks.org/?displaytype=print;node_id=809842</a></span>
                &ndash;&nbsp;
                    <a href="/users/272427/dubiousjim"
                       title="2229 reputation"
                       class="comment-user">dubiousjim</a>
                <span class="comment-date" dir="ltr"><span title="2010-03-03 12:50:29Z" class="relativetime-clean">Mar 3 '10 at 12:50</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2263520" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="7564061"></a>
<div id="answer-7564061" class="answer" data-answerid="7564061" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="7564061">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">114</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I agree that the right tool to parse XML and <em>especially HTML</em> is a parser and not a regular expression engine.  However, like others have pointed out, sometimes using a regex is quicker, easier, and gets the job done if you know the data format.</p>

<p>Microsoft actually has a section of <a href="http://msdn.microsoft.com/en-us/library/gg578045.aspx">Best Practices for Regular Expressions in the .NET Framework</a> and specifically talks about <a href="http://msdn.microsoft.com/en-us/library/gg578045.aspx#InputSource">Consider[ing] the Input Source</a>.</p>

<p>Regular Expressions do have limitations, but have you considered the following?</p>

<p>The .NET framework is unique when it comes to regular expressions in that it supports <a href="http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition">Balancing Group Definitions</a>.</p>

<ul>
<li>See <a href="http://weblogs.asp.net/whaggard/archive/2005/02/20/377025.aspx">Matching Balanced Constructs with .NET Regular Expressions</a></li>
<li>See <a href="http://blogs.msdn.com/bclteam/archive/2005/03/15/396452.aspx">.NET Regular Expressions: Regex and Balanced Matching</a></li>
<li>See Microsoft's docs on <a href="http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition">Balancing Group Definitions</a></li>
</ul>

<p>For this reason, I believe you CAN parse XML using regular expressions.  Note however, that it <strong>must be valid XML</strong> (<em>browsers are very forgiving of HTML and allow bad XML syntax inside HTML</em>).  This is possible since the "Balancing Group Definition" will allow the regular expression engine to act as a PDA.</p>

<p>Quote from article 1 cited above:</p>

<blockquote>
  <p><strong>.NET Regular Expression Engine</strong></p>
  
  <p>As described above properly balanced constructs cannot be described by
  a regular expression. However, the .NET regular expression engine
  provides a few constructs that allow balanced constructs to be
  recognized. </p>
  
  <ul>
  <li><code>(?&lt;group&gt;)</code> - pushes the captured result on the capture stack with
  the name group.</li>
  <li><code>(?&lt;-group&gt;)</code> - pops the top most capture with the name group off the
  capture stack.</li>
  <li><code>(?(group)yes|no)</code> - matches the yes part if there exists a group
  with the name group otherwise matches no part.</li>
  </ul>
  
  <p>These constructs allow for a .NET regular expression to emulate a
  restricted PDA by essentially allowing simple versions of the stack
  operations: push, pop and empty. The simple operations are pretty much
  equivalent to increment, decrement and compare to zero respectively.
  This allows for the .NET regular expression engine to recognize a
  subset of the context-free languages, in particular the ones that only
  require a simple counter. This in turn allows for the non-traditional
  .NET regular expressions to recognize individual properly balanced
  constructs.</p>
</blockquote>

<p>Consider the following regular expression:</p>

<pre><code>(?=&lt;ul\s+id="matchMe"\s+type="square"\s*&gt;)
(?&gt;
   &lt;!-- .*? --&gt;                  |
   &lt;[^&gt;]*/&gt;                      |
   (?&lt;opentag&gt;&lt;(?!/)[^&gt;]*[^/]&gt;)  |
   (?&lt;-opentag&gt;&lt;/[^&gt;]*[^/]&gt;)     |
   [^&lt;&gt;]*
)*
(?(opentag)(?!))
</code></pre>

<p>Use the flags:</p>

<ul>
<li>Singleline</li>
<li>IgnorePatternWhitespace (not necessary if you collapse regex and remove all whitespace)</li>
<li>IgnoreCase (not necessary)</li>
</ul>

<h2>Regular Expression Explained (inline)</h2>

<pre><code>(?=&lt;ul\s+id="matchMe"\s+type="square"\s*&gt;) # match start with &lt;ul id="matchMe"...
(?&gt;                                # atomic group / don't backtrack (faster)
   &lt;!-- .*? --&gt;                 |  # match xml / html comment
   &lt;[^&gt;]*/&gt;                     |  # self closing tag
   (?&lt;opentag&gt;&lt;(?!/)[^&gt;]*[^/]&gt;) |  # push opening xml tag
   (?&lt;-opentag&gt;&lt;/[^&gt;]*[^/]&gt;)    |  # pop closing xml tag
   [^&lt;&gt;]*                          # something between tags
)*                                 # match as many xml tags as possible
(?(opentag)(?!))                   # ensure no 'opentag' groups are on stack
</code></pre>

<p>You can try this at <a href="http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx">A Better .NET Regular Expression Tester</a>.</p>

<p>I used the sample source of:</p>

<pre><code>&lt;html&gt;
&lt;body&gt;
&lt;div&gt;
   &lt;br /&gt;
   &lt;ul id="matchMe" type="square"&gt;
      &lt;li&gt;stuff...&lt;/li&gt;
      &lt;li&gt;more stuff&lt;/li&gt;
      &lt;li&gt;
          &lt;div&gt;
               &lt;span&gt;still more&lt;/span&gt;
               &lt;ul&gt;
                    &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;
                    &lt;li&gt;...&lt;/li&gt;
               &lt;/ul&gt;
          &lt;/div&gt;
      &lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>This found the match:</p>

<pre><code>   &lt;ul id="matchMe" type="square"&gt;
      &lt;li&gt;stuff...&lt;/li&gt;
      &lt;li&gt;more stuff&lt;/li&gt;
      &lt;li&gt;
          &lt;div&gt;
               &lt;span&gt;still more&lt;/span&gt;
               &lt;ul&gt;
                    &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;
                    &lt;li&gt;...&lt;/li&gt;
               &lt;/ul&gt;
          &lt;/div&gt;
      &lt;/li&gt;
   &lt;/ul&gt;
</code></pre>

<p>although it actually came out like this:</p>

<pre><code>&lt;ul id="matchMe" type="square"&gt;           &lt;li&gt;stuff...&lt;/li&gt;           &lt;li&gt;more stuff&lt;/li&gt;           &lt;li&gt;               &lt;div&gt;                    &lt;span&gt;still more&lt;/span&gt;                    &lt;ul&gt;                         &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;                         &lt;li&gt;...&lt;/li&gt;                    &lt;/ul&gt;               &lt;/div&gt;           &lt;/li&gt;        &lt;/ul&gt;
</code></pre>

<p>Lastly, I really enjoyed Jeff Atwood's article:  <a href="http://www.codinghorror.com/blog/2009/11/parsing-html-the-cthulhu-way.html">Parsing Html The Cthulhu Way</a>.  Funny enough, it cites the answer to this question that currently has over 4k votes.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/7564061" title="short permalink to this answer" class="short-link" id="link-post-7564061">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/7564061/revisions" title="show all edits to this post">edited <span title="2013-09-27 19:03:43Z" class="relativetime">Sep 27 '13 at 19:03</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2011-09-27 04:01:04Z" class="relativetime">Sep 27 '11 at 4:01</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/590956/sam"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/efa6d867fd2fc69944ae52b86e9b1687?s=32&d=identicon&r=PG" alt=""></div></a>
    </div>
    <div class="user-details">
        <a href="/users/590956/sam">Sam</a><br>
        <span class="reputation-score" title="reputation score 13190" dir="ltr">13.2k</span><span title="8 gold badges"><span class="badge1"></span><span class="badgecount">8</span></span><span title="43 silver badges"><span class="badge2"></span><span class="badgecount">43</span></span><span title="80 bronze badges"><span class="badge3"></span><span class="badgecount">80</span></span>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-7564061" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="3" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-11457016" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">9</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>System.Text</code> is not part of C#. It&#39;s part of .NET.</span>
                &ndash;&nbsp;
                    <a href="/users/76337/john-saunders"
                       title="118221 reputation"
                       class="comment-user">John Saunders</a>
                <span class="comment-date" dir="ltr"><span title="2012-02-02 19:07:53Z" class="relativetime-clean">Feb 2 '12 at 19:07</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-14956273" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">In the first line of your regex (<code>(?=&lt;ul\s*id=&quot;matchMe&quot;\s*type=&quot;square&quot;\s*&gt;) # match start with &lt;ul id=&quot;matchMe&quot;...</code>), in between &quot;&lt;ul&quot; and &quot;id&quot; should be <code>\s+</code>, not <code>\s*</code>, unless you want it to match &lt;ulid=... ;)</span>
                &ndash;&nbsp;
                    <a href="/users/1344461/c0deh4cker"
                       title="2438 reputation"
                       class="comment-user">C0deH4cker</a>
                <span class="comment-date" dir="ltr"><span title="2012-07-06 02:49:08Z" class="relativetime-clean">Jul 6 '12 at 2:49</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-7564061" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>3</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="2146912"></a>
<div id="answer-2146912" class="answer" data-answerid="2146912" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2146912">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">93</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>While the answers that you can't parse HTML with regexes are correct, they don't apply here. The OP just wants to parse one HTML tag with regexes, and that is something that can be done with a regular expression.</p>

<p>The suggested regex is wrong, though:</p>

<pre><code>&lt;([a-z]+) *[^/]*?&gt;
</code></pre>

<p>If you add something to the regex, by backtracking it can be forced to match silly things like <code>&lt;a &gt;&gt;</code>, <code>[^/]</code> is too permissive. Also note that <code>&lt;space&gt;*[^/]*</code> is redundant, because the <code>[^/]*</code> can also match spaces.</p>

<p>My suggestion would be</p>

<pre><code>&lt;([a-z]+)[^&gt;]*(?&lt;!/)&gt;
</code></pre>

<p>Where <code>(?&lt;! ... )</code> is (in Perl regexes) the negative look-behind. It reads "a &lt;, then a word, then anything that's not a >, the last of which may not be a /, followed by >".</p>

<p>Note that this allows things like <code>&lt;a/ &gt;</code> (just like the original regex), so if you want something more restrictive, you need to build a regex to match attribute pairs separated by spaces.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/2146912" title="short permalink to this answer" class="short-link" id="link-post-2146912">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/2146912/revisions" title="show all edits to this post"><span title="2010-01-27 12:54:35Z" class="relativetime">Jan 27 '10 at 12:54</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jan 27 &#39;10 at 12:54. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2146912" href="/posts/2146912/revisions" title="show revision history for this post">
        moritz
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2146912" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-16545748" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">7</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">+1 for noting that the question is not about parsing full (X)HTML, it&#39;s about matching (X)HTML open tags.</span>
                &ndash;&nbsp;
                    <a href="/users/423105/larsh"
                       title="14421 reputation"
                       class="comment-user">LarsH</a>
                <span class="comment-date" dir="ltr"><span title="2012-09-08 02:26:22Z" class="relativetime-clean">Sep 8 '12 at 2:26</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2146912" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1732395"></a>
<div id="answer-1732395" class="answer" data-answerid="1732395" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1732395">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">92</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Try:</p>

<pre><code>&lt;([^\s]+)(\s[^&gt;]*?)?(?&lt;!/)&gt;
</code></pre>

<p>It is similar to yours, but the last <code>&gt;</code> must not be after a slash, and also accepts <code>h1</code>.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1732395" title="short permalink to this answer" class="short-link" id="link-post-1732395">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1732395/revisions" title="show all edits to this post">edited <span title="2009-11-25 21:12:04Z" class="relativetime">Nov 25 '09 at 21:12</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1732395" href="/posts/1732395/revisions" title="show revision history for this post">
        3 revs, 2 users 77%<br><a href="/users/7586">Kobi</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1732395" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="1" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-1612303" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">60</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">&lt;a href=&quot;foo&quot; title=&quot;5&gt;3&quot;&gt; Oops &lt;/a&gt;</span>
                &ndash;&nbsp;
                    <a href="/users/31582/gareth"
                       title="41610 reputation"
                       class="comment-user">Gareth</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-13 23:11:39Z" class="relativetime-clean">Nov 13 '09 at 23:11</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1612331" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">11</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">That is very true, and I did think about it, but I assumed the <code>&gt;</code> symbol is properly escaped to &amp;gt;.</span>
                &ndash;&nbsp;
                    <a href="/users/7586/kobi"
                       title="64364 reputation"
                       class="comment-user">Kobi</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-13 23:16:59Z" class="relativetime-clean">Nov 13 '09 at 23:16</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-1612577" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">48</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>&gt;</code> is valid in an attribute value. Indeed, in the ‘canonical XML’ serialisation you must not use <code>&amp;gt;</code>. (Which isn&#39;t entirely relevant, except to emphasise that <code>&gt;</code> in an attribute value is not at all an unusual thing.)</span>
                &ndash;&nbsp;
                    <a href="/users/18936/bobince"
                       title="266657 reputation"
                       class="comment-user">bobince</a>
                <span class="comment-date" dir="ltr"><span title="2009-11-14 00:15:33Z" class="relativetime-clean">Nov 14 '09 at 0:15</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-6710778" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Kobi: what does the exlamation mark (the one you placed tpward the end) mean in a regexp?</span>
                &ndash;&nbsp;
                    <a href="/users/260080/marco-demaio"
                       title="8463 reputation"
                       class="comment-user">Marco Demaio</a>
                <span class="comment-date" dir="ltr"><span title="2011-04-30 17:16:11Z" class="relativetime-clean">Apr 30 '11 at 17:16</span></span>
                    <span class="edited-yes" title="this comment was edited 2 times"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-6710897" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@bobince: are u sure? I don&#39;t understand anymore, so is this valid HTML too: <code>&lt;div title=&quot;this tag is a &lt;div&gt;&lt;&#47;div&gt;&quot;&gt;hello&lt;&#47;div&gt;</code></span>
                &ndash;&nbsp;
                    <a href="/users/260080/marco-demaio"
                       title="8463 reputation"
                       class="comment-user">Marco Demaio</a>
                <span class="comment-date" dir="ltr"><span title="2011-04-30 17:31:15Z" class="relativetime-clean">Apr 30 '11 at 17:31</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1732395" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>1</b> more comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1737662"></a>
<div id="answer-1737662" class="answer" data-answerid="1737662" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1737662">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">90</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <pre><code>&lt;?php
$selfClosing = explode(',', 'area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed');

$html = '
&lt;p&gt;&lt;a href="#"&gt;foo&lt;/a&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;br/&gt;
&lt;div&gt;name&lt;/div&gt;';

$dom = new DOMDocument();
$dom-&gt;loadHTML($html);
$els = $dom-&gt;getElementsByTagName('*');
foreach ( $els as $el ) {
    $nodeName = strtolower($el-&gt;nodeName);
    if ( !in_array( $nodeName, $selfClosing ) ) {
        var_dump( $nodeName );
    }
}
</code></pre>

<p>Output:</p>

<pre><code>string(4) "html"
string(4) "body"
string(1) "p"
string(1) "a"
string(3) "div"
</code></pre>

<p>Basically just define the element node names that are self closing, load the whole html string into a DOM library, grab all elements, loop through and filter out ones which aren't self closing and operate on them.</p>

<p>I'm sure you already know by now that you shouldn't use regex for this purpose.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1737662" title="short permalink to this answer" class="short-link" id="link-post-1737662">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1737662/revisions" title="show all edits to this post">edited <span title="2009-11-15 14:44:04Z" class="relativetime">Nov 15 '09 at 14:44</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1737662" href="/posts/1737662/revisions" title="show revision history for this post">
        2 revs<br><a href="/users/145190">meder</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1737662" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="1" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1737662" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>1</b> more comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1745488"></a>
<div id="answer-1745488" class="answer" data-answerid="1745488" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1745488">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">89</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I don't know your exact need for this, but if you are also using .NET, couldn't you use <a href="http://www.codeplex.com/htmlagilitypack">Html Agility Pack</a>?</p>

<p>Excerpt:</p>

<blockquote>
  <p><em>It is a .NET code library that allows
  you to parse "out of the web" HTML
  files. The parser is very tolerant
  with "real world" malformed HTML.</em></p>
</blockquote>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1745488" title="short permalink to this answer" class="short-link" id="link-post-1745488">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/1745488/revisions" title="show all edits to this post"><span title="2009-11-16 23:15:03Z" class="relativetime">Nov 16 '09 at 23:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1745488" href="/posts/1745488/revisions" title="show revision history for this post">
        GONeale
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1745488" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1745488" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1735479"></a>
<div id="answer-1735479" class="answer" data-answerid="1735479" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1735479">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">63</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I know Java isn't cool anymore, but if you want to use a really good library in Java, you might check into Tag soup which is built on top of Xerces.  <a href="http://home.ccil.org/~cowan/XML/tagsoup/" rel="nofollow">Link to Lib</a></p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1735479" title="short permalink to this answer" class="short-link" id="link-post-1735479">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1735479/revisions" title="show all edits to this post">edited <span title="2014-05-19 14:40:18Z" class="relativetime">May 19 at 14:40</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1735479" href="/posts/1735479/revisions" title="show revision history for this post">
        2 revs, 2 users 67%<br><a href="/users/2427291">PrR3</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1735479" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-2508558" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">12</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Java is cool as a platform for better languages, but i&#39;m off topic.</span>
                &ndash;&nbsp;
                    <a href="/users/163815/rplevy"
                       title="2321 reputation"
                       class="comment-user">rplevy</a>
                <span class="comment-date" dir="ltr"><span title="2010-03-24 23:53:54Z" class="relativetime-clean">Mar 24 '10 at 23:53</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1735479" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="10633717"></a>
<div id="answer-10633717" class="answer" data-answerid="10633717" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="10633717">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">60</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Sun Tzu, an ancient Chinese strategist, general, and philosopher, said:</p>

<blockquote>
  <p>It is said that if you know your enemies and know yourself, you can win a hundred battles without a single loss.
  If you only know yourself, but not your opponent, you may win or may lose.
  If you know neither yourself nor your enemy, you will always endanger yourself.</p>
</blockquote>

<p>In this case your enemy is HTML and you are either yourself or regex.  You might even be Perl with irregular regex. Know HTML.  Know yourself.</p>

<p>I have composed a haiku describing the nature of HTML.</p>

<pre><code>HTML has
complexity exceeding
regular language.
</code></pre>

<p>I have also composed a haiku describing the nature of regex in Perl.</p>

<pre><code>The regex you seek
is defined within the phrase
&lt;([a-zA-Z]+)(?:[^&gt;]*[^/]*)?&gt;
</code></pre>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/10633717" title="short permalink to this answer" class="short-link" id="link-post-10633717">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/10633717/revisions" title="show all edits to this post">edited <span title="2013-10-05 04:52:53Z" class="relativetime">Oct 5 '13 at 4:52</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of May 17 &#39;12 at 10:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-10633717" href="/posts/10633717/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br><a href="/users/863553">cytinus</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10633717" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-32982180" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">+1 for haiku, even though it it malformed.</span>
                &ndash;&nbsp;
                    <a href="/users/554807/greenasjade"
                       title="1672 reputation"
                       class="comment-user">GreenAsJade</a>
                <span class="comment-date" dir="ltr"><span title="2014-02-15 12:12:24Z" class="relativetime-clean">Feb 15 at 12:12</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-10633717" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1744154"></a>
<div id="answer-1744154" class="answer" data-answerid="1744154" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1744154">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">52</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>If you need this for PHP:</p>

<p>The <a href="http://www.php.net/manual/en/function.dom-import-simplexml.php">PHP DOM</a> <a href="http://php.net/manual/en/class.domdocument.php">functions</a> won't work properly unless it is properly formatted XML. No matter how much better their use is for the rest of mankind.</p>

<p><a href="http://simplehtmldom.sourceforge.net/">simplehtmldom</a> is good, but I found it a bit buggy, and it is is quite memory heavy [Will crash on large pages.]</p>

<p>I have never used <a href="http://querypath.org/">querypath</a>, so can't comment on its usefulness. </p>

<p>Another one to try is my <a href="http://github.com/siteroller/domparser">DOMParser</a> which is very light on resources and I've been using happily for a while. Simple to learn &amp; powerful.</p>

<p>For Python and Java, similar links were posted.</p>

<p>For the downvoters - I only wrote my class when the XML parsers proved unable to withstand real use. Religious downvoting just prevents useful answers from being posted - keep things within perspective of the question, please.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1744154" title="short permalink to this answer" class="short-link" id="link-post-1744154">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1744154/revisions" title="show all edits to this post">edited <span title="2012-03-19 15:02:18Z" class="relativetime">Mar 19 '12 at 15:02</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1744154" href="/posts/1744154/revisions" title="show revision history for this post">
        4 revs, 2 users 98%<br><a href="/users/87520">SamGoody</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1744154" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1744154" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1736770"></a>
<div id="answer-1736770" class="answer" data-answerid="1736770" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1736770">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">51</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>The W3C explains parsing in a pseudo regexp form:<br>
<a href="http://www.w3.org/TR/REC-xml-names/#ns-using" rel="nofollow">W3C Link</a>  </p>

<p>Follow the var links for <code>QName</code>, <code>S</code>, and <code>Attribute</code> to get a clearer picture.<br>
Based on that you can create a pretty good regexp to handle things like stripping tags.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1736770" title="short permalink to this answer" class="short-link" id="link-post-1736770">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1736770/revisions" title="show all edits to this post">edited <span title="2014-05-16 14:43:57Z" class="relativetime">May 16 at 14:43</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1736770" href="/posts/1736770/revisions" title="show revision history for this post">
        2 revs, 2 users 92%<br><a href="/users/166625">John-David Dalton</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1736770" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1736770" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1744002"></a>
<div id="answer-1744002" class="answer" data-answerid="1744002" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1744002">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">47</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I used a open source tool called <a href="http://htmlparser.sourceforge.net/">HTMLParser</a> before. It's designed to parse HTML in various ways and serves the purpose quite well. It can parse HTML as different treenode and you can easily use its API to get attributes out of the node. Check it out and see if this can help you.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1744002" title="short permalink to this answer" class="short-link" id="link-post-1744002">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/1744002/revisions" title="show all edits to this post"><span title="2009-11-16 18:34:50Z" class="relativetime">Nov 16 '09 at 18:34</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1744002" href="/posts/1744002/revisions" title="show revision history for this post">
        wen
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1744002" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1744002" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1732382"></a>
<div id="answer-1732382" class="answer" data-answerid="1732382" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1732382">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">43</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>You want the first <code>&gt;</code> not preceded by a <code>/</code>.  Look <a href="http://www.regular-expressions.info/lookaround.html">here</a> for details on how to do that.  It's referred to as negative lookbehind.</p>

<p>However, a naïve implementation of that will end up matching <code>&lt;bar/&gt;&lt;/foo&gt;</code> in this example document</p>

<pre><code>&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;
</code></pre>

<p>Can you provide a little more information on the problem you're trying to solve?  Are you iterating through tags programatically?</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1732382" title="short permalink to this answer" class="short-link" id="link-post-1732382">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1732382/revisions" title="show all edits to this post">edited <span title="2012-03-19 15:04:25Z" class="relativetime">Mar 19 '12 at 15:04</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1732382" href="/posts/1732382/revisions" title="show revision history for this post">
        2 revs, 2 users 89%<br><a href="/users/85306">Jherico</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1732382" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="2" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1732382" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>2</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="3274138"></a>
<div id="answer-3274138" class="answer" data-answerid="3274138" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="3274138">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">39</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Here is a <a href="http://kingdesk.com/projects/php-parser/">PHP based parser</a> that parses HTML using  some ungodly regex. As the author of this project, I can tell you it is possible to parse HTML with regex, but not efficient. If you need a server-side solution (as I did for my <a href="http://wordpress.org/extend/plugins/wp-typography/">wp-Typography WordPress plugin</a>), this works.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/3274138" title="short permalink to this answer" class="short-link" id="link-post-3274138">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/3274138/revisions" title="show all edits to this post"><span title="2010-07-18 02:52:04Z" class="relativetime">Jul 18 '10 at 2:52</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jul 18 &#39;10 at 2:52. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-3274138" href="/posts/3274138/revisions" title="show revision history for this post">
        kingjeffrey
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-3274138" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-6906658" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><a href="http://www.bioinformatics.org/phplabware/internal_utilities/htmLawed/index.php" rel="nofollow">htmlawed</a> is another PHP project that parses HTML to filter, convert, etc. Has some nice code if you can figure it out!</span>
                &ndash;&nbsp;
                    <a href="/users/594694/user594694"
                       title="112 reputation"
                       class="comment-user">user594694</a>
                <span class="comment-date" dir="ltr"><span title="2011-05-12 19:22:03Z" class="relativetime-clean">May 12 '11 at 19:22</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-3274138" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1756533"></a>
<div id="answer-1756533" class="answer" data-answerid="1756533" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1756533">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">38</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Whenever I need to quickly extract something from an HTML document, I use Tidy to convert it to XML and then use XPath or XSLT to get what I need.
In your case, something like this: </p>

<pre><code>//p/a[@href='foo']
</code></pre>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1756533" title="short permalink to this answer" class="short-link" id="link-post-1756533">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1756533/revisions" title="show all edits to this post">edited <span title="2014-04-04 08:11:06Z" class="relativetime">Apr 4 at 8:11</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1756533" href="/posts/1756533/revisions" title="show revision history for this post">
        2 revs, 2 users 67%<br><a href="/users/1438393">Amal Murali</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1756533" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-13095288" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">you probably should remove the word &quot;quickly&quot; from this.</span>
                &ndash;&nbsp;
                    <a href="/users/173542/michael-johnston"
                       title="2135 reputation"
                       class="comment-user">Michael Johnston</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-17 20:48:58Z" class="relativetime-clean">Apr 17 '12 at 20:48</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1756533" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="6817767"></a>
<div id="answer-6817767" class="answer" data-answerid="6817767" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="6817767">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">36</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Here's the solution:</p>

<pre><code>&lt;?php
// here's the pattern:
$pattern = '/&lt;(\w+)(\s+(\w+)\s*\=\s*(\'|")(.*?)\\4\s*)*\s*(\/&gt;|&gt;)/';

// a string to parse:
$string = 'Hello, try clicking &lt;a href="#paragraph"&gt;here&lt;/a&gt;
    &lt;br/&gt;and check out.&lt;hr /&gt;
    &lt;h2&gt;title&lt;/h2&gt;
    &lt;a name ="paragraph" rel= "I\'m an anchor"&gt;&lt;/a&gt;
    Fine, &lt;span title=\'highlight the "punch"\'&gt;thanks&lt;span&gt;.
    &lt;div class = "clear"&gt;&lt;/div&gt;
    &lt;br&gt;';

// let's get the occurrences:
preg_match_all($pattern, $string, $matches, PREG_PATTERN_ORDER);

// print the result:
print_r($matches[0]);
?&gt;
</code></pre>

<p>To test it deeply, I entered in the string auto-closing tags like:</p>

<ol>
<li>&lt;hr /&gt;</li>
<li>&lt;br/&gt;</li>
<li>&lt;br&gt;</li>
</ol>

<p>I also entered tags with:</p>

<ol>
<li>one attribute</li>
<li>more than one attribute</li>
<li>attributes which value is bound either into <strong>single quotes</strong> or into <strong>double quotes</strong></li>
<li>attributes containing single quotes when the delimiter is a double quote and vice versa</li>
<li>"unpretty" attributes with a space before the "=" symbol, after it and both before and after it.</li>
</ol>

<p>Should you find something which does not work in the proof of concept above, I am available in analysing the code to improve my skills.</p>

<p><strong>&lt;EDIT&gt;</strong>
I forgot that the question from the user was to avoid the parsing of self-closing tags.
In this case the pattern is simpler, turning into this:</p>

<pre><code>$pattern = '/&lt;(\w+)(\s+(\w+)\s*\=\s*(\'|")(.*?)\\4\s*)*\s*&gt;/';
</code></pre>

<p>The user @ridgerunner noticed that the pattern does not allow <strong>unquoted attributes</strong> or <strong>attributes with no value</strong>. In this case a fine tuning brings us the following pattern:</p>

<pre><code>$pattern = '/&lt;(\w+)(\s+(\w+)(\s*\=\s*(\'|"|)(.*?)\\5\s*)?)*\s*&gt;/';
</code></pre>

<p><strong>&lt;/EDIT&gt;</strong></p>

<h1>Understanding the pattern</h1>

<p>If someone is interested in learning more about the pattern, I provide some line:</p>

<ol>
<li>the first sub-expression (\w+) matches the tagname</li>
<li>the second sub-expression contains the pattern of an attribute. It is composed by:
<ol>
<li>one or more whitespaces \s+</li>
<li>the name of the attribute (\w+)</li>
<li>zero or more whitespaces \s* (it is possible or not, leaving blanks here)</li>
<li>the "=" symbol</li>
<li>again, zero or more whitespaces</li>
<li>the delimiter of the attribute value, a single or double quote ('|"). In the pattern, the single quote is escaped because it coincides with the PHP string delimiter. This sub-expression is captured with the parentheses so it can be referenced again to parse the closure of the attribute, that's why it is very important.</li>
<li>the value of the attribute, matched by <em>almost</em> anything: (.*?); in this specific syntax, using the <strong>greedy match</strong> (the question mark after the asterisk) the RegExp engine enables a "look-ahead"-like operator, which matches anything but what follows this sub-expression</li>
<li>here comes the fun: the \4 part is a <strong>backreference operator</strong>, which refers to a sub-expression defined before in the pattern, in this case I am referring to the fourth sub-expression, which is the first attribute delimiter found</li>
<li>zero or more whitespaces \s*</li>
<li>the attribute sub-expression ends here, with the specification of zero or more possible occurrences, given by the asterisk.</li>
</ol></li>
<li>Then, since a tag may end with a whitespace before the "&gt;" symbol, zero or more whitespaces are matched with the \s* subpattern.</li>
<li>The tag to match may end with a simple "&gt;" symbol, or a possible XHTML closure, which makes use of the slash before it: (/>|>). The slash is of course escaped, since it coincides with the regular expression delimiter.</li>
</ol>

<p>Small tip: to better analyse this code it is necessary looking at the source code generated, since I did not provide any HTML special characters escaping.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/6817767" title="short permalink to this answer" class="short-link" id="link-post-6817767">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/6817767/revisions" title="show all edits to this post">edited <span title="2011-07-25 16:49:05Z" class="relativetime">Jul 25 '11 at 16:49</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jul 25 &#39;11 at 14:35. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-6817767" href="/posts/6817767/revisions" title="show revision history for this post">
        5 revs<br><a href="/users/383764">Emanuele Del Grande</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6817767" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="3" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-8098950" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">8</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Does not match valid tags having attributes with no value, i.e. <code>&lt;option selected&gt;</code>. Also does not match valid tags with unquoted attribute values, i.e. <code>&lt;p id=10&gt;</code>.</span>
                &ndash;&nbsp;
                    <a href="/users/433790/ridgerunner"
                       title="14593 reputation"
                       class="comment-user">ridgerunner</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-25 15:01:59Z" class="relativetime-clean">Jul 25 '11 at 15:01</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28430952" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">NO sorry, whitespaces before a tagname are illegal. Beyond being &quot;pretty sure&quot; why don&#39;t you provide some evidences of your objection? Here are mine, <a href="http://www.w3.org/TR/xml11/#sec-starttags" rel="nofollow">w3.org/TR/xml11/#sec-starttags</a> referred to XML 1.1, and you can find the same for HTML 4, 5 and XHTML, as a W3C validation would also warn if you make a test. As a lot of other blah-blah-poets around here, I did not still receive any intelligent argumentation, apart some hundred of minus to my answers, to demonstrate where my code fails according to the <i>rules of contract</i> specified in the question. I would only welcome them.</span>
                &ndash;&nbsp;
                    <a href="/users/383764/emanuele-del-grande"
                       title="1968 reputation"
                       class="comment-user">Emanuele Del Grande</a>
                <span class="comment-date" dir="ltr"><span title="2013-10-06 18:03:45Z" class="relativetime-clean">Oct 6 '13 at 18:03</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-6817767" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>3</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="6653839"></a>
<div id="answer-6653839" class="answer" data-answerid="6653839" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="6653839">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">36</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I like to parse HTML with regular expressions. I don't attempt to parse idiot HTML that is deliberately broken. This code is my main parser (Perl edition):</p>

<pre><code>$_ = join "",&lt;STDIN&gt;; tr/\n\r \t/ /s; s/&lt;/\n&lt;/g; s/&gt;/&gt;\n/g; s/\n ?\n/\n/g;
s/^ ?\n//s; s/ $//s; print
</code></pre>

<p>It's called htmlsplit, splits the HTML into lines, with one tag or chunk of text on each line.  The lines can then be processed further with other text tools and scripts, such as <a href="http://en.wikipedia.org/wiki/Grep">grep</a>, <a href="http://en.wikipedia.org/wiki/Sed">sed</a>, Perl, etc. I'm not even joking :) Enjoy.</p>

<p>It is simple enough to rejig my slurp-everything-first Perl script into a nice streaming thing, if you wish to process enormous web pages. But it's not really necessary.</p>

<p>I bet I will get downvoted for this.</p>

<p><a href="http://sam.nipl.net/code/nipl-tools/bin/htmlsplit">http://sam.nipl.net/code/nipl-tools/bin/htmlsplit</a></p>

<hr/>

<p>Against my expectation this got some upvotes, so I'll suggest some better regular expressions:</p>

<pre><code>/(&lt;.*?&gt;|[^&lt;]+)\s*/g    # get tags and text
/(\w+)="(.*?)"/g       # get attibutes
</code></pre>

<p>They are good for XML / XHTML.</p>

<p>With minor variations, it can cope with messy HTML... or convert the HTML -> XHTML first.</p>

<hr/>

<p>The best way to write regular expressions is in the <a href="http://en.wikipedia.org/wiki/Lex_%28software%29">Lex</a> / <a href="http://en.wikipedia.org/wiki/Yacc">Yacc</a> style, not as opaque one-liners or commented multi-line monstrosities. I didn't do that here, yet; these ones barely need it.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/6653839" title="short permalink to this answer" class="short-link" id="link-post-6653839">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/6653839/revisions" title="show all edits to this post">edited <span title="2012-09-07 17:22:14Z" class="relativetime">Sep 7 '12 at 17:22</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jul 11 &#39;11 at 17:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-6653839" href="/posts/6653839/revisions" title="show revision history for this post">
        4 revs, 2 users 78%<br><a href="/users/218294">Sam Watkins</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6653839" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="2" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-8124904" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">27</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">&quot;I don&#39;t attempt to parse idiot HTML that is deliberately broken.&quot;  How does your code know the difference?</span>
                &ndash;&nbsp;
                    <a href="/users/125389/kevin-panko"
                       title="4318 reputation"
                       class="comment-user">Kevin Panko</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-26 20:38:07Z" class="relativetime-clean">Jul 26 '11 at 20:38</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-6653839" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>2</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="2201251"></a>
<div id="answer-2201251" class="answer" data-answerid="2201251" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2201251">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">33</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>As many people have already pointed out, HTML is not a regular language which can make it very difficult to parse. My solution to this is to turn it into a regular language using a tidy program and then to use an XML parser to consume the results. There are a lot of good options for this. My program is written using Java with the <a href="http://jtidy.sourceforge.net/">jtidy</a> library to turn the HTML into XML and then Jaxen to xpath into the result.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/2201251" title="short permalink to this answer" class="short-link" id="link-post-2201251">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/2201251/revisions" title="show all edits to this post"><span title="2010-02-04 16:22:00Z" class="relativetime">Feb 4 '10 at 16:22</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 4 &#39;10 at 16:22. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2201251" href="/posts/2201251/revisions" title="show revision history for this post">
        Corey Sanders
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2201251" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2201251" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="1738126"></a>
<div id="answer-1738126" class="answer" data-answerid="1738126" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1738126">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">25</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>It seems to me you're trying to match tags without a "/" at the end. Try this:</p>

<pre><code>&lt;([a-zA-Z][a-zA-Z0-9]*)[^&gt;]*(?&lt;!/)&gt;
</code></pre>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1738126" title="short permalink to this answer" class="short-link" id="link-post-1738126">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/1738126/revisions" title="show all edits to this post"><span title="2009-11-15 17:13:19Z" class="relativetime">Nov 15 '09 at 17:13</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 19 &#39;09 at 1:13. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1738126" href="/posts/1738126/revisions" title="show revision history for this post">
        manixrock
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1738126" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-6771435" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">5</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">This does not work. For the input &#39;&lt;x a=&quot;&lt;b&gt;&quot;/&gt;&lt;y&gt;&#39; the matches are x and y, although x is terminated.</span>
                &ndash;&nbsp;
                    <a href="/users/402322/ceving"
                       title="3920 reputation"
                       class="comment-user">ceving</a>
                <span class="comment-date" dir="ltr"><span title="2011-05-04 16:33:18Z" class="relativetime-clean">May 4 '11 at 16:33</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1738126" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="2226652"></a>
<div id="answer-2226652" class="answer" data-answerid="2226652" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2226652">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">25</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>Although it's not suitable and effective to use regular expressions for that purpose sometimes regular expressions provide quick solutions for simple match problems and in my view it's not that horrbile to use regular expressions for trivial works. </p>

<p>There is a <a href="http://blog.stevenlevithan.com/archives/match-innermost-html-element">definitive blog post</a> about matching innermost HTML elements written by Steven Levithan.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/2226652" title="short permalink to this answer" class="short-link" id="link-post-2226652">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="/posts/2226652/revisions" title="show all edits to this post"><span title="2010-02-09 03:59:27Z" class="relativetime">Feb 9 '10 at 3:59</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Feb 9 &#39;10 at 3:59. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2226652" href="/posts/2226652/revisions" title="show revision history for this post">
        Emre Yazıcı
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2226652" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2226652" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="3180176"></a>
<div id="answer-3180176" class="answer" data-answerid="3180176" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="3180176">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">24</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>About the question of the RegExp methods to parse (x)HTML, the answer to all of the ones who spoke about some limits is: you have not been trained enough to rule the force of this powerful weapon, since <strong>NOBODY</strong> here spoke about <strong>recursion</strong>.</p>

<p>A RegExp-agnostic colleague notified me this discussion, which is not certainly the first on the web about this old and hot topic.</p>

<p>After reading some posts, the first thing I did was looking for the "?R" string in this thread. The second was to search about "recursion".<br>
No, holy cow, no match found.<br>
Since nobody mentioned the main mechanism a parser is built onto, I was soon aware that nobody got the point.</p>

<p>If an (x)HTML parser needs recursion, a RegExp parser without recursion is not enough for the purpose. It's a simple construct.</p>

<p>The <strong>black art of RegExp is hard to master</strong>, so maybe there are further possibilities we left out while trying and testing our personal solution to capture the whole web in one hand... Well, I am sure about it :)</p>

<p>Here's the magic pattern:</p>

<pre><code>$pattern = "/&lt;([\w]+)([^&gt;]*?)(([\s]*\/&gt;)|(&gt;((([^&lt;]*?|&lt;\!\-\-.*?\-\-&gt;)|(?R))*)&lt;\/\\1[\s]*&gt;))/s";
</code></pre>

<p>Just try it.<br>
It's written as a PHP string, so the "s" modifier makes classes include newlines.<br />
Here's a <strong>sample note on the PHP manual</strong> I wrote on january:</p>

<blockquote>
  <p><a href="http://php.net/manual/en/regexp.reference.recursive.php">http://php.net/manual/en/regexp.reference.recursive.php</a></p>
</blockquote>

<p>(Take care, in that note I wrongly used the "m" modifier; it should be erased, notwithstanding it is discarded by the RegExp engine, since no ^ or $ anchorage was used).</p>

<p>Now, we could speak about the limits of this method from a more informed point of view:</p>

<ol>
<li>according to the specific implementation of the RegExp engine, recursion may have a limit in the <strong>number of nested patterns parsed</strong>, but it depends on the language used</li>
<li>although corrupted (x)HTML does not drive into severe errors, it is not <em>sanitized</em>.</li>
</ol>

<p>Anyhow it is only a RegExp pattern, but it discloses the possibility to develop of a lot of powerful implementations.<br>
I wrote this pattern to power the <em>recursive descent parser</em> of a template engine I built in my framework, and performances are really great, both in execution times or in memory usage (nothing to do with other template engines which use the same syntax).</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/3180176" title="short permalink to this answer" class="short-link" id="link-post-3180176">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/3180176/revisions" title="show all edits to this post">edited <span title="2010-07-06 17:36:10Z" class="relativetime">Jul 6 '10 at 17:36</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jul 5 &#39;10 at 14:16. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-3180176" href="/posts/3180176/revisions" title="show revision history for this post">
        2 revs, 2 users 79%<br><a href="/users/383764">Emanuele Del Grande</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-3180176" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="13" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-3275117" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">29</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I&#39;ll put this in the &quot;Regex which doesn&#39;t allow greater-than in attributes&quot; bin. Check it against &lt;input value=&quot;is 5 &gt; 3?&quot; /&gt;</span>
                &ndash;&nbsp;
                    <a href="/users/31582/gareth"
                       title="41610 reputation"
                       class="comment-user">Gareth</a>
                <span class="comment-date" dir="ltr"><span title="2010-07-05 16:24:02Z" class="relativetime-clean">Jul 5 '10 at 16:24</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-3275182" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">53</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">If you put something like that in production code, you would likely be shot by the maintainer.  A jury would never convict him.</span>
                &ndash;&nbsp;
                    <a href="/users/72943/aehiilrs"
                       title="925 reputation"
                       class="comment-user">aehiilrs</a>
                <span class="comment-date" dir="ltr"><span title="2010-07-05 16:33:01Z" class="relativetime-clean">Jul 5 '10 at 16:33</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-3284978" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">24</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Regular expressions can&#39;t work because by definition they are not recursive. Adding a recursive operator to regular expressions basically makes a CFG only with poorer syntax. Why not use something designed to be recursive in the first place rather than violently insert recursion into something already overflowing with extraneous functionality?</span>
                &ndash;&nbsp;
                    <a href="/users/52443/welbog"
                       title="32604 reputation"
                       class="comment-user">Welbog</a>
                <span class="comment-date" dir="ltr"><span title="2010-07-06 18:38:34Z" class="relativetime-clean">Jul 6 '10 at 18:38</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-3321225" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">11</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">My objection isn&#39;t one of functionality it is one of time invested. The problem with RegEx is that by the time you post the cutsey little one liners it appears that you did something more efficiently (&quot;See one line of code!&quot;). And of course no one mentions the half hour (or 3) that they spent with their cheat-sheet and (hopefully) testing every possible permutation of input. And once you get past all that when the maintainer goes to figure out or validate the code they can&#39;t just look at it and see that it is right. The have to dissect the expression and essentially retest it all over again...</span>
                &ndash;&nbsp;
                    <a href="/users/102270/oorang"
                       title="3405 reputation"
                       class="comment-user">Oorang</a>
                <span class="comment-date" dir="ltr"><span title="2010-07-10 15:11:09Z" class="relativetime-clean">Jul 10 '10 at 15:11</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-3321252" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">10</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">... to know that it is good. And that will happen even with people who are <i>good</i> with regex. And honestly I suspect that overwhelming majority of people won&#39;t know it well. So you take one of the most notorious maintenance nightmares and combine it with recursion which is the <i>other</i> maintenance nightmare and I think to myself what I really need on my project is someone a little less clever. The goal is to write code that bad programmers can maintain without breaking the code base. I know it galls to code to the least common denominator. But hiring excellent talent is hard, and you often...</span>
                &ndash;&nbsp;
                    <a href="/users/102270/oorang"
                       title="3405 reputation"
                       class="comment-user">Oorang</a>
                <span class="comment-date" dir="ltr"><span title="2010-07-10 15:17:22Z" class="relativetime-clean">Jul 10 '10 at 15:17</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-3180176" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>13</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="2708960"></a>
<div id="answer-2708960" class="answer" data-answerid="2708960" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="2708960">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">24</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>There are some nice regexes for replacing HTML with BBCode <a href="http://www.garyshood.com/htmltobb/source.txt" rel="nofollow">here</a>. For all you nay-sayers, note that he's not trying to fully parse HTML, just to sanitize it. He can probably afford to kill off tags that his simple "parser" can't understand.</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/2708960" title="short permalink to this answer" class="short-link" id="link-post-2708960">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/2708960/revisions" title="show all edits to this post">edited <span title="2014-03-13 13:14:27Z" class="relativetime">Mar 13 at 13:14</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Apr 25 &#39;10 at 16:38. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2708960" href="/posts/2708960/revisions" title="show revision history for this post">
        3 revs, 3 users 50%<br><a href="/users/1565632">NANNAV</a>
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2708960" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-2708960" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>

  
<a name="10535487"></a>
<div id="answer-10535487" class="answer" data-answerid="10535487" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="10535487">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">23</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <pre><code>&lt;\s*(\w+)[^/&gt;]*&gt;
</code></pre>

<p>The parts explained:</p>

<p><code>&lt;</code>: starting character</p>

<p><code>\s*</code>: it may have whitespaces before tag name (ugly but possible).</p>

<p><code>(\w+)</code>: tags can contain letters and numbers (h1). Well, <code>\w</code> also matches '_', but it does not hurt I guess. If curious use ([a-zA-Z0-9]+) instead.</p>

<p><code>[^/&gt;]*</code>: anything except <code>&gt;</code> and <code>/</code> until closing <code>&gt;</code></p>

<p><code>&gt;</code>: closing <code>&gt;</code></p>

<h3>UNRELATED</h3>

<p>And to fellows who underestimate regular expressions saying they are only as powerful as regular languages:</p>

<p>a<sup>n</sup>ba<sup>n</sup>ba<sup>n</sup> which is not regular and not even context free, can be matched with ^(a+)b\1b\1$</p>

<p>Backreferencing <a href="http://en.wiktionary.org/wiki/FTW">FTW</a>!</p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/10535487" title="short permalink to this answer" class="short-link" id="link-post-10535487">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/10535487/revisions" title="show all edits to this post">edited <span title="2013-06-10 11:24:36Z" class="relativetime">Jun 10 '13 at 11:24</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of May 10 &#39;12 at 13:53. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-10535487" href="/posts/10535487/revisions" title="show revision history for this post">
        4 revs, 3 users 75%<br><a href="/users/277291">daghan</a>

        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-10535487" class="comments " data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="2" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">

    <tr id="comment-16760872" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">8</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Backreferences aren&#39;t regular.</span>
                &ndash;&nbsp;
                    <a href="/users/736054/xfix"
                       title="2825 reputation"
                       class="comment-user">xfix</a>
                <span class="comment-date" dir="ltr"><span title="2012-09-17 15:02:37Z" class="relativetime-clean">Sep 17 '12 at 15:02</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-20863430" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@alanaktion: The &quot;modern&quot; regular expressions (read: with Perl extensions) cannot match within <code>O(MN)</code> (M being regular expression length, N being text length). Backreferences are one of causes of that. The implementation in awk doesn&#39;t have backreferences and matches everything within <code>O(MN)</code> time.</span>
                &ndash;&nbsp;
                    <a href="/users/736054/xfix"
                       title="2825 reputation"
                       class="comment-user">xfix</a>
                <span class="comment-date" dir="ltr"><span title="2013-02-14 16:52:45Z" class="relativetime-clean">Feb 14 '13 at 16:52</span></span>
                                                                            </div>
                    </td>
    </tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-10535487" data-rep=50 data-anon=true
			   class="comments-link " 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>show <b>2</b> more comments</a>
    </td>
</tr>    </table>
</div>

  
<a name="1879462"></a>
<div id="answer-1879462" class="answer" data-answerid="1879462" >
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="1879462">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span class="vote-count-post ">22</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text">
            <p>I recently wrote an HTML sanitizer in Java. It is based on a mixed approach of regular expressions and Java code. Personally I hate regular expressions and its folly (readability, maintainability, etc.), but if you reduce the scope of its applications it may fit your needs. Anyway, my sanitizer uses a white list for HTML tags and a black list for some style attributes.</p>

<p>For your convenience I have set up a playground so you can test if the code matches your requirements: <a href="http://patapage.com/applications/pataPage/site/test/testSanitize.jsp" rel="nofollow">playground and Java code</a>. Your feedback will be appreciated.</p>

<p>There is a small article describing this work on my blog: <a href="http://roberto.open-lab.com" rel="nofollow">http://roberto.open-lab.com</a></p>

    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/1879462" title="short permalink to this answer" class="short-link" id="link-post-1879462">share</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/1879462/revisions" title="show all edits to this post">edited <span title="2013-12-16 22:19:22Z" class="relativetime">Dec 16 '13 at 22:19</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Dec 10 &#39;09 at 8:26. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-1879462" href="/posts/1879462/revisions" title="show revision history for this post">
        3 revs, 3 users 64%<br>Roberto
        </a>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-1879462" class="comments  dno" data-localized="true">
		    <table>
			    <tbody data-remaining-comments-count="0" 
			           data-addlink-html="add comment" 
			           data-addlink-disabled="true">
					    <tr><td></td><td></td></tr>
			    </tbody>
		    </table>
	    </div>
			<a id="comments-link-1879462" data-rep=50 data-anon=true
			   class="comments-link disabled-link" 
			   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." 
				>add comment</a>
    </td>
</tr>    </table>
</div>
<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>				<div class="question-status">
        <h2>                    <b>protected</b> by <a href="/users/1228/will">Will</a> <span title="2010-12-06 13:29:47Z" class="relativetime">Dec 6 '10 at 13:29</span>
</h2>
        <p>
Thank you for your interest in this question. 
Because it has attracted low-quality answers, posting an answer now requires 10 <a href="/help/whats-reputation">reputation</a> on this site.
<br /><br />
Would you like to answer one of these <a href="/unanswered?fromProtectedNotice=true">unanswered questions</a> instead?
</p>
    </div>


						<h2 class="bottom-notice" data-loc="1">
Not the answer you&#39;re looking for?							Browse other questions tagged <a href="/questions/tagged/html" class="post-tag" title="show questions tagged &#39;html&#39;" rel="tag">html</a> <a href="/questions/tagged/regex" class="post-tag" title="show questions tagged &#39;regex&#39;" rel="tag">regex</a> <a href="/questions/tagged/xhtml" class="post-tag" title="show questions tagged &#39;xhtml&#39;" rel="tag">xhtml</a>  or <a href="/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2009-11-13 22:38:26Z"><b>4 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>1070266 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2014-05-19 19:03:44Z">1 month ago</a></b></p>
			                    </td>
			                </tr>
			        </table>
			    </div>
						
			<script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,8277,"adzerk1779547019",17).setZone(45) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1779547019">
            </div>  
    <div id="hireme">
        <script>
window.careers_adurl="//careers.stackoverflow.com/gethired/js",window.careers_cssurl="//cdn-careers.sstatic.net/careers/gethired/sidebar.min.css?v=88f3fd5e2263",window.careers_leaderboardcssurl="{leaderboardcssurl}",window.careers_companycssurl="//cdn-careers.sstatic.net/careers/gethired/company",window.careers_adselector="div#hireme",StackExchange.ready(function(){$.ajax({url:"//cdn-careers.sstatic.net/careers/gethired/loader.min.js?v=93d05efce50b",dataType:"script",cache:!0})});        </script>
    </div>
			  
    
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">
<div class="spacer">
	<a href="/q/787932" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">95</div>
	</a>
	<a href="/questions/787932/using-c-sharp-regular-expressions-to-remove-html-tags" class="question-hyperlink">Using C# regular expressions to remove HTML tags</a>
</div><div class="spacer">
	<a href="/q/4456814" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">6</div>
	</a>
	<a href="/questions/4456814/writing-regular-expression-in-php-to-wrap-img-with-a" class="question-hyperlink">Writing regular expression in PHP to wrap &lt;img&gt; with &lt;a&gt;</a>
</div><div class="spacer">
	<a href="/q/3604109" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">5</div>
	</a>
	<a href="/questions/3604109/regexp-for-html" class="question-hyperlink">Regexp for html</a>
</div><div class="spacer">
	<a href="/q/820926" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="/questions/820926/regular-expression-to-remove-links" class="question-hyperlink">regular expression to remove links</a>
</div><div class="spacer">
	<a href="/q/7532202" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">-1</div>
	</a>
	<a href="/questions/7532202/regular-expression-for-remove-html-links" class="question-hyperlink">Regular expression for remove html links</a>
</div><div class="spacer">
	<a href="/q/3585087" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="/questions/3585087/regex-for-html-parsing-in-php" class="question-hyperlink">Regex for html parsing in php</a>
</div><div class="spacer">
	<a href="/q/10867836" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/10867836/regex-convert-html-to-valid-xml-tag" class="question-hyperlink">Regex - Convert HTML to valid XML tag</a>
</div><div class="spacer">
	<a href="/q/1061365" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="/questions/1061365/help-with-building-regex-to-extract-text-of-html-tag" class="question-hyperlink">Help with building Regex to extract text of HTML tag</a>
</div><div class="spacer">
	<a href="/q/3593124" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="/questions/3593124/getting-text-from-inside-an-html-tag-within-a-local-file-with-grep" class="question-hyperlink">Getting text from inside an HTML tag within a local file with grep</a>
</div><div class="spacer">
	<a href="/q/18168684" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">-1</div>
	</a>
	<a href="/questions/18168684/parsing-xml-in-python-with-regex" class="question-hyperlink">Parsing XML in Python with regex</a>
</div>					<div class="spacer more">
				<a href="http://stackoverflow.com/questions/linked/1732348">see more linked questions…</a>
			</div>
	</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer">
<a href="/q/69913" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">521
    </div>
</a><a href="/questions/69913/why-dont-self-closing-script-tags-work" class="question-hyperlink">Why don&#39;t self-closing script tags work?</a>
</div>
<div class="spacer">
<a href="/q/97522" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted large">125
    </div>
</a><a href="/questions/97522/what-are-all-the-valid-self-closing-elements-in-xhtml-as-implemented-by-the-maj" class="question-hyperlink">What are all the valid self-closing elements in XHTML (as implemented by the major browsers)?</a>
</div>
<div class="spacer">
<a href="/q/406230" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted extra-large">1199
    </div>
</a><a href="/questions/406230/regular-expression-to-match-string-not-containing-a-word" class="question-hyperlink">Regular expression to match string not containing a word?</a>
</div>
<div class="spacer">
<a href="/q/1078127" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">70
    </div>
</a><a href="/questions/1078127/are-nested-span-tags-ok-in-xhtml" class="question-hyperlink">Are nested span tags OK in XHTML?</a>
</div>
<div class="spacer">
<a href="/q/3658403" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">3
    </div>
</a><a href="/questions/3658403/removing-unclosed-opening-ptags-from-xhtml-document" class="question-hyperlink">Removing unclosed opening &lt;p&gt;tags from xhtml document</a>
</div>
<div class="spacer">
<a href="/q/5763002" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">0
    </div>
</a><a href="/questions/5763002/regex-matching-of-html-style-tag-opening-contents-and-closing" class="question-hyperlink">RegEx matching of HTML style tag opening, contents, and closing</a>
</div>
<div class="spacer">
<a href="/q/6215914" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">-3
    </div>
</a><a href="/questions/6215914/regex-to-match-legal-uk-number-plate" class="question-hyperlink">Regex to match LEGAL UK Number Plate</a>
</div>
<div class="spacer">
<a href="/q/6459535" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">1
    </div>
</a><a href="/questions/6459535/using-regex-in-preg-replace-to-match-an-html-href-anchor-tag" class="question-hyperlink">Using regex in preg_replace to match an html href anchor tag</a>
</div>
<div class="spacer">
<a href="/q/20429560" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">0
    </div>
</a><a href="/questions/20429560/regex-match-for-html-tag-containing-on-js-trigger" class="question-hyperlink">Regex match for HTML tag containing &ldquo;on&rdquo; JS trigger</a>
</div>
<div class="spacer">
<a href="/q/21708167" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">1
    </div>
</a><a href="/questions/21708167/regex-recursively-remove-surrounding-div-tags-in-html" class="question-hyperlink">Regex: Recursively remove surrounding &lt;div&gt; tags in HTML</a>
</div>

                    </div>
				</div>
            
<div id="hot-network-questions" class="module">
    <h4>
        <a href="//stackexchange.com/questions?tab=hot" 
           class="js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li >
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="http://money.stackexchange.com/questions/33806/what-should-i-do-with-my-credit-card-debt" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What should I do with my credit card debt?
                </a>

            </li>
            <li >
                <div class="favicon favicon-music" title="Musical Practice &amp; Performance Stack Exchange"></div><a href="http://music.stackexchange.com/questions/20654/what-determines-how-hard-it-is-to-press-a-guitar-string" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:240 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What determines how hard it is to press a guitar string?
                </a>

            </li>
            <li >
                <div class="favicon favicon-buddhism" title="Buddhism Stack Exchange"></div><a href="http://buddhism.stackexchange.com/questions/1777/can-personal-experience-generate-buddhistic-insight-outside-of-meditation" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:565 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can personal experience generate buddhistic insight outside of meditation?
                </a>

            </li>
            <li >
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="http://scifi.stackexchange.com/questions/60484/story-about-an-engineer-guitar-player-with-refrain-i-ll-get-where-i-wasn-t-goin" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Story about an engineer/guitar player with refrain “I’ll get where I wasn’t going”
                </a>

            </li>
            <li >
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="http://codegolf.stackexchange.com/questions/32782/survival-game-alienwar" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Survival Game - AlienWar
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="http://math.stackexchange.com/questions/853602/what-should-i-use-latex-or-microsoft-word-professional" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What should I use Latex or Microsoft Word Professional?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-hinduism" title="Hinduism Stack Exchange"></div><a href="http://hinduism.stackexchange.com/questions/639/why-do-hindus-remove-their-footwear-before-entering-temples" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:567 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do Hindus remove their footwear before entering temples?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-hinduism" title="Hinduism Stack Exchange"></div><a href="http://hinduism.stackexchange.com/questions/647/why-is-it-best-if-we-light-ghee-lamp-in-the-house-while-praying" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:567 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why is it best if we light ghee lamp in the house while praying?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-gaming" title="Arqade"></div><a href="http://gaming.stackexchange.com/questions/174472/can-i-move-all-pokemon-at-once" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:41 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can I move All Pokemon at once?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/117334/deciding-capacitor-value-to-use-in-my-circuit" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Deciding capacitor value to use in my circuit
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-security" title="Information Security Stack Exchange"></div><a href="http://security.stackexchange.com/questions/62124/phones-broadcast-the-ssids-of-all-networks-they-have-ever-connected-to-how-can" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:162 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Phones broadcast the SSIDs of all networks they have ever connected to. How can these be obtained by an attacker?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-serverfault" title="Server Fault"></div><a href="http://serverfault.com/questions/609334/ssh-is-no-longer-using-ssh-config" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:2 }); posts_hot_network.click({ item_type:2, location:11 })">
                    ssh is no longer using ~/.ssh/config
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-japanese" title="Japanese Language Stack Exchange"></div><a href="http://japanese.stackexchange.com/questions/17617/what-is-the-etymology-of-the-word-katsu" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:257 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the etymology of the word Katsu?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-movies" title="Movies &amp; TV Stack Exchange"></div><a href="http://movies.stackexchange.com/questions/21754/what-format-do-movie-theaters-now-use" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:367 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What format do movie theaters now use?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-movies" title="Movies &amp; TV Stack Exchange"></div><a href="http://movies.stackexchange.com/questions/21795/why-is-spider-man-left-out-of-the-avengers" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:367 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why is Spider-Man left out of The Avengers?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="http://tex.stackexchange.com/questions/187509/overlaping-text-or-text-above-text" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Overlaping text or... text above text!
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-graphicdesign" title="Graphic Design Stack Exchange"></div><a href="http://graphicdesign.stackexchange.com/questions/35289/should-i-provide-a-dieline-around-a-package-design" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:174 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Should I provide a dieline around a package design?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/41663/is-summoning-undead-evil-why" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is summoning undead evil? Why?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to avoid &quot;if&quot; chains?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-gaming" title="Arqade"></div><a href="http://gaming.stackexchange.com/questions/174461/is-it-possible-to-get-your-loot-from-the-public-test-realm" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:41 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it possible to get your loot from the Public Test Realm?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-dba" title="Database Administrators Stack Exchange"></div><a href="http://dba.stackexchange.com/questions/69467/is-it-ok-to-change-from-full-recovery-to-simple-recovery-in-sql-server" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:182 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it ok to change from full recovery to simple recovery in Sql Server
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-mathoverflow" title="MathOverflow"></div><a href="http://mathoverflow.net/questions/173060/simplest-example-of-non-trivial-toda-bracket-in-spaces" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:504 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Simplest example of non-trivial Toda bracket in spaces
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-physics" title="Physics Stack Exchange"></div><a href="http://physics.stackexchange.com/questions/122505/why-is-filling-a-balloon-from-your-mouth-much-harder-initially" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:151 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why is filling a balloon from your mouth much harder initially?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-ell" title="English Language Learners Stack Exchange"></div><a href="http://ell.stackexchange.com/questions/27253/what-is-the-difference-between-thanks-much-and-thanks-a-lot" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:481 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the difference between &quot;Thanks much&quot; and &quot;Thanks a lot&quot;?
                </a>

            </li>
    </ul>

        <a href="#" 
           class="show-more js-show-more js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:3, location:11 })">
            more hot questions
        </a>
</div>
		</div>
		<script>
StackExchange.ready(function(){$.get('/posts/1732348/ivc/1393');});
</script>
<noscript>
    <div><img src="/posts/1732348/ivc/1393" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display:none" id="prettify-lang">lang-html</div></div>



        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                        <a href="/tour">tour</a>
                    <a href="/help">help</a>
                        <a href="/help/badges">badges</a>
                    <a href="http://blog.stackoverflow.com?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackexchange.com/work-here">work here</a>
                    <a href="http://stackexchange.com/mediakit">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=3>
                Technology
            </th>
            <th >
                Life / Arts
            </th>
            <th >
                Culture / Recreation
            </th>
            <th >
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com" title="professional system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems.">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Development</a></li>
                        <li><a href="http://gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com" title="Information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (14)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://graphicdesign.stackexchange.com" title="professional graphic designers and non-designers trying to do their own graphic design">Graphic Design</a></li>
                        <li><a href="http://cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="http://money.stackexchange.com" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                        <li><a href="http://academia.stackexchange.com" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (10)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackexchange.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="http://area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>

            <div id="copyright">
                site design / logo &#169; 2014 stack exchange inc; user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a> 
                with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2014.6.30.1688
            </div>
            
        </div>
    </div>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>
<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    ados.run.push(function () { ados_setKeywords('html,regex,xhtml');; ados_load(); });         
</script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-5620270-1');        
        
        ga('set', 'dimension2', '|html|regex|xhtml|');         
        ga('send', 'pageview');
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
            qc.async=true;
            qc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
            s.parentNode.insertBefore(qc, s);
            var sc=document.createElement('script');
            sc.async=true;
            sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
            s.parentNode.insertBefore(sc, s);
        })();
        _comscore.push({ c1: "2", c2: "17440561" });
        _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>        
    
    </body>
</html>